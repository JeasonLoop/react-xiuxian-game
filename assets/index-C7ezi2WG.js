(function(){const h=document.createElement("link").relList;if(h&&h.supports&&h.supports("modulepreload"))return;for(const E of document.querySelectorAll('link[rel="modulepreload"]'))m(E);new MutationObserver(E=>{for(const p of E)if(p.type==="childList")for(const S of p.addedNodes)S.tagName==="LINK"&&S.rel==="modulepreload"&&m(S)}).observe(document,{childList:!0,subtree:!0});function u(E){const p={};return E.integrity&&(p.integrity=E.integrity),E.referrerPolicy&&(p.referrerPolicy=E.referrerPolicy),E.crossOrigin==="use-credentials"?p.credentials="include":E.crossOrigin==="anonymous"?p.credentials="omit":p.credentials="same-origin",p}function m(E){if(E.ep)return;E.ep=!0;const p=u(E);fetch(E.href,p)}})();function Jo(c){return c&&c.__esModule&&Object.prototype.hasOwnProperty.call(c,"default")?c.default:c}var Ho={exports:{}},kl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var R0;function kh(){if(R0)return kl;R0=1;var c=Symbol.for("react.transitional.element"),h=Symbol.for("react.fragment");function u(m,E,p){var S=null;if(p!==void 0&&(S=""+p),E.key!==void 0&&(S=""+E.key),"key"in E){p={};for(var g in E)g!=="key"&&(p[g]=E[g])}else p=E;return E=p.ref,{$$typeof:c,type:m,key:S,ref:E!==void 0?E:null,props:p}}return kl.Fragment=h,kl.jsx=u,kl.jsxs=u,kl}var z0;function Rh(){return z0||(z0=1,Ho.exports=kh()),Ho.exports}var s=Rh(),Do={exports:{}},Ne={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var O0;function zh(){if(O0)return Ne;O0=1;var c=Symbol.for("react.transitional.element"),h=Symbol.for("react.portal"),u=Symbol.for("react.fragment"),m=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),p=Symbol.for("react.consumer"),S=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),M=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),o=Symbol.for("react.lazy"),f=Symbol.for("react.activity"),x=Symbol.iterator;function N(y){return y===null||typeof y!="object"?null:(y=x&&y[x]||y["@@iterator"],typeof y=="function"?y:null)}var q={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A=Object.assign,H={};function $(y,C,_){this.props=y,this.context=C,this.refs=H,this.updater=_||q}$.prototype.isReactComponent={},$.prototype.setState=function(y,C){if(typeof y!="object"&&typeof y!="function"&&y!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,y,C,"setState")},$.prototype.forceUpdate=function(y){this.updater.enqueueForceUpdate(this,y,"forceUpdate")};function V(){}V.prototype=$.prototype;function T(y,C,_){this.props=y,this.context=C,this.refs=H,this.updater=_||q}var K=T.prototype=new V;K.constructor=T,A(K,$.prototype),K.isPureReactComponent=!0;var ie=Array.isArray;function te(){}var P={H:null,A:null,T:null,S:null},fe=Object.prototype.hasOwnProperty;function I(y,C,_){var U=_.ref;return{$$typeof:c,type:y,key:C,ref:U!==void 0?U:null,props:_}}function oe(y,C){return I(y.type,C,y.props)}function w(y){return typeof y=="object"&&y!==null&&y.$$typeof===c}function ae(y){var C={"=":"=0",":":"=2"};return"$"+y.replace(/[=:]/g,function(_){return C[_]})}var ne=/\/+/g;function J(y,C){return typeof y=="object"&&y!==null&&y.key!=null?ae(""+y.key):C.toString(36)}function R(y){switch(y.status){case"fulfilled":return y.value;case"rejected":throw y.reason;default:switch(typeof y.status=="string"?y.then(te,te):(y.status="pending",y.then(function(C){y.status==="pending"&&(y.status="fulfilled",y.value=C)},function(C){y.status==="pending"&&(y.status="rejected",y.reason=C)})),y.status){case"fulfilled":return y.value;case"rejected":throw y.reason}}throw y}function j(y,C,_,U,le){var re=typeof y;(re==="undefined"||re==="boolean")&&(y=null);var ue=!1;if(y===null)ue=!0;else switch(re){case"bigint":case"string":case"number":ue=!0;break;case"object":switch(y.$$typeof){case c:case h:ue=!0;break;case o:return ue=y._init,j(ue(y._payload),C,_,U,le)}}if(ue)return le=le(y),ue=U===""?"."+J(y,0):U,ie(le)?(_="",ue!=null&&(_=ue.replace(ne,"$&/")+"/"),j(le,C,_,"",function(ve){return ve})):le!=null&&(w(le)&&(le=oe(le,_+(le.key==null||y&&y.key===le.key?"":(""+le.key).replace(ne,"$&/")+"/")+ue)),C.push(le)),1;ue=0;var de=U===""?".":U+":";if(ie(y))for(var pe=0;pe<y.length;pe++)U=y[pe],re=de+J(U,pe),ue+=j(U,C,_,re,le);else if(pe=N(y),typeof pe=="function")for(y=pe.call(y),pe=0;!(U=y.next()).done;)U=U.value,re=de+J(U,pe++),ue+=j(U,C,_,re,le);else if(re==="object"){if(typeof y.then=="function")return j(R(y),C,_,U,le);throw C=String(y),Error("Objects are not valid as a React child (found: "+(C==="[object Object]"?"object with keys {"+Object.keys(y).join(", ")+"}":C)+"). If you meant to render a collection of children, use an array instead.")}return ue}function O(y,C,_){if(y==null)return y;var U=[],le=0;return j(y,U,"","",function(re){return C.call(_,re,le++)}),U}function B(y){if(y._status===-1){var C=y._result;C=C(),C.then(function(_){(y._status===0||y._status===-1)&&(y._status=1,y._result=_)},function(_){(y._status===0||y._status===-1)&&(y._status=2,y._result=_)}),y._status===-1&&(y._status=0,y._result=C)}if(y._status===1)return y._result.default;throw y._result}var ce=typeof reportError=="function"?reportError:function(y){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var C=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof y=="object"&&y!==null&&typeof y.message=="string"?String(y.message):String(y),error:y});if(!window.dispatchEvent(C))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",y);return}console.error(y)},F={map:O,forEach:function(y,C,_){O(y,function(){C.apply(this,arguments)},_)},count:function(y){var C=0;return O(y,function(){C++}),C},toArray:function(y){return O(y,function(C){return C})||[]},only:function(y){if(!w(y))throw Error("React.Children.only expected to receive a single React element child.");return y}};return Ne.Activity=f,Ne.Children=F,Ne.Component=$,Ne.Fragment=u,Ne.Profiler=E,Ne.PureComponent=T,Ne.StrictMode=m,Ne.Suspense=M,Ne.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=P,Ne.__COMPILER_RUNTIME={__proto__:null,c:function(y){return P.H.useMemoCache(y)}},Ne.cache=function(y){return function(){return y.apply(null,arguments)}},Ne.cacheSignal=function(){return null},Ne.cloneElement=function(y,C,_){if(y==null)throw Error("The argument must be a React element, but you passed "+y+".");var U=A({},y.props),le=y.key;if(C!=null)for(re in C.key!==void 0&&(le=""+C.key),C)!fe.call(C,re)||re==="key"||re==="__self"||re==="__source"||re==="ref"&&C.ref===void 0||(U[re]=C[re]);var re=arguments.length-2;if(re===1)U.children=_;else if(1<re){for(var ue=Array(re),de=0;de<re;de++)ue[de]=arguments[de+2];U.children=ue}return I(y.type,le,U)},Ne.createContext=function(y){return y={$$typeof:S,_currentValue:y,_currentValue2:y,_threadCount:0,Provider:null,Consumer:null},y.Provider=y,y.Consumer={$$typeof:p,_context:y},y},Ne.createElement=function(y,C,_){var U,le={},re=null;if(C!=null)for(U in C.key!==void 0&&(re=""+C.key),C)fe.call(C,U)&&U!=="key"&&U!=="__self"&&U!=="__source"&&(le[U]=C[U]);var ue=arguments.length-2;if(ue===1)le.children=_;else if(1<ue){for(var de=Array(ue),pe=0;pe<ue;pe++)de[pe]=arguments[pe+2];le.children=de}if(y&&y.defaultProps)for(U in ue=y.defaultProps,ue)le[U]===void 0&&(le[U]=ue[U]);return I(y,re,le)},Ne.createRef=function(){return{current:null}},Ne.forwardRef=function(y){return{$$typeof:g,render:y}},Ne.isValidElement=w,Ne.lazy=function(y){return{$$typeof:o,_payload:{_status:-1,_result:y},_init:B}},Ne.memo=function(y,C){return{$$typeof:d,type:y,compare:C===void 0?null:C}},Ne.startTransition=function(y){var C=P.T,_={};P.T=_;try{var U=y(),le=P.S;le!==null&&le(_,U),typeof U=="object"&&U!==null&&typeof U.then=="function"&&U.then(te,ce)}catch(re){ce(re)}finally{C!==null&&_.types!==null&&(C.types=_.types),P.T=C}},Ne.unstable_useCacheRefresh=function(){return P.H.useCacheRefresh()},Ne.use=function(y){return P.H.use(y)},Ne.useActionState=function(y,C,_){return P.H.useActionState(y,C,_)},Ne.useCallback=function(y,C){return P.H.useCallback(y,C)},Ne.useContext=function(y){return P.H.useContext(y)},Ne.useDebugValue=function(){},Ne.useDeferredValue=function(y,C){return P.H.useDeferredValue(y,C)},Ne.useEffect=function(y,C){return P.H.useEffect(y,C)},Ne.useEffectEvent=function(y){return P.H.useEffectEvent(y)},Ne.useId=function(){return P.H.useId()},Ne.useImperativeHandle=function(y,C,_){return P.H.useImperativeHandle(y,C,_)},Ne.useInsertionEffect=function(y,C){return P.H.useInsertionEffect(y,C)},Ne.useLayoutEffect=function(y,C){return P.H.useLayoutEffect(y,C)},Ne.useMemo=function(y,C){return P.H.useMemo(y,C)},Ne.useOptimistic=function(y,C){return P.H.useOptimistic(y,C)},Ne.useReducer=function(y,C,_){return P.H.useReducer(y,C,_)},Ne.useRef=function(y){return P.H.useRef(y)},Ne.useState=function(y){return P.H.useState(y)},Ne.useSyncExternalStore=function(y,C,_){return P.H.useSyncExternalStore(y,C,_)},Ne.useTransition=function(){return P.H.useTransition()},Ne.version="19.2.0",Ne}var T0;function Ko(){return T0||(T0=1,Do.exports=zh()),Do.exports}var X=Ko();const Wt=Jo(X);var $o={exports:{}},Rl={},Uo={exports:{}},Bo={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _0;function Oh(){return _0||(_0=1,(function(c){function h(j,O){var B=j.length;j.push(O);e:for(;0<B;){var ce=B-1>>>1,F=j[ce];if(0<E(F,O))j[ce]=O,j[B]=F,B=ce;else break e}}function u(j){return j.length===0?null:j[0]}function m(j){if(j.length===0)return null;var O=j[0],B=j.pop();if(B!==O){j[0]=B;e:for(var ce=0,F=j.length,y=F>>>1;ce<y;){var C=2*(ce+1)-1,_=j[C],U=C+1,le=j[U];if(0>E(_,B))U<F&&0>E(le,_)?(j[ce]=le,j[U]=B,ce=U):(j[ce]=_,j[C]=B,ce=C);else if(U<F&&0>E(le,B))j[ce]=le,j[U]=B,ce=U;else break e}}return O}function E(j,O){var B=j.sortIndex-O.sortIndex;return B!==0?B:j.id-O.id}if(c.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var p=performance;c.unstable_now=function(){return p.now()}}else{var S=Date,g=S.now();c.unstable_now=function(){return S.now()-g}}var M=[],d=[],o=1,f=null,x=3,N=!1,q=!1,A=!1,H=!1,$=typeof setTimeout=="function"?setTimeout:null,V=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;function K(j){for(var O=u(d);O!==null;){if(O.callback===null)m(d);else if(O.startTime<=j)m(d),O.sortIndex=O.expirationTime,h(M,O);else break;O=u(d)}}function ie(j){if(A=!1,K(j),!q)if(u(M)!==null)q=!0,te||(te=!0,ae());else{var O=u(d);O!==null&&R(ie,O.startTime-j)}}var te=!1,P=-1,fe=5,I=-1;function oe(){return H?!0:!(c.unstable_now()-I<fe)}function w(){if(H=!1,te){var j=c.unstable_now();I=j;var O=!0;try{e:{q=!1,A&&(A=!1,V(P),P=-1),N=!0;var B=x;try{t:{for(K(j),f=u(M);f!==null&&!(f.expirationTime>j&&oe());){var ce=f.callback;if(typeof ce=="function"){f.callback=null,x=f.priorityLevel;var F=ce(f.expirationTime<=j);if(j=c.unstable_now(),typeof F=="function"){f.callback=F,K(j),O=!0;break t}f===u(M)&&m(M),K(j)}else m(M);f=u(M)}if(f!==null)O=!0;else{var y=u(d);y!==null&&R(ie,y.startTime-j),O=!1}}break e}finally{f=null,x=B,N=!1}O=void 0}}finally{O?ae():te=!1}}}var ae;if(typeof T=="function")ae=function(){T(w)};else if(typeof MessageChannel<"u"){var ne=new MessageChannel,J=ne.port2;ne.port1.onmessage=w,ae=function(){J.postMessage(null)}}else ae=function(){$(w,0)};function R(j,O){P=$(function(){j(c.unstable_now())},O)}c.unstable_IdlePriority=5,c.unstable_ImmediatePriority=1,c.unstable_LowPriority=4,c.unstable_NormalPriority=3,c.unstable_Profiling=null,c.unstable_UserBlockingPriority=2,c.unstable_cancelCallback=function(j){j.callback=null},c.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):fe=0<j?Math.floor(1e3/j):5},c.unstable_getCurrentPriorityLevel=function(){return x},c.unstable_next=function(j){switch(x){case 1:case 2:case 3:var O=3;break;default:O=x}var B=x;x=O;try{return j()}finally{x=B}},c.unstable_requestPaint=function(){H=!0},c.unstable_runWithPriority=function(j,O){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var B=x;x=j;try{return O()}finally{x=B}},c.unstable_scheduleCallback=function(j,O,B){var ce=c.unstable_now();switch(typeof B=="object"&&B!==null?(B=B.delay,B=typeof B=="number"&&0<B?ce+B:ce):B=ce,j){case 1:var F=-1;break;case 2:F=250;break;case 5:F=1073741823;break;case 4:F=1e4;break;default:F=5e3}return F=B+F,j={id:o++,callback:O,priorityLevel:j,startTime:B,expirationTime:F,sortIndex:-1},B>ce?(j.sortIndex=B,h(d,j),u(M)===null&&j===u(d)&&(A?(V(P),P=-1):A=!0,R(ie,B-ce))):(j.sortIndex=F,h(M,j),q||N||(q=!0,te||(te=!0,ae()))),j},c.unstable_shouldYield=oe,c.unstable_wrapCallback=function(j){var O=x;return function(){var B=x;x=O;try{return j.apply(this,arguments)}finally{x=B}}}})(Bo)),Bo}var H0;function Th(){return H0||(H0=1,Uo.exports=Oh()),Uo.exports}var Go={exports:{}},mt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var D0;function _h(){if(D0)return mt;D0=1;var c=Ko();function h(M){var d="https://react.dev/errors/"+M;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)d+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+M+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function u(){}var m={d:{f:u,r:function(){throw Error(h(522))},D:u,C:u,L:u,m:u,X:u,S:u,M:u},p:0,findDOMNode:null},E=Symbol.for("react.portal");function p(M,d,o){var f=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:E,key:f==null?null:""+f,children:M,containerInfo:d,implementation:o}}var S=c.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(M,d){if(M==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return mt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=m,mt.createPortal=function(M,d){var o=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(h(299));return p(M,d,null,o)},mt.flushSync=function(M){var d=S.T,o=m.p;try{if(S.T=null,m.p=2,M)return M()}finally{S.T=d,m.p=o,m.d.f()}},mt.preconnect=function(M,d){typeof M=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,m.d.C(M,d))},mt.prefetchDNS=function(M){typeof M=="string"&&m.d.D(M)},mt.preinit=function(M,d){if(typeof M=="string"&&d&&typeof d.as=="string"){var o=d.as,f=g(o,d.crossOrigin),x=typeof d.integrity=="string"?d.integrity:void 0,N=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;o==="style"?m.d.S(M,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:f,integrity:x,fetchPriority:N}):o==="script"&&m.d.X(M,{crossOrigin:f,integrity:x,fetchPriority:N,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},mt.preinitModule=function(M,d){if(typeof M=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var o=g(d.as,d.crossOrigin);m.d.M(M,{crossOrigin:o,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&m.d.M(M)},mt.preload=function(M,d){if(typeof M=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var o=d.as,f=g(o,d.crossOrigin);m.d.L(M,o,{crossOrigin:f,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},mt.preloadModule=function(M,d){if(typeof M=="string")if(d){var o=g(d.as,d.crossOrigin);m.d.m(M,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:o,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else m.d.m(M)},mt.requestFormReset=function(M){m.d.r(M)},mt.unstable_batchedUpdates=function(M,d){return M(d)},mt.useFormState=function(M,d,o){return S.H.useFormState(M,d,o)},mt.useFormStatus=function(){return S.H.useHostTransitionStatus()},mt.version="19.2.0",mt}var $0;function Hh(){if($0)return Go.exports;$0=1;function c(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(c)}catch(h){console.error(h)}}return c(),Go.exports=_h(),Go.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var U0;function Dh(){if(U0)return Rl;U0=1;var c=Th(),h=Ko(),u=Hh();function m(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function E(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function p(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function S(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function g(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function M(e){if(p(e)!==e)throw Error(m(188))}function d(e){var t=e.alternate;if(!t){if(t=p(e),t===null)throw Error(m(188));return t!==e?null:e}for(var n=e,a=t;;){var l=n.return;if(l===null)break;var i=l.alternate;if(i===null){if(a=l.return,a!==null){n=a;continue}break}if(l.child===i.child){for(i=l.child;i;){if(i===n)return M(l),e;if(i===a)return M(l),t;i=i.sibling}throw Error(m(188))}if(n.return!==a.return)n=l,a=i;else{for(var r=!1,b=l.child;b;){if(b===n){r=!0,n=l,a=i;break}if(b===a){r=!0,a=l,n=i;break}b=b.sibling}if(!r){for(b=i.child;b;){if(b===n){r=!0,n=i,a=l;break}if(b===a){r=!0,a=i,n=l;break}b=b.sibling}if(!r)throw Error(m(189))}}if(n.alternate!==a)throw Error(m(190))}if(n.tag!==3)throw Error(m(188));return n.stateNode.current===n?e:t}function o(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=o(e),t!==null)return t;e=e.sibling}return null}var f=Object.assign,x=Symbol.for("react.element"),N=Symbol.for("react.transitional.element"),q=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),H=Symbol.for("react.strict_mode"),$=Symbol.for("react.profiler"),V=Symbol.for("react.consumer"),T=Symbol.for("react.context"),K=Symbol.for("react.forward_ref"),ie=Symbol.for("react.suspense"),te=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),fe=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),oe=Symbol.for("react.memo_cache_sentinel"),w=Symbol.iterator;function ae(e){return e===null||typeof e!="object"?null:(e=w&&e[w]||e["@@iterator"],typeof e=="function"?e:null)}var ne=Symbol.for("react.client.reference");function J(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===ne?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case A:return"Fragment";case $:return"Profiler";case H:return"StrictMode";case ie:return"Suspense";case te:return"SuspenseList";case I:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case q:return"Portal";case T:return e.displayName||"Context";case V:return(e._context.displayName||"Context")+".Consumer";case K:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case P:return t=e.displayName||null,t!==null?t:J(e.type)||"Memo";case fe:t=e._payload,e=e._init;try{return J(e(t))}catch{}}return null}var R=Array.isArray,j=h.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,O=u.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,B={pending:!1,data:null,method:null,action:null},ce=[],F=-1;function y(e){return{current:e}}function C(e){0>F||(e.current=ce[F],ce[F]=null,F--)}function _(e,t){F++,ce[F]=e.current,e.current=t}var U=y(null),le=y(null),re=y(null),ue=y(null);function de(e,t){switch(_(re,t),_(le,e),_(U,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?e0(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=e0(t),e=t0(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}C(U),_(U,e)}function pe(){C(U),C(le),C(re)}function ve(e){e.memoizedState!==null&&_(ue,e);var t=U.current,n=t0(t,e.type);t!==n&&(_(le,e),_(U,n))}function Se(e){le.current===e&&(C(U),C(le)),ue.current===e&&(C(ue),Al._currentValue=B)}var Ye,We;function kt(e){if(Ye===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Ye=t&&t[1]||"",We=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ye+e+We}var Dn=!1;function $n(e,t){if(!e||Dn)return"";Dn=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var a={DetermineComponentFrameRoot:function(){try{if(t){var se=function(){throw Error()};if(Object.defineProperty(se.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(se,[])}catch(Z){var Q=Z}Reflect.construct(e,[],se)}else{try{se.call()}catch(Z){Q=Z}e.call(se.prototype)}}else{try{throw Error()}catch(Z){Q=Z}(se=e())&&typeof se.catch=="function"&&se.catch(function(){})}}catch(Z){if(Z&&Q&&typeof Z.stack=="string")return[Z.stack,Q.stack]}return[null,null]}};a.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var l=Object.getOwnPropertyDescriptor(a.DetermineComponentFrameRoot,"name");l&&l.configurable&&Object.defineProperty(a.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var i=a.DetermineComponentFrameRoot(),r=i[0],b=i[1];if(r&&b){var z=r.split(`
`),L=b.split(`
`);for(l=a=0;a<z.length&&!z[a].includes("DetermineComponentFrameRoot");)a++;for(;l<L.length&&!L[l].includes("DetermineComponentFrameRoot");)l++;if(a===z.length||l===L.length)for(a=z.length-1,l=L.length-1;1<=a&&0<=l&&z[a]!==L[l];)l--;for(;1<=a&&0<=l;a--,l--)if(z[a]!==L[l]){if(a!==1||l!==1)do if(a--,l--,0>l||z[a]!==L[l]){var W=`
`+z[a].replace(" at new "," at ");return e.displayName&&W.includes("<anonymous>")&&(W=W.replace("<anonymous>",e.displayName)),W}while(1<=a&&0<=l);break}}}finally{Dn=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?kt(n):""}function Gl(e,t){switch(e.tag){case 26:case 27:case 5:return kt(e.type);case 16:return kt("Lazy");case 13:return e.child!==t&&t!==null?kt("Suspense Fallback"):kt("Suspense");case 19:return kt("SuspenseList");case 0:case 15:return $n(e.type,!1);case 11:return $n(e.type.render,!1);case 1:return $n(e.type,!0);case 31:return kt("Activity");default:return""}}function Yl(e){try{var t="",n=null;do t+=Gl(e,n),n=e,e=e.return;while(e);return t}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}var ga=Object.prototype.hasOwnProperty,zs=c.unstable_scheduleCallback,La=c.unstable_cancelCallback,gt=c.unstable_shouldYield,Ll=c.unstable_requestPaint,Le=c.unstable_now,Qa=c.unstable_getCurrentPriorityLevel,Ql=c.unstable_ImmediatePriority,Va=c.unstable_UserBlockingPriority,pn=c.unstable_NormalPriority,Os=c.unstable_LowPriority,sn=c.unstable_IdlePriority,va=c.log,Mc=c.unstable_setDisableYieldValue,Un=null,lt=null;function Ft(e){if(typeof va=="function"&&Mc(e),lt&&typeof lt.setStrictMode=="function")try{lt.setStrictMode(Un,e)}catch{}}var ht=Math.clz32?Math.clz32:Xl,Vl=Math.log,qc=Math.LN2;function Xl(e){return e>>>=0,e===0?32:31-(Vl(e)/qc|0)|0}var vt=256,ja=262144,Bn=4194304;function ln(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Sa(e,t,n){var a=e.pendingLanes;if(a===0)return 0;var l=0,i=e.suspendedLanes,r=e.pingedLanes;e=e.warmLanes;var b=a&134217727;return b!==0?(a=b&~i,a!==0?l=ln(a):(r&=b,r!==0?l=ln(r):n||(n=b&~e,n!==0&&(l=ln(n))))):(b=a&~i,b!==0?l=ln(b):r!==0?l=ln(r):n||(n=a&~e,n!==0&&(l=ln(n)))),l===0?0:t!==0&&t!==l&&(t&i)===0&&(i=l&-l,n=t&-t,i>=n||i===32&&(n&4194048)!==0)?t:l}function Gn(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function Na(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ts(){var e=Bn;return Bn<<=1,(Bn&62914560)===0&&(Bn=4194304),e}function _s(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function hn(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Hs(e,t,n,a,l,i){var r=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var b=e.entanglements,z=e.expirationTimes,L=e.hiddenUpdates;for(n=r&~n;0<n;){var W=31-ht(n),se=1<<W;b[W]=0,z[W]=-1;var Q=L[W];if(Q!==null)for(L[W]=null,W=0;W<Q.length;W++){var Z=Q[W];Z!==null&&(Z.lane&=-536870913)}n&=~se}a!==0&&Zl(e,a,0),i!==0&&l===0&&e.tag!==0&&(e.suspendedLanes|=i&~(r&~t))}function Zl(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var a=31-ht(t);e.entangledLanes|=t,e.entanglements[a]=e.entanglements[a]|1073741824|n&261930}function Xa(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var a=31-ht(n),l=1<<a;l&t|e[a]&t&&(e[a]|=t),n&=~l}}function Jl(e,t){var n=t&-t;return n=(n&42)!==0?1:cn(n),(n&(e.suspendedLanes|t))!==0?0:n}function cn(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Ds(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Kl(){var e=O.p;return e!==0?e:(e=window.event,e===void 0?32:M0(e.type))}function Il(e,t){var n=O.p;try{return O.p=e,t()}finally{O.p=n}}var rn=Math.random().toString(36).slice(2),at="__reactFiber$"+rn,ft="__reactProps$"+rn,Yn="__reactContainer$"+rn,$s="__reactEvents$"+rn,Ac="__reactListeners$"+rn,wc="__reactHandles$"+rn,Wl="__reactResources$"+rn,Ma="__reactMarker$"+rn;function Us(e){delete e[at],delete e[ft],delete e[$s],delete e[Ac],delete e[wc]}function Ln(e){var t=e[at];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Yn]||n[at]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=r0(e);e!==null;){if(n=e[at])return n;e=r0(e)}return t}e=n,n=e.parentNode}return null}function Qn(e){if(e=e[at]||e[Yn]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function qa(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(m(33))}function Vn(e){var t=e[Wl];return t||(t=e[Wl]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Fe(e){e[Ma]=!0}var Fl=new Set,Pl={};function xn(e,t){Xn(e,t),Xn(e+"Capture",t)}function Xn(e,t){for(Pl[e]=t,e=0;e<t.length;e++)Fl.add(t[e])}var Cc=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ei={},ti={};function Ec(e){return ga.call(ti,e)?!0:ga.call(ei,e)?!1:Cc.test(e)?ti[e]=!0:(ei[e]=!0,!1)}function Za(e,t,n){if(Ec(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var a=t.toLowerCase().slice(0,5);if(a!=="data-"&&a!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+n)}}function Ja(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+n)}}function Pt(e,t,n,a){if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(t,n,""+a)}}function jt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ni(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function kc(e,t,n){var a=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var l=a.get,i=a.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return l.call(this)},set:function(r){n=""+r,i.call(this,r)}}),Object.defineProperty(e,t,{enumerable:a.enumerable}),{getValue:function(){return n},setValue:function(r){n=""+r},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Bs(e){if(!e._valueTracker){var t=ni(e)?"checked":"value";e._valueTracker=kc(e,t,""+e[t])}}function ai(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),a="";return e&&(a=ni(e)?e.checked?"true":"false":e.value),e=a,e!==n?(t.setValue(e),!0):!1}function Aa(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var si=/[\n"\\]/g;function St(e){return e.replace(si,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function li(e,t,n,a,l,i,r,b){e.name="",r!=null&&typeof r!="function"&&typeof r!="symbol"&&typeof r!="boolean"?e.type=r:e.removeAttribute("type"),t!=null?r==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+jt(t)):e.value!==""+jt(t)&&(e.value=""+jt(t)):r!=="submit"&&r!=="reset"||e.removeAttribute("value"),t!=null?Gs(e,r,jt(t)):n!=null?Gs(e,r,jt(n)):a!=null&&e.removeAttribute("value"),l==null&&i!=null&&(e.defaultChecked=!!i),l!=null&&(e.checked=l&&typeof l!="function"&&typeof l!="symbol"),b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?e.name=""+jt(b):e.removeAttribute("name")}function ii(e,t,n,a,l,i,r,b){if(i!=null&&typeof i!="function"&&typeof i!="symbol"&&typeof i!="boolean"&&(e.type=i),t!=null||n!=null){if(!(i!=="submit"&&i!=="reset"||t!=null)){Bs(e);return}n=n!=null?""+jt(n):"",t=t!=null?""+jt(t):n,b||t===e.value||(e.value=t),e.defaultValue=t}a=a??l,a=typeof a!="function"&&typeof a!="symbol"&&!!a,e.checked=b?e.checked:!!a,e.defaultChecked=!!a,r!=null&&typeof r!="function"&&typeof r!="symbol"&&typeof r!="boolean"&&(e.name=r),Bs(e)}function Gs(e,t,n){t==="number"&&Aa(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function Zn(e,t,n,a){if(e=e.options,t){t={};for(var l=0;l<n.length;l++)t["$"+n[l]]=!0;for(n=0;n<e.length;n++)l=t.hasOwnProperty("$"+e[n].value),e[n].selected!==l&&(e[n].selected=l),l&&a&&(e[n].defaultSelected=!0)}else{for(n=""+jt(n),t=null,l=0;l<e.length;l++){if(e[l].value===n){e[l].selected=!0,a&&(e[l].defaultSelected=!0);return}t!==null||e[l].disabled||(t=e[l])}t!==null&&(t.selected=!0)}}function Ys(e,t,n){if(t!=null&&(t=""+jt(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n!=null?""+jt(n):""}function he(e,t,n,a){if(t==null){if(a!=null){if(n!=null)throw Error(m(92));if(R(a)){if(1<a.length)throw Error(m(93));a=a[0]}n=a}n==null&&(n=""),t=n}n=jt(t),e.defaultValue=n,a=e.textContent,a===n&&a!==""&&a!==null&&(e.value=a),Bs(e)}function Te(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Ut=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function xt(e,t,n){var a=t.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?a?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":a?e.setProperty(t,n):typeof n!="number"||n===0||Ut.has(t)?t==="float"?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function yn(e,t,n){if(t!=null&&typeof t!="object")throw Error(m(62));if(e=e.style,n!=null){for(var a in n)!n.hasOwnProperty(a)||t!=null&&t.hasOwnProperty(a)||(a.indexOf("--")===0?e.setProperty(a,""):a==="float"?e.cssFloat="":e[a]="");for(var l in t)a=t[l],t.hasOwnProperty(l)&&n[l]!==a&&xt(e,l,a)}else for(var i in t)t.hasOwnProperty(i)&&xt(e,i,t[i])}function Bt(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ka=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Rc=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Gt(e){return Rc.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Yt(){}var zc=null;function Oc(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ia=null,Wa=null;function Fo(e){var t=Qn(e);if(t&&(e=t.stateNode)){var n=e[ft]||null;e:switch(e=t.stateNode,t.type){case"input":if(li(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+St(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var a=n[t];if(a!==e&&a.form===e.form){var l=a[ft]||null;if(!l)throw Error(m(90));li(a,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name)}}for(t=0;t<n.length;t++)a=n[t],a.form===e.form&&ai(a)}break e;case"textarea":Ys(e,n.value,n.defaultValue);break e;case"select":t=n.value,t!=null&&Zn(e,!!n.multiple,t,!1)}}}var Tc=!1;function Po(e,t,n){if(Tc)return e(t,n);Tc=!0;try{var a=e(t);return a}finally{if(Tc=!1,(Ia!==null||Wa!==null)&&(Zi(),Ia&&(t=Ia,e=Wa,Wa=Ia=null,Fo(t),e)))for(t=0;t<e.length;t++)Fo(e[t])}}function Ls(e,t){var n=e.stateNode;if(n===null)return null;var a=n[ft]||null;if(a===null)return null;n=a[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(e=e.type,a=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!a;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(m(231,t,typeof n));return n}var bn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),_c=!1;if(bn)try{var Qs={};Object.defineProperty(Qs,"passive",{get:function(){_c=!0}}),window.addEventListener("test",Qs,Qs),window.removeEventListener("test",Qs,Qs)}catch{_c=!1}var Jn=null,Hc=null,ci=null;function eu(){if(ci)return ci;var e,t=Hc,n=t.length,a,l="value"in Jn?Jn.value:Jn.textContent,i=l.length;for(e=0;e<n&&t[e]===l[e];e++);var r=n-e;for(a=1;a<=r&&t[n-a]===l[i-a];a++);return ci=l.slice(e,1<a?1-a:void 0)}function ri(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function oi(){return!0}function tu(){return!1}function Nt(e){function t(n,a,l,i,r){this._reactName=n,this._targetInst=l,this.type=a,this.nativeEvent=i,this.target=r,this.currentTarget=null;for(var b in e)e.hasOwnProperty(b)&&(n=e[b],this[b]=n?n(i):i[b]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?oi:tu,this.isPropagationStopped=tu,this}return f(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=oi)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=oi)},persist:function(){},isPersistent:oi}),t}var wa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ui=Nt(wa),Vs=f({},wa,{view:0,detail:0}),Cm=Nt(Vs),Dc,$c,Xs,di=f({},Vs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Bc,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Xs&&(Xs&&e.type==="mousemove"?(Dc=e.screenX-Xs.screenX,$c=e.screenY-Xs.screenY):$c=Dc=0,Xs=e),Dc)},movementY:function(e){return"movementY"in e?e.movementY:$c}}),nu=Nt(di),Em=f({},di,{dataTransfer:0}),km=Nt(Em),Rm=f({},Vs,{relatedTarget:0}),Uc=Nt(Rm),zm=f({},wa,{animationName:0,elapsedTime:0,pseudoElement:0}),Om=Nt(zm),Tm=f({},wa,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),_m=Nt(Tm),Hm=f({},wa,{data:0}),au=Nt(Hm),Dm={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},$m={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Um={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Bm(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Um[e])?!!t[e]:!1}function Bc(){return Bm}var Gm=f({},Vs,{key:function(e){if(e.key){var t=Dm[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ri(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?$m[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Bc,charCode:function(e){return e.type==="keypress"?ri(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ri(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Ym=Nt(Gm),Lm=f({},di,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),su=Nt(Lm),Qm=f({},Vs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Bc}),Vm=Nt(Qm),Xm=f({},wa,{propertyName:0,elapsedTime:0,pseudoElement:0}),Zm=Nt(Xm),Jm=f({},di,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Km=Nt(Jm),Im=f({},wa,{newState:0,oldState:0}),Wm=Nt(Im),Fm=[9,13,27,32],Gc=bn&&"CompositionEvent"in window,Zs=null;bn&&"documentMode"in document&&(Zs=document.documentMode);var Pm=bn&&"TextEvent"in window&&!Zs,lu=bn&&(!Gc||Zs&&8<Zs&&11>=Zs),iu=" ",cu=!1;function ru(e,t){switch(e){case"keyup":return Fm.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ou(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Fa=!1;function ep(e,t){switch(e){case"compositionend":return ou(t);case"keypress":return t.which!==32?null:(cu=!0,iu);case"textInput":return e=t.data,e===iu&&cu?null:e;default:return null}}function tp(e,t){if(Fa)return e==="compositionend"||!Gc&&ru(e,t)?(e=eu(),ci=Hc=Jn=null,Fa=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return lu&&t.locale!=="ko"?null:t.data;default:return null}}var np={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function uu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!np[e.type]:t==="textarea"}function du(e,t,n,a){Ia?Wa?Wa.push(a):Wa=[a]:Ia=a,t=ec(t,"onChange"),0<t.length&&(n=new ui("onChange","change",null,n,a),e.push({event:n,listeners:t}))}var Js=null,Ks=null;function ap(e){Jf(e,0)}function fi(e){var t=qa(e);if(ai(t))return e}function fu(e,t){if(e==="change")return t}var mu=!1;if(bn){var Yc;if(bn){var Lc="oninput"in document;if(!Lc){var pu=document.createElement("div");pu.setAttribute("oninput","return;"),Lc=typeof pu.oninput=="function"}Yc=Lc}else Yc=!1;mu=Yc&&(!document.documentMode||9<document.documentMode)}function hu(){Js&&(Js.detachEvent("onpropertychange",xu),Ks=Js=null)}function xu(e){if(e.propertyName==="value"&&fi(Ks)){var t=[];du(t,Ks,e,Oc(e)),Po(ap,t)}}function sp(e,t,n){e==="focusin"?(hu(),Js=t,Ks=n,Js.attachEvent("onpropertychange",xu)):e==="focusout"&&hu()}function lp(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return fi(Ks)}function ip(e,t){if(e==="click")return fi(t)}function cp(e,t){if(e==="input"||e==="change")return fi(t)}function rp(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Rt=typeof Object.is=="function"?Object.is:rp;function Is(e,t){if(Rt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),a=Object.keys(t);if(n.length!==a.length)return!1;for(a=0;a<n.length;a++){var l=n[a];if(!ga.call(t,l)||!Rt(e[l],t[l]))return!1}return!0}function yu(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function bu(e,t){var n=yu(e);e=0;for(var a;n;){if(n.nodeType===3){if(a=e+n.textContent.length,e<=t&&a>=t)return{node:n,offset:t-e};e=a}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=yu(n)}}function gu(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?gu(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function vu(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Aa(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Aa(e.document)}return t}function Qc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var op=bn&&"documentMode"in document&&11>=document.documentMode,Pa=null,Vc=null,Ws=null,Xc=!1;function ju(e,t,n){var a=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Xc||Pa==null||Pa!==Aa(a)||(a=Pa,"selectionStart"in a&&Qc(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),Ws&&Is(Ws,a)||(Ws=a,a=ec(Vc,"onSelect"),0<a.length&&(t=new ui("onSelect","select",null,t,n),e.push({event:t,listeners:a}),t.target=Pa)))}function Ca(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var es={animationend:Ca("Animation","AnimationEnd"),animationiteration:Ca("Animation","AnimationIteration"),animationstart:Ca("Animation","AnimationStart"),transitionrun:Ca("Transition","TransitionRun"),transitionstart:Ca("Transition","TransitionStart"),transitioncancel:Ca("Transition","TransitionCancel"),transitionend:Ca("Transition","TransitionEnd")},Zc={},Su={};bn&&(Su=document.createElement("div").style,"AnimationEvent"in window||(delete es.animationend.animation,delete es.animationiteration.animation,delete es.animationstart.animation),"TransitionEvent"in window||delete es.transitionend.transition);function Ea(e){if(Zc[e])return Zc[e];if(!es[e])return e;var t=es[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Su)return Zc[e]=t[n];return e}var Nu=Ea("animationend"),Mu=Ea("animationiteration"),qu=Ea("animationstart"),up=Ea("transitionrun"),dp=Ea("transitionstart"),fp=Ea("transitioncancel"),Au=Ea("transitionend"),wu=new Map,Jc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Jc.push("scrollEnd");function en(e,t){wu.set(e,t),xn(t,[e])}var mi=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Lt=[],ts=0,Kc=0;function pi(){for(var e=ts,t=Kc=ts=0;t<e;){var n=Lt[t];Lt[t++]=null;var a=Lt[t];Lt[t++]=null;var l=Lt[t];Lt[t++]=null;var i=Lt[t];if(Lt[t++]=null,a!==null&&l!==null){var r=a.pending;r===null?l.next=l:(l.next=r.next,r.next=l),a.pending=l}i!==0&&Cu(n,l,i)}}function hi(e,t,n,a){Lt[ts++]=e,Lt[ts++]=t,Lt[ts++]=n,Lt[ts++]=a,Kc|=a,e.lanes|=a,e=e.alternate,e!==null&&(e.lanes|=a)}function Ic(e,t,n,a){return hi(e,t,n,a),xi(e)}function ka(e,t){return hi(e,null,null,t),xi(e)}function Cu(e,t,n){e.lanes|=n;var a=e.alternate;a!==null&&(a.lanes|=n);for(var l=!1,i=e.return;i!==null;)i.childLanes|=n,a=i.alternate,a!==null&&(a.childLanes|=n),i.tag===22&&(e=i.stateNode,e===null||e._visibility&1||(l=!0)),e=i,i=i.return;return e.tag===3?(i=e.stateNode,l&&t!==null&&(l=31-ht(n),e=i.hiddenUpdates,a=e[l],a===null?e[l]=[t]:a.push(t),t.lane=n|536870912),i):null}function xi(e){if(50<gl)throw gl=0,lo=null,Error(m(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var ns={};function mp(e,t,n,a){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function zt(e,t,n,a){return new mp(e,t,n,a)}function Wc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function gn(e,t){var n=e.alternate;return n===null?(n=zt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function Eu(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function yi(e,t,n,a,l,i){var r=0;if(a=e,typeof e=="function")Wc(e)&&(r=1);else if(typeof e=="string")r=bh(e,n,U.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case I:return e=zt(31,n,t,l),e.elementType=I,e.lanes=i,e;case A:return Ra(n.children,l,i,t);case H:r=8,l|=24;break;case $:return e=zt(12,n,t,l|2),e.elementType=$,e.lanes=i,e;case ie:return e=zt(13,n,t,l),e.elementType=ie,e.lanes=i,e;case te:return e=zt(19,n,t,l),e.elementType=te,e.lanes=i,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case T:r=10;break e;case V:r=9;break e;case K:r=11;break e;case P:r=14;break e;case fe:r=16,a=null;break e}r=29,n=Error(m(130,e===null?"null":typeof e,"")),a=null}return t=zt(r,n,t,l),t.elementType=e,t.type=a,t.lanes=i,t}function Ra(e,t,n,a){return e=zt(7,e,a,t),e.lanes=n,e}function Fc(e,t,n){return e=zt(6,e,null,t),e.lanes=n,e}function ku(e){var t=zt(18,null,null,0);return t.stateNode=e,t}function Pc(e,t,n){return t=zt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Ru=new WeakMap;function Qt(e,t){if(typeof e=="object"&&e!==null){var n=Ru.get(e);return n!==void 0?n:(t={value:e,source:t,stack:Yl(t)},Ru.set(e,t),t)}return{value:e,source:t,stack:Yl(t)}}var as=[],ss=0,bi=null,Fs=0,Vt=[],Xt=0,Kn=null,on=1,un="";function vn(e,t){as[ss++]=Fs,as[ss++]=bi,bi=e,Fs=t}function zu(e,t,n){Vt[Xt++]=on,Vt[Xt++]=un,Vt[Xt++]=Kn,Kn=e;var a=on;e=un;var l=32-ht(a)-1;a&=~(1<<l),n+=1;var i=32-ht(t)+l;if(30<i){var r=l-l%5;i=(a&(1<<r)-1).toString(32),a>>=r,l-=r,on=1<<32-ht(t)+l|n<<l|a,un=i+e}else on=1<<i|n<<l|a,un=e}function er(e){e.return!==null&&(vn(e,1),zu(e,1,0))}function tr(e){for(;e===bi;)bi=as[--ss],as[ss]=null,Fs=as[--ss],as[ss]=null;for(;e===Kn;)Kn=Vt[--Xt],Vt[Xt]=null,un=Vt[--Xt],Vt[Xt]=null,on=Vt[--Xt],Vt[Xt]=null}function Ou(e,t){Vt[Xt++]=on,Vt[Xt++]=un,Vt[Xt++]=Kn,on=t.id,un=t.overflow,Kn=e}var rt=null,Qe=null,Re=!1,In=null,Zt=!1,nr=Error(m(519));function Wn(e){var t=Error(m(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ps(Qt(t,e)),nr}function Tu(e){var t=e.stateNode,n=e.type,a=e.memoizedProps;switch(t[at]=e,t[ft]=a,n){case"dialog":Ce("cancel",t),Ce("close",t);break;case"iframe":case"object":case"embed":Ce("load",t);break;case"video":case"audio":for(n=0;n<jl.length;n++)Ce(jl[n],t);break;case"source":Ce("error",t);break;case"img":case"image":case"link":Ce("error",t),Ce("load",t);break;case"details":Ce("toggle",t);break;case"input":Ce("invalid",t),ii(t,a.value,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name,!0);break;case"select":Ce("invalid",t);break;case"textarea":Ce("invalid",t),he(t,a.value,a.defaultValue,a.children)}n=a.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||t.textContent===""+n||a.suppressHydrationWarning===!0||Ff(t.textContent,n)?(a.popover!=null&&(Ce("beforetoggle",t),Ce("toggle",t)),a.onScroll!=null&&Ce("scroll",t),a.onScrollEnd!=null&&Ce("scrollend",t),a.onClick!=null&&(t.onclick=Yt),t=!0):t=!1,t||Wn(e,!0)}function _u(e){for(rt=e.return;rt;)switch(rt.tag){case 5:case 31:case 13:Zt=!1;return;case 27:case 3:Zt=!0;return;default:rt=rt.return}}function ls(e){if(e!==rt)return!1;if(!Re)return _u(e),Re=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!=="form"&&n!=="button")||jo(e.type,e.memoizedProps)),n=!n),n&&Qe&&Wn(e),_u(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(m(317));Qe=c0(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(m(317));Qe=c0(e)}else t===27?(t=Qe,da(e.type)?(e=Ao,Ao=null,Qe=e):Qe=t):Qe=rt?Kt(e.stateNode.nextSibling):null;return!0}function za(){Qe=rt=null,Re=!1}function ar(){var e=In;return e!==null&&(wt===null?wt=e:wt.push.apply(wt,e),In=null),e}function Ps(e){In===null?In=[e]:In.push(e)}var sr=y(null),Oa=null,jn=null;function Fn(e,t,n){_(sr,t._currentValue),t._currentValue=n}function Sn(e){e._currentValue=sr.current,C(sr)}function lr(e,t,n){for(;e!==null;){var a=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,a!==null&&(a.childLanes|=t)):a!==null&&(a.childLanes&t)!==t&&(a.childLanes|=t),e===n)break;e=e.return}}function ir(e,t,n,a){var l=e.child;for(l!==null&&(l.return=e);l!==null;){var i=l.dependencies;if(i!==null){var r=l.child;i=i.firstContext;e:for(;i!==null;){var b=i;i=l;for(var z=0;z<t.length;z++)if(b.context===t[z]){i.lanes|=n,b=i.alternate,b!==null&&(b.lanes|=n),lr(i.return,n,e),a||(r=null);break e}i=b.next}}else if(l.tag===18){if(r=l.return,r===null)throw Error(m(341));r.lanes|=n,i=r.alternate,i!==null&&(i.lanes|=n),lr(r,n,e),r=null}else r=l.child;if(r!==null)r.return=l;else for(r=l;r!==null;){if(r===e){r=null;break}if(l=r.sibling,l!==null){l.return=r.return,r=l;break}r=r.return}l=r}}function is(e,t,n,a){e=null;for(var l=t,i=!1;l!==null;){if(!i){if((l.flags&524288)!==0)i=!0;else if((l.flags&262144)!==0)break}if(l.tag===10){var r=l.alternate;if(r===null)throw Error(m(387));if(r=r.memoizedProps,r!==null){var b=l.type;Rt(l.pendingProps.value,r.value)||(e!==null?e.push(b):e=[b])}}else if(l===ue.current){if(r=l.alternate,r===null)throw Error(m(387));r.memoizedState.memoizedState!==l.memoizedState.memoizedState&&(e!==null?e.push(Al):e=[Al])}l=l.return}e!==null&&ir(t,e,n,a),t.flags|=262144}function gi(e){for(e=e.firstContext;e!==null;){if(!Rt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ta(e){Oa=e,jn=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function ot(e){return Hu(Oa,e)}function vi(e,t){return Oa===null&&Ta(e),Hu(e,t)}function Hu(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},jn===null){if(e===null)throw Error(m(308));jn=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else jn=jn.next=t;return n}var pp=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(n,a){e.push(a)}};this.abort=function(){t.aborted=!0,e.forEach(function(n){return n()})}},hp=c.unstable_scheduleCallback,xp=c.unstable_NormalPriority,Pe={$$typeof:T,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function cr(){return{controller:new pp,data:new Map,refCount:0}}function el(e){e.refCount--,e.refCount===0&&hp(xp,function(){e.controller.abort()})}var tl=null,rr=0,cs=0,rs=null;function yp(e,t){if(tl===null){var n=tl=[];rr=0,cs=fo(),rs={status:"pending",value:void 0,then:function(a){n.push(a)}}}return rr++,t.then(Du,Du),t}function Du(){if(--rr===0&&tl!==null){rs!==null&&(rs.status="fulfilled");var e=tl;tl=null,cs=0,rs=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function bp(e,t){var n=[],a={status:"pending",value:null,reason:null,then:function(l){n.push(l)}};return e.then(function(){a.status="fulfilled",a.value=t;for(var l=0;l<n.length;l++)(0,n[l])(t)},function(l){for(a.status="rejected",a.reason=l,l=0;l<n.length;l++)(0,n[l])(void 0)}),a}var $u=j.S;j.S=function(e,t){Sf=Le(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&yp(e,t),$u!==null&&$u(e,t)};var _a=y(null);function or(){var e=_a.current;return e!==null?e:Ge.pooledCache}function ji(e,t){t===null?_(_a,_a.current):_(_a,t.pool)}function Uu(){var e=or();return e===null?null:{parent:Pe._currentValue,pool:e}}var os=Error(m(460)),ur=Error(m(474)),Si=Error(m(542)),Ni={then:function(){}};function Bu(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Gu(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(Yt,Yt),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Lu(e),e;default:if(typeof t.status=="string")t.then(Yt,Yt);else{if(e=Ge,e!==null&&100<e.shellSuspendCounter)throw Error(m(482));e=t,e.status="pending",e.then(function(a){if(t.status==="pending"){var l=t;l.status="fulfilled",l.value=a}},function(a){if(t.status==="pending"){var l=t;l.status="rejected",l.reason=a}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Lu(e),e}throw Da=t,os}}function Ha(e){try{var t=e._init;return t(e._payload)}catch(n){throw n!==null&&typeof n=="object"&&typeof n.then=="function"?(Da=n,os):n}}var Da=null;function Yu(){if(Da===null)throw Error(m(459));var e=Da;return Da=null,e}function Lu(e){if(e===os||e===Si)throw Error(m(483))}var us=null,nl=0;function Mi(e){var t=nl;return nl+=1,us===null&&(us=[]),Gu(us,e,t)}function al(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function qi(e,t){throw t.$$typeof===x?Error(m(525)):(e=Object.prototype.toString.call(t),Error(m(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Qu(e){function t(G,D){if(e){var Y=G.deletions;Y===null?(G.deletions=[D],G.flags|=16):Y.push(D)}}function n(G,D){if(!e)return null;for(;D!==null;)t(G,D),D=D.sibling;return null}function a(G){for(var D=new Map;G!==null;)G.key!==null?D.set(G.key,G):D.set(G.index,G),G=G.sibling;return D}function l(G,D){return G=gn(G,D),G.index=0,G.sibling=null,G}function i(G,D,Y){return G.index=Y,e?(Y=G.alternate,Y!==null?(Y=Y.index,Y<D?(G.flags|=67108866,D):Y):(G.flags|=67108866,D)):(G.flags|=1048576,D)}function r(G){return e&&G.alternate===null&&(G.flags|=67108866),G}function b(G,D,Y,ee){return D===null||D.tag!==6?(D=Fc(Y,G.mode,ee),D.return=G,D):(D=l(D,Y),D.return=G,D)}function z(G,D,Y,ee){var ge=Y.type;return ge===A?W(G,D,Y.props.children,ee,Y.key):D!==null&&(D.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===fe&&Ha(ge)===D.type)?(D=l(D,Y.props),al(D,Y),D.return=G,D):(D=yi(Y.type,Y.key,Y.props,null,G.mode,ee),al(D,Y),D.return=G,D)}function L(G,D,Y,ee){return D===null||D.tag!==4||D.stateNode.containerInfo!==Y.containerInfo||D.stateNode.implementation!==Y.implementation?(D=Pc(Y,G.mode,ee),D.return=G,D):(D=l(D,Y.children||[]),D.return=G,D)}function W(G,D,Y,ee,ge){return D===null||D.tag!==7?(D=Ra(Y,G.mode,ee,ge),D.return=G,D):(D=l(D,Y),D.return=G,D)}function se(G,D,Y){if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return D=Fc(""+D,G.mode,Y),D.return=G,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case N:return Y=yi(D.type,D.key,D.props,null,G.mode,Y),al(Y,D),Y.return=G,Y;case q:return D=Pc(D,G.mode,Y),D.return=G,D;case fe:return D=Ha(D),se(G,D,Y)}if(R(D)||ae(D))return D=Ra(D,G.mode,Y,null),D.return=G,D;if(typeof D.then=="function")return se(G,Mi(D),Y);if(D.$$typeof===T)return se(G,vi(G,D),Y);qi(G,D)}return null}function Q(G,D,Y,ee){var ge=D!==null?D.key:null;if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return ge!==null?null:b(G,D,""+Y,ee);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case N:return Y.key===ge?z(G,D,Y,ee):null;case q:return Y.key===ge?L(G,D,Y,ee):null;case fe:return Y=Ha(Y),Q(G,D,Y,ee)}if(R(Y)||ae(Y))return ge!==null?null:W(G,D,Y,ee,null);if(typeof Y.then=="function")return Q(G,D,Mi(Y),ee);if(Y.$$typeof===T)return Q(G,D,vi(G,Y),ee);qi(G,Y)}return null}function Z(G,D,Y,ee,ge){if(typeof ee=="string"&&ee!==""||typeof ee=="number"||typeof ee=="bigint")return G=G.get(Y)||null,b(D,G,""+ee,ge);if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case N:return G=G.get(ee.key===null?Y:ee.key)||null,z(D,G,ee,ge);case q:return G=G.get(ee.key===null?Y:ee.key)||null,L(D,G,ee,ge);case fe:return ee=Ha(ee),Z(G,D,Y,ee,ge)}if(R(ee)||ae(ee))return G=G.get(Y)||null,W(D,G,ee,ge,null);if(typeof ee.then=="function")return Z(G,D,Y,Mi(ee),ge);if(ee.$$typeof===T)return Z(G,D,Y,vi(D,ee),ge);qi(D,ee)}return null}function xe(G,D,Y,ee){for(var ge=null,ze=null,ye=D,qe=D=0,ke=null;ye!==null&&qe<Y.length;qe++){ye.index>qe?(ke=ye,ye=null):ke=ye.sibling;var Oe=Q(G,ye,Y[qe],ee);if(Oe===null){ye===null&&(ye=ke);break}e&&ye&&Oe.alternate===null&&t(G,ye),D=i(Oe,D,qe),ze===null?ge=Oe:ze.sibling=Oe,ze=Oe,ye=ke}if(qe===Y.length)return n(G,ye),Re&&vn(G,qe),ge;if(ye===null){for(;qe<Y.length;qe++)ye=se(G,Y[qe],ee),ye!==null&&(D=i(ye,D,qe),ze===null?ge=ye:ze.sibling=ye,ze=ye);return Re&&vn(G,qe),ge}for(ye=a(ye);qe<Y.length;qe++)ke=Z(ye,G,qe,Y[qe],ee),ke!==null&&(e&&ke.alternate!==null&&ye.delete(ke.key===null?qe:ke.key),D=i(ke,D,qe),ze===null?ge=ke:ze.sibling=ke,ze=ke);return e&&ye.forEach(function(xa){return t(G,xa)}),Re&&vn(G,qe),ge}function je(G,D,Y,ee){if(Y==null)throw Error(m(151));for(var ge=null,ze=null,ye=D,qe=D=0,ke=null,Oe=Y.next();ye!==null&&!Oe.done;qe++,Oe=Y.next()){ye.index>qe?(ke=ye,ye=null):ke=ye.sibling;var xa=Q(G,ye,Oe.value,ee);if(xa===null){ye===null&&(ye=ke);break}e&&ye&&xa.alternate===null&&t(G,ye),D=i(xa,D,qe),ze===null?ge=xa:ze.sibling=xa,ze=xa,ye=ke}if(Oe.done)return n(G,ye),Re&&vn(G,qe),ge;if(ye===null){for(;!Oe.done;qe++,Oe=Y.next())Oe=se(G,Oe.value,ee),Oe!==null&&(D=i(Oe,D,qe),ze===null?ge=Oe:ze.sibling=Oe,ze=Oe);return Re&&vn(G,qe),ge}for(ye=a(ye);!Oe.done;qe++,Oe=Y.next())Oe=Z(ye,G,qe,Oe.value,ee),Oe!==null&&(e&&Oe.alternate!==null&&ye.delete(Oe.key===null?qe:Oe.key),D=i(Oe,D,qe),ze===null?ge=Oe:ze.sibling=Oe,ze=Oe);return e&&ye.forEach(function(Eh){return t(G,Eh)}),Re&&vn(G,qe),ge}function Be(G,D,Y,ee){if(typeof Y=="object"&&Y!==null&&Y.type===A&&Y.key===null&&(Y=Y.props.children),typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case N:e:{for(var ge=Y.key;D!==null;){if(D.key===ge){if(ge=Y.type,ge===A){if(D.tag===7){n(G,D.sibling),ee=l(D,Y.props.children),ee.return=G,G=ee;break e}}else if(D.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===fe&&Ha(ge)===D.type){n(G,D.sibling),ee=l(D,Y.props),al(ee,Y),ee.return=G,G=ee;break e}n(G,D);break}else t(G,D);D=D.sibling}Y.type===A?(ee=Ra(Y.props.children,G.mode,ee,Y.key),ee.return=G,G=ee):(ee=yi(Y.type,Y.key,Y.props,null,G.mode,ee),al(ee,Y),ee.return=G,G=ee)}return r(G);case q:e:{for(ge=Y.key;D!==null;){if(D.key===ge)if(D.tag===4&&D.stateNode.containerInfo===Y.containerInfo&&D.stateNode.implementation===Y.implementation){n(G,D.sibling),ee=l(D,Y.children||[]),ee.return=G,G=ee;break e}else{n(G,D);break}else t(G,D);D=D.sibling}ee=Pc(Y,G.mode,ee),ee.return=G,G=ee}return r(G);case fe:return Y=Ha(Y),Be(G,D,Y,ee)}if(R(Y))return xe(G,D,Y,ee);if(ae(Y)){if(ge=ae(Y),typeof ge!="function")throw Error(m(150));return Y=ge.call(Y),je(G,D,Y,ee)}if(typeof Y.then=="function")return Be(G,D,Mi(Y),ee);if(Y.$$typeof===T)return Be(G,D,vi(G,Y),ee);qi(G,Y)}return typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint"?(Y=""+Y,D!==null&&D.tag===6?(n(G,D.sibling),ee=l(D,Y),ee.return=G,G=ee):(n(G,D),ee=Fc(Y,G.mode,ee),ee.return=G,G=ee),r(G)):n(G,D)}return function(G,D,Y,ee){try{nl=0;var ge=Be(G,D,Y,ee);return us=null,ge}catch(ye){if(ye===os||ye===Si)throw ye;var ze=zt(29,ye,null,G.mode);return ze.lanes=ee,ze.return=G,ze}finally{}}}var $a=Qu(!0),Vu=Qu(!1),Pn=!1;function dr(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function fr(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function ea(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function ta(e,t,n){var a=e.updateQueue;if(a===null)return null;if(a=a.shared,(_e&2)!==0){var l=a.pending;return l===null?t.next=t:(t.next=l.next,l.next=t),a.pending=t,t=xi(e),Cu(e,null,n),t}return hi(e,a,t,n),xi(e)}function sl(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194048)!==0)){var a=t.lanes;a&=e.pendingLanes,n|=a,t.lanes=n,Xa(e,n)}}function mr(e,t){var n=e.updateQueue,a=e.alternate;if(a!==null&&(a=a.updateQueue,n===a)){var l=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var r={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};i===null?l=i=r:i=i.next=r,n=n.next}while(n!==null);i===null?l=i=t:i=i.next=t}else l=i=t;n={baseState:a.baseState,firstBaseUpdate:l,lastBaseUpdate:i,shared:a.shared,callbacks:a.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var pr=!1;function ll(){if(pr){var e=rs;if(e!==null)throw e}}function il(e,t,n,a){pr=!1;var l=e.updateQueue;Pn=!1;var i=l.firstBaseUpdate,r=l.lastBaseUpdate,b=l.shared.pending;if(b!==null){l.shared.pending=null;var z=b,L=z.next;z.next=null,r===null?i=L:r.next=L,r=z;var W=e.alternate;W!==null&&(W=W.updateQueue,b=W.lastBaseUpdate,b!==r&&(b===null?W.firstBaseUpdate=L:b.next=L,W.lastBaseUpdate=z))}if(i!==null){var se=l.baseState;r=0,W=L=z=null,b=i;do{var Q=b.lane&-536870913,Z=Q!==b.lane;if(Z?(Ee&Q)===Q:(a&Q)===Q){Q!==0&&Q===cs&&(pr=!0),W!==null&&(W=W.next={lane:0,tag:b.tag,payload:b.payload,callback:null,next:null});e:{var xe=e,je=b;Q=t;var Be=n;switch(je.tag){case 1:if(xe=je.payload,typeof xe=="function"){se=xe.call(Be,se,Q);break e}se=xe;break e;case 3:xe.flags=xe.flags&-65537|128;case 0:if(xe=je.payload,Q=typeof xe=="function"?xe.call(Be,se,Q):xe,Q==null)break e;se=f({},se,Q);break e;case 2:Pn=!0}}Q=b.callback,Q!==null&&(e.flags|=64,Z&&(e.flags|=8192),Z=l.callbacks,Z===null?l.callbacks=[Q]:Z.push(Q))}else Z={lane:Q,tag:b.tag,payload:b.payload,callback:b.callback,next:null},W===null?(L=W=Z,z=se):W=W.next=Z,r|=Q;if(b=b.next,b===null){if(b=l.shared.pending,b===null)break;Z=b,b=Z.next,Z.next=null,l.lastBaseUpdate=Z,l.shared.pending=null}}while(!0);W===null&&(z=se),l.baseState=z,l.firstBaseUpdate=L,l.lastBaseUpdate=W,i===null&&(l.shared.lanes=0),ia|=r,e.lanes=r,e.memoizedState=se}}function Xu(e,t){if(typeof e!="function")throw Error(m(191,e));e.call(t)}function Zu(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)Xu(n[e],t)}var ds=y(null),Ai=y(0);function Ju(e,t){e=Rn,_(Ai,e),_(ds,t),Rn=e|t.baseLanes}function hr(){_(Ai,Rn),_(ds,ds.current)}function xr(){Rn=Ai.current,C(ds),C(Ai)}var Ot=y(null),Jt=null;function na(e){var t=e.alternate;_(Ke,Ke.current&1),_(Ot,e),Jt===null&&(t===null||ds.current!==null||t.memoizedState!==null)&&(Jt=e)}function yr(e){_(Ke,Ke.current),_(Ot,e),Jt===null&&(Jt=e)}function Ku(e){e.tag===22?(_(Ke,Ke.current),_(Ot,e),Jt===null&&(Jt=e)):aa()}function aa(){_(Ke,Ke.current),_(Ot,Ot.current)}function Tt(e){C(Ot),Jt===e&&(Jt=null),C(Ke)}var Ke=y(0);function wi(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||Mo(n)||qo(n)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Nn=0,Me=null,$e=null,et=null,Ci=!1,fs=!1,Ua=!1,Ei=0,cl=0,ms=null,gp=0;function Ze(){throw Error(m(321))}function br(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Rt(e[n],t[n]))return!1;return!0}function gr(e,t,n,a,l,i){return Nn=i,Me=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,j.H=e===null||e.memoizedState===null?zd:Tr,Ua=!1,i=n(a,l),Ua=!1,fs&&(i=Wu(t,n,a,l)),Iu(e),i}function Iu(e){j.H=ul;var t=$e!==null&&$e.next!==null;if(Nn=0,et=$e=Me=null,Ci=!1,cl=0,ms=null,t)throw Error(m(300));e===null||tt||(e=e.dependencies,e!==null&&gi(e)&&(tt=!0))}function Wu(e,t,n,a){Me=e;var l=0;do{if(fs&&(ms=null),cl=0,fs=!1,25<=l)throw Error(m(301));if(l+=1,et=$e=null,e.updateQueue!=null){var i=e.updateQueue;i.lastEffect=null,i.events=null,i.stores=null,i.memoCache!=null&&(i.memoCache.index=0)}j.H=Od,i=t(n,a)}while(fs);return i}function vp(){var e=j.H,t=e.useState()[0];return t=typeof t.then=="function"?rl(t):t,e=e.useState()[0],($e!==null?$e.memoizedState:null)!==e&&(Me.flags|=1024),t}function vr(){var e=Ei!==0;return Ei=0,e}function jr(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function Sr(e){if(Ci){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Ci=!1}Nn=0,et=$e=Me=null,fs=!1,cl=Ei=0,ms=null}function yt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return et===null?Me.memoizedState=et=e:et=et.next=e,et}function Ie(){if($e===null){var e=Me.alternate;e=e!==null?e.memoizedState:null}else e=$e.next;var t=et===null?Me.memoizedState:et.next;if(t!==null)et=t,$e=e;else{if(e===null)throw Me.alternate===null?Error(m(467)):Error(m(310));$e=e,e={memoizedState:$e.memoizedState,baseState:$e.baseState,baseQueue:$e.baseQueue,queue:$e.queue,next:null},et===null?Me.memoizedState=et=e:et=et.next=e}return et}function ki(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function rl(e){var t=cl;return cl+=1,ms===null&&(ms=[]),e=Gu(ms,e,t),t=Me,(et===null?t.memoizedState:et.next)===null&&(t=t.alternate,j.H=t===null||t.memoizedState===null?zd:Tr),e}function Ri(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return rl(e);if(e.$$typeof===T)return ot(e)}throw Error(m(438,String(e)))}function Nr(e){var t=null,n=Me.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var a=Me.alternate;a!==null&&(a=a.updateQueue,a!==null&&(a=a.memoCache,a!=null&&(t={data:a.data.map(function(l){return l.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),n===null&&(n=ki(),Me.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),a=0;a<e;a++)n[a]=oe;return t.index++,n}function Mn(e,t){return typeof t=="function"?t(e):t}function zi(e){var t=Ie();return Mr(t,$e,e)}function Mr(e,t,n){var a=e.queue;if(a===null)throw Error(m(311));a.lastRenderedReducer=n;var l=e.baseQueue,i=a.pending;if(i!==null){if(l!==null){var r=l.next;l.next=i.next,i.next=r}t.baseQueue=l=i,a.pending=null}if(i=e.baseState,l===null)e.memoizedState=i;else{t=l.next;var b=r=null,z=null,L=t,W=!1;do{var se=L.lane&-536870913;if(se!==L.lane?(Ee&se)===se:(Nn&se)===se){var Q=L.revertLane;if(Q===0)z!==null&&(z=z.next={lane:0,revertLane:0,gesture:null,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null}),se===cs&&(W=!0);else if((Nn&Q)===Q){L=L.next,Q===cs&&(W=!0);continue}else se={lane:0,revertLane:L.revertLane,gesture:null,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null},z===null?(b=z=se,r=i):z=z.next=se,Me.lanes|=Q,ia|=Q;se=L.action,Ua&&n(i,se),i=L.hasEagerState?L.eagerState:n(i,se)}else Q={lane:se,revertLane:L.revertLane,gesture:L.gesture,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null},z===null?(b=z=Q,r=i):z=z.next=Q,Me.lanes|=se,ia|=se;L=L.next}while(L!==null&&L!==t);if(z===null?r=i:z.next=b,!Rt(i,e.memoizedState)&&(tt=!0,W&&(n=rs,n!==null)))throw n;e.memoizedState=i,e.baseState=r,e.baseQueue=z,a.lastRenderedState=i}return l===null&&(a.lanes=0),[e.memoizedState,a.dispatch]}function qr(e){var t=Ie(),n=t.queue;if(n===null)throw Error(m(311));n.lastRenderedReducer=e;var a=n.dispatch,l=n.pending,i=t.memoizedState;if(l!==null){n.pending=null;var r=l=l.next;do i=e(i,r.action),r=r.next;while(r!==l);Rt(i,t.memoizedState)||(tt=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,a]}function Fu(e,t,n){var a=Me,l=Ie(),i=Re;if(i){if(n===void 0)throw Error(m(407));n=n()}else n=t();var r=!Rt(($e||l).memoizedState,n);if(r&&(l.memoizedState=n,tt=!0),l=l.queue,Cr(td.bind(null,a,l,e),[e]),l.getSnapshot!==t||r||et!==null&&et.memoizedState.tag&1){if(a.flags|=2048,ps(9,{destroy:void 0},ed.bind(null,a,l,n,t),null),Ge===null)throw Error(m(349));i||(Nn&127)!==0||Pu(a,t,n)}return n}function Pu(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Me.updateQueue,t===null?(t=ki(),Me.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function ed(e,t,n,a){t.value=n,t.getSnapshot=a,nd(t)&&ad(e)}function td(e,t,n){return n(function(){nd(t)&&ad(e)})}function nd(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Rt(e,n)}catch{return!0}}function ad(e){var t=ka(e,2);t!==null&&Ct(t,e,2)}function Ar(e){var t=yt();if(typeof e=="function"){var n=e;if(e=n(),Ua){Ft(!0);try{n()}finally{Ft(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Mn,lastRenderedState:e},t}function sd(e,t,n,a){return e.baseState=n,Mr(e,$e,typeof a=="function"?a:Mn)}function jp(e,t,n,a,l){if(_i(e))throw Error(m(485));if(e=t.action,e!==null){var i={payload:l,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(r){i.listeners.push(r)}};j.T!==null?n(!0):i.isTransition=!1,a(i),n=t.pending,n===null?(i.next=t.pending=i,ld(t,i)):(i.next=n.next,t.pending=n.next=i)}}function ld(e,t){var n=t.action,a=t.payload,l=e.state;if(t.isTransition){var i=j.T,r={};j.T=r;try{var b=n(l,a),z=j.S;z!==null&&z(r,b),id(e,t,b)}catch(L){wr(e,t,L)}finally{i!==null&&r.types!==null&&(i.types=r.types),j.T=i}}else try{i=n(l,a),id(e,t,i)}catch(L){wr(e,t,L)}}function id(e,t,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(a){cd(e,t,a)},function(a){return wr(e,t,a)}):cd(e,t,n)}function cd(e,t,n){t.status="fulfilled",t.value=n,rd(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,ld(e,n)))}function wr(e,t,n){var a=e.pending;if(e.pending=null,a!==null){a=a.next;do t.status="rejected",t.reason=n,rd(t),t=t.next;while(t!==a)}e.action=null}function rd(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function od(e,t){return t}function ud(e,t){if(Re){var n=Ge.formState;if(n!==null){e:{var a=Me;if(Re){if(Qe){t:{for(var l=Qe,i=Zt;l.nodeType!==8;){if(!i){l=null;break t}if(l=Kt(l.nextSibling),l===null){l=null;break t}}i=l.data,l=i==="F!"||i==="F"?l:null}if(l){Qe=Kt(l.nextSibling),a=l.data==="F!";break e}}Wn(a)}a=!1}a&&(t=n[0])}}return n=yt(),n.memoizedState=n.baseState=t,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:od,lastRenderedState:t},n.queue=a,n=Ed.bind(null,Me,a),a.dispatch=n,a=Ar(!1),i=Or.bind(null,Me,!1,a.queue),a=yt(),l={state:t,dispatch:null,action:e,pending:null},a.queue=l,n=jp.bind(null,Me,l,i,n),l.dispatch=n,a.memoizedState=e,[t,n,!1]}function dd(e){var t=Ie();return fd(t,$e,e)}function fd(e,t,n){if(t=Mr(e,t,od)[0],e=zi(Mn)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var a=rl(t)}catch(r){throw r===os?Si:r}else a=t;t=Ie();var l=t.queue,i=l.dispatch;return n!==t.memoizedState&&(Me.flags|=2048,ps(9,{destroy:void 0},Sp.bind(null,l,n),null)),[a,i,e]}function Sp(e,t){e.action=t}function md(e){var t=Ie(),n=$e;if(n!==null)return fd(t,n,e);Ie(),t=t.memoizedState,n=Ie();var a=n.queue.dispatch;return n.memoizedState=e,[t,a,!1]}function ps(e,t,n,a){return e={tag:e,create:n,deps:a,inst:t,next:null},t=Me.updateQueue,t===null&&(t=ki(),Me.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(a=n.next,n.next=e,e.next=a,t.lastEffect=e),e}function pd(){return Ie().memoizedState}function Oi(e,t,n,a){var l=yt();Me.flags|=e,l.memoizedState=ps(1|t,{destroy:void 0},n,a===void 0?null:a)}function Ti(e,t,n,a){var l=Ie();a=a===void 0?null:a;var i=l.memoizedState.inst;$e!==null&&a!==null&&br(a,$e.memoizedState.deps)?l.memoizedState=ps(t,i,n,a):(Me.flags|=e,l.memoizedState=ps(1|t,i,n,a))}function hd(e,t){Oi(8390656,8,e,t)}function Cr(e,t){Ti(2048,8,e,t)}function Np(e){Me.flags|=4;var t=Me.updateQueue;if(t===null)t=ki(),Me.updateQueue=t,t.events=[e];else{var n=t.events;n===null?t.events=[e]:n.push(e)}}function xd(e){var t=Ie().memoizedState;return Np({ref:t,nextImpl:e}),function(){if((_e&2)!==0)throw Error(m(440));return t.impl.apply(void 0,arguments)}}function yd(e,t){return Ti(4,2,e,t)}function bd(e,t){return Ti(4,4,e,t)}function gd(e,t){if(typeof t=="function"){e=e();var n=t(e);return function(){typeof n=="function"?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function vd(e,t,n){n=n!=null?n.concat([e]):null,Ti(4,4,gd.bind(null,t,e),n)}function Er(){}function jd(e,t){var n=Ie();t=t===void 0?null:t;var a=n.memoizedState;return t!==null&&br(t,a[1])?a[0]:(n.memoizedState=[e,t],e)}function Sd(e,t){var n=Ie();t=t===void 0?null:t;var a=n.memoizedState;if(t!==null&&br(t,a[1]))return a[0];if(a=e(),Ua){Ft(!0);try{e()}finally{Ft(!1)}}return n.memoizedState=[a,t],a}function kr(e,t,n){return n===void 0||(Nn&1073741824)!==0&&(Ee&261930)===0?e.memoizedState=t:(e.memoizedState=n,e=Mf(),Me.lanes|=e,ia|=e,n)}function Nd(e,t,n,a){return Rt(n,t)?n:ds.current!==null?(e=kr(e,n,a),Rt(e,t)||(tt=!0),e):(Nn&42)===0||(Nn&1073741824)!==0&&(Ee&261930)===0?(tt=!0,e.memoizedState=n):(e=Mf(),Me.lanes|=e,ia|=e,t)}function Md(e,t,n,a,l){var i=O.p;O.p=i!==0&&8>i?i:8;var r=j.T,b={};j.T=b,Or(e,!1,t,n);try{var z=l(),L=j.S;if(L!==null&&L(b,z),z!==null&&typeof z=="object"&&typeof z.then=="function"){var W=bp(z,a);ol(e,t,W,Dt(e))}else ol(e,t,a,Dt(e))}catch(se){ol(e,t,{then:function(){},status:"rejected",reason:se},Dt())}finally{O.p=i,r!==null&&b.types!==null&&(r.types=b.types),j.T=r}}function Mp(){}function Rr(e,t,n,a){if(e.tag!==5)throw Error(m(476));var l=qd(e).queue;Md(e,l,t,B,n===null?Mp:function(){return Ad(e),n(a)})}function qd(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:B,baseState:B,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Mn,lastRenderedState:B},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Mn,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Ad(e){var t=qd(e);t.next===null&&(t=e.alternate.memoizedState),ol(e,t.next.queue,{},Dt())}function zr(){return ot(Al)}function wd(){return Ie().memoizedState}function Cd(){return Ie().memoizedState}function qp(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=Dt();e=ea(n);var a=ta(t,e,n);a!==null&&(Ct(a,t,n),sl(a,t,n)),t={cache:cr()},e.payload=t;return}t=t.return}}function Ap(e,t,n){var a=Dt();n={lane:a,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},_i(e)?kd(t,n):(n=Ic(e,t,n,a),n!==null&&(Ct(n,e,a),Rd(n,t,a)))}function Ed(e,t,n){var a=Dt();ol(e,t,n,a)}function ol(e,t,n,a){var l={lane:a,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(_i(e))kd(t,l);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var r=t.lastRenderedState,b=i(r,n);if(l.hasEagerState=!0,l.eagerState=b,Rt(b,r))return hi(e,t,l,0),Ge===null&&pi(),!1}catch{}finally{}if(n=Ic(e,t,l,a),n!==null)return Ct(n,e,a),Rd(n,t,a),!0}return!1}function Or(e,t,n,a){if(a={lane:2,revertLane:fo(),gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},_i(e)){if(t)throw Error(m(479))}else t=Ic(e,n,a,2),t!==null&&Ct(t,e,2)}function _i(e){var t=e.alternate;return e===Me||t!==null&&t===Me}function kd(e,t){fs=Ci=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Rd(e,t,n){if((n&4194048)!==0){var a=t.lanes;a&=e.pendingLanes,n|=a,t.lanes=n,Xa(e,n)}}var ul={readContext:ot,use:Ri,useCallback:Ze,useContext:Ze,useEffect:Ze,useImperativeHandle:Ze,useLayoutEffect:Ze,useInsertionEffect:Ze,useMemo:Ze,useReducer:Ze,useRef:Ze,useState:Ze,useDebugValue:Ze,useDeferredValue:Ze,useTransition:Ze,useSyncExternalStore:Ze,useId:Ze,useHostTransitionStatus:Ze,useFormState:Ze,useActionState:Ze,useOptimistic:Ze,useMemoCache:Ze,useCacheRefresh:Ze};ul.useEffectEvent=Ze;var zd={readContext:ot,use:Ri,useCallback:function(e,t){return yt().memoizedState=[e,t===void 0?null:t],e},useContext:ot,useEffect:hd,useImperativeHandle:function(e,t,n){n=n!=null?n.concat([e]):null,Oi(4194308,4,gd.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Oi(4194308,4,e,t)},useInsertionEffect:function(e,t){Oi(4,2,e,t)},useMemo:function(e,t){var n=yt();t=t===void 0?null:t;var a=e();if(Ua){Ft(!0);try{e()}finally{Ft(!1)}}return n.memoizedState=[a,t],a},useReducer:function(e,t,n){var a=yt();if(n!==void 0){var l=n(t);if(Ua){Ft(!0);try{n(t)}finally{Ft(!1)}}}else l=t;return a.memoizedState=a.baseState=l,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:l},a.queue=e,e=e.dispatch=Ap.bind(null,Me,e),[a.memoizedState,e]},useRef:function(e){var t=yt();return e={current:e},t.memoizedState=e},useState:function(e){e=Ar(e);var t=e.queue,n=Ed.bind(null,Me,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:Er,useDeferredValue:function(e,t){var n=yt();return kr(n,e,t)},useTransition:function(){var e=Ar(!1);return e=Md.bind(null,Me,e.queue,!0,!1),yt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var a=Me,l=yt();if(Re){if(n===void 0)throw Error(m(407));n=n()}else{if(n=t(),Ge===null)throw Error(m(349));(Ee&127)!==0||Pu(a,t,n)}l.memoizedState=n;var i={value:n,getSnapshot:t};return l.queue=i,hd(td.bind(null,a,i,e),[e]),a.flags|=2048,ps(9,{destroy:void 0},ed.bind(null,a,i,n,t),null),n},useId:function(){var e=yt(),t=Ge.identifierPrefix;if(Re){var n=un,a=on;n=(a&~(1<<32-ht(a)-1)).toString(32)+n,t="_"+t+"R_"+n,n=Ei++,0<n&&(t+="H"+n.toString(32)),t+="_"}else n=gp++,t="_"+t+"r_"+n.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:zr,useFormState:ud,useActionState:ud,useOptimistic:function(e){var t=yt();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=Or.bind(null,Me,!0,n),n.dispatch=t,[e,t]},useMemoCache:Nr,useCacheRefresh:function(){return yt().memoizedState=qp.bind(null,Me)},useEffectEvent:function(e){var t=yt(),n={impl:e};return t.memoizedState=n,function(){if((_e&2)!==0)throw Error(m(440));return n.impl.apply(void 0,arguments)}}},Tr={readContext:ot,use:Ri,useCallback:jd,useContext:ot,useEffect:Cr,useImperativeHandle:vd,useInsertionEffect:yd,useLayoutEffect:bd,useMemo:Sd,useReducer:zi,useRef:pd,useState:function(){return zi(Mn)},useDebugValue:Er,useDeferredValue:function(e,t){var n=Ie();return Nd(n,$e.memoizedState,e,t)},useTransition:function(){var e=zi(Mn)[0],t=Ie().memoizedState;return[typeof e=="boolean"?e:rl(e),t]},useSyncExternalStore:Fu,useId:wd,useHostTransitionStatus:zr,useFormState:dd,useActionState:dd,useOptimistic:function(e,t){var n=Ie();return sd(n,$e,e,t)},useMemoCache:Nr,useCacheRefresh:Cd};Tr.useEffectEvent=xd;var Od={readContext:ot,use:Ri,useCallback:jd,useContext:ot,useEffect:Cr,useImperativeHandle:vd,useInsertionEffect:yd,useLayoutEffect:bd,useMemo:Sd,useReducer:qr,useRef:pd,useState:function(){return qr(Mn)},useDebugValue:Er,useDeferredValue:function(e,t){var n=Ie();return $e===null?kr(n,e,t):Nd(n,$e.memoizedState,e,t)},useTransition:function(){var e=qr(Mn)[0],t=Ie().memoizedState;return[typeof e=="boolean"?e:rl(e),t]},useSyncExternalStore:Fu,useId:wd,useHostTransitionStatus:zr,useFormState:md,useActionState:md,useOptimistic:function(e,t){var n=Ie();return $e!==null?sd(n,$e,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:Nr,useCacheRefresh:Cd};Od.useEffectEvent=xd;function _r(e,t,n,a){t=e.memoizedState,n=n(a,t),n=n==null?t:f({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Hr={enqueueSetState:function(e,t,n){e=e._reactInternals;var a=Dt(),l=ea(a);l.payload=t,n!=null&&(l.callback=n),t=ta(e,l,a),t!==null&&(Ct(t,e,a),sl(t,e,a))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var a=Dt(),l=ea(a);l.tag=1,l.payload=t,n!=null&&(l.callback=n),t=ta(e,l,a),t!==null&&(Ct(t,e,a),sl(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Dt(),a=ea(n);a.tag=2,t!=null&&(a.callback=t),t=ta(e,a,n),t!==null&&(Ct(t,e,n),sl(t,e,n))}};function Td(e,t,n,a,l,i,r){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(a,i,r):t.prototype&&t.prototype.isPureReactComponent?!Is(n,a)||!Is(l,i):!0}function _d(e,t,n,a){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,a),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,a),t.state!==e&&Hr.enqueueReplaceState(t,t.state,null)}function Ba(e,t){var n=t;if("ref"in t){n={};for(var a in t)a!=="ref"&&(n[a]=t[a])}if(e=e.defaultProps){n===t&&(n=f({},n));for(var l in e)n[l]===void 0&&(n[l]=e[l])}return n}function Hd(e){mi(e)}function Dd(e){console.error(e)}function $d(e){mi(e)}function Hi(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(a){setTimeout(function(){throw a})}}function Ud(e,t,n){try{var a=e.onCaughtError;a(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(l){setTimeout(function(){throw l})}}function Dr(e,t,n){return n=ea(n),n.tag=3,n.payload={element:null},n.callback=function(){Hi(e,t)},n}function Bd(e){return e=ea(e),e.tag=3,e}function Gd(e,t,n,a){var l=n.type.getDerivedStateFromError;if(typeof l=="function"){var i=a.value;e.payload=function(){return l(i)},e.callback=function(){Ud(t,n,a)}}var r=n.stateNode;r!==null&&typeof r.componentDidCatch=="function"&&(e.callback=function(){Ud(t,n,a),typeof l!="function"&&(ca===null?ca=new Set([this]):ca.add(this));var b=a.stack;this.componentDidCatch(a.value,{componentStack:b!==null?b:""})})}function wp(e,t,n,a,l){if(n.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){if(t=n.alternate,t!==null&&is(t,n,l,!0),n=Ot.current,n!==null){switch(n.tag){case 31:case 13:return Jt===null?Ji():n.alternate===null&&Je===0&&(Je=3),n.flags&=-257,n.flags|=65536,n.lanes=l,a===Ni?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([a]):t.add(a),ro(e,a,l)),!1;case 22:return n.flags|=65536,a===Ni?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([a])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([a]):n.add(a)),ro(e,a,l)),!1}throw Error(m(435,n.tag))}return ro(e,a,l),Ji(),!1}if(Re)return t=Ot.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=l,a!==nr&&(e=Error(m(422),{cause:a}),Ps(Qt(e,n)))):(a!==nr&&(t=Error(m(423),{cause:a}),Ps(Qt(t,n))),e=e.current.alternate,e.flags|=65536,l&=-l,e.lanes|=l,a=Qt(a,n),l=Dr(e.stateNode,a,l),mr(e,l),Je!==4&&(Je=2)),!1;var i=Error(m(520),{cause:a});if(i=Qt(i,n),bl===null?bl=[i]:bl.push(i),Je!==4&&(Je=2),t===null)return!0;a=Qt(a,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=l&-l,n.lanes|=e,e=Dr(n.stateNode,a,e),mr(n,e),!1;case 1:if(t=n.type,i=n.stateNode,(n.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||i!==null&&typeof i.componentDidCatch=="function"&&(ca===null||!ca.has(i))))return n.flags|=65536,l&=-l,n.lanes|=l,l=Bd(l),Gd(l,e,n,a),mr(n,l),!1}n=n.return}while(n!==null);return!1}var $r=Error(m(461)),tt=!1;function ut(e,t,n,a){t.child=e===null?Vu(t,null,n,a):$a(t,e.child,n,a)}function Yd(e,t,n,a,l){n=n.render;var i=t.ref;if("ref"in a){var r={};for(var b in a)b!=="ref"&&(r[b]=a[b])}else r=a;return Ta(t),a=gr(e,t,n,r,i,l),b=vr(),e!==null&&!tt?(jr(e,t,l),qn(e,t,l)):(Re&&b&&er(t),t.flags|=1,ut(e,t,a,l),t.child)}function Ld(e,t,n,a,l){if(e===null){var i=n.type;return typeof i=="function"&&!Wc(i)&&i.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=i,Qd(e,t,i,a,l)):(e=yi(n.type,null,a,t,t.mode,l),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!Xr(e,l)){var r=i.memoizedProps;if(n=n.compare,n=n!==null?n:Is,n(r,a)&&e.ref===t.ref)return qn(e,t,l)}return t.flags|=1,e=gn(i,a),e.ref=t.ref,e.return=t,t.child=e}function Qd(e,t,n,a,l){if(e!==null){var i=e.memoizedProps;if(Is(i,a)&&e.ref===t.ref)if(tt=!1,t.pendingProps=a=i,Xr(e,l))(e.flags&131072)!==0&&(tt=!0);else return t.lanes=e.lanes,qn(e,t,l)}return Ur(e,t,n,a,l)}function Vd(e,t,n,a){var l=a.children,i=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.mode==="hidden"){if((t.flags&128)!==0){if(i=i!==null?i.baseLanes|n:n,e!==null){for(a=t.child=e.child,l=0;a!==null;)l=l|a.lanes|a.childLanes,a=a.sibling;a=l&~i}else a=0,t.child=null;return Xd(e,t,i,n,a)}if((n&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&ji(t,i!==null?i.cachePool:null),i!==null?Ju(t,i):hr(),Ku(t);else return a=t.lanes=536870912,Xd(e,t,i!==null?i.baseLanes|n:n,n,a)}else i!==null?(ji(t,i.cachePool),Ju(t,i),aa(),t.memoizedState=null):(e!==null&&ji(t,null),hr(),aa());return ut(e,t,l,n),t.child}function dl(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function Xd(e,t,n,a,l){var i=or();return i=i===null?null:{parent:Pe._currentValue,pool:i},t.memoizedState={baseLanes:n,cachePool:i},e!==null&&ji(t,null),hr(),Ku(t),e!==null&&is(e,t,a,!0),t.childLanes=l,null}function Di(e,t){return t=Ui({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function Zd(e,t,n){return $a(t,e.child,null,n),e=Di(t,t.pendingProps),e.flags|=2,Tt(t),t.memoizedState=null,e}function Cp(e,t,n){var a=t.pendingProps,l=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(Re){if(a.mode==="hidden")return e=Di(t,a),t.lanes=536870912,dl(null,e);if(yr(t),(e=Qe)?(e=i0(e,Zt),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Kn!==null?{id:on,overflow:un}:null,retryLane:536870912,hydrationErrors:null},n=ku(e),n.return=t,t.child=n,rt=t,Qe=null)):e=null,e===null)throw Wn(t);return t.lanes=536870912,null}return Di(t,a)}var i=e.memoizedState;if(i!==null){var r=i.dehydrated;if(yr(t),l)if(t.flags&256)t.flags&=-257,t=Zd(e,t,n);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(m(558));else if(tt||is(e,t,n,!1),l=(n&e.childLanes)!==0,tt||l){if(a=Ge,a!==null&&(r=Jl(a,n),r!==0&&r!==i.retryLane))throw i.retryLane=r,ka(e,r),Ct(a,e,r),$r;Ji(),t=Zd(e,t,n)}else e=i.treeContext,Qe=Kt(r.nextSibling),rt=t,Re=!0,In=null,Zt=!1,e!==null&&Ou(t,e),t=Di(t,a),t.flags|=4096;return t}return e=gn(e.child,{mode:a.mode,children:a.children}),e.ref=t.ref,t.child=e,e.return=t,e}function $i(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(m(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function Ur(e,t,n,a,l){return Ta(t),n=gr(e,t,n,a,void 0,l),a=vr(),e!==null&&!tt?(jr(e,t,l),qn(e,t,l)):(Re&&a&&er(t),t.flags|=1,ut(e,t,n,l),t.child)}function Jd(e,t,n,a,l,i){return Ta(t),t.updateQueue=null,n=Wu(t,a,n,l),Iu(e),a=vr(),e!==null&&!tt?(jr(e,t,i),qn(e,t,i)):(Re&&a&&er(t),t.flags|=1,ut(e,t,n,i),t.child)}function Kd(e,t,n,a,l){if(Ta(t),t.stateNode===null){var i=ns,r=n.contextType;typeof r=="object"&&r!==null&&(i=ot(r)),i=new n(a,i),t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=Hr,t.stateNode=i,i._reactInternals=t,i=t.stateNode,i.props=a,i.state=t.memoizedState,i.refs={},dr(t),r=n.contextType,i.context=typeof r=="object"&&r!==null?ot(r):ns,i.state=t.memoizedState,r=n.getDerivedStateFromProps,typeof r=="function"&&(_r(t,n,r,a),i.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(r=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),r!==i.state&&Hr.enqueueReplaceState(i,i.state,null),il(t,a,i,l),ll(),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308),a=!0}else if(e===null){i=t.stateNode;var b=t.memoizedProps,z=Ba(n,b);i.props=z;var L=i.context,W=n.contextType;r=ns,typeof W=="object"&&W!==null&&(r=ot(W));var se=n.getDerivedStateFromProps;W=typeof se=="function"||typeof i.getSnapshotBeforeUpdate=="function",b=t.pendingProps!==b,W||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(b||L!==r)&&_d(t,i,a,r),Pn=!1;var Q=t.memoizedState;i.state=Q,il(t,a,i,l),ll(),L=t.memoizedState,b||Q!==L||Pn?(typeof se=="function"&&(_r(t,n,se,a),L=t.memoizedState),(z=Pn||Td(t,n,z,a,Q,L,r))?(W||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=a,t.memoizedState=L),i.props=a,i.state=L,i.context=r,a=z):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),a=!1)}else{i=t.stateNode,fr(e,t),r=t.memoizedProps,W=Ba(n,r),i.props=W,se=t.pendingProps,Q=i.context,L=n.contextType,z=ns,typeof L=="object"&&L!==null&&(z=ot(L)),b=n.getDerivedStateFromProps,(L=typeof b=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(r!==se||Q!==z)&&_d(t,i,a,z),Pn=!1,Q=t.memoizedState,i.state=Q,il(t,a,i,l),ll();var Z=t.memoizedState;r!==se||Q!==Z||Pn||e!==null&&e.dependencies!==null&&gi(e.dependencies)?(typeof b=="function"&&(_r(t,n,b,a),Z=t.memoizedState),(W=Pn||Td(t,n,W,a,Q,Z,z)||e!==null&&e.dependencies!==null&&gi(e.dependencies))?(L||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(a,Z,z),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(a,Z,z)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||r===e.memoizedProps&&Q===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||r===e.memoizedProps&&Q===e.memoizedState||(t.flags|=1024),t.memoizedProps=a,t.memoizedState=Z),i.props=a,i.state=Z,i.context=z,a=W):(typeof i.componentDidUpdate!="function"||r===e.memoizedProps&&Q===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||r===e.memoizedProps&&Q===e.memoizedState||(t.flags|=1024),a=!1)}return i=a,$i(e,t),a=(t.flags&128)!==0,i||a?(i=t.stateNode,n=a&&typeof n.getDerivedStateFromError!="function"?null:i.render(),t.flags|=1,e!==null&&a?(t.child=$a(t,e.child,null,l),t.child=$a(t,null,n,l)):ut(e,t,n,l),t.memoizedState=i.state,e=t.child):e=qn(e,t,l),e}function Id(e,t,n,a){return za(),t.flags|=256,ut(e,t,n,a),t.child}var Br={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Gr(e){return{baseLanes:e,cachePool:Uu()}}function Yr(e,t,n){return e=e!==null?e.childLanes&~n:0,t&&(e|=Ht),e}function Wd(e,t,n){var a=t.pendingProps,l=!1,i=(t.flags&128)!==0,r;if((r=i)||(r=e!==null&&e.memoizedState===null?!1:(Ke.current&2)!==0),r&&(l=!0,t.flags&=-129),r=(t.flags&32)!==0,t.flags&=-33,e===null){if(Re){if(l?na(t):aa(),(e=Qe)?(e=i0(e,Zt),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Kn!==null?{id:on,overflow:un}:null,retryLane:536870912,hydrationErrors:null},n=ku(e),n.return=t,t.child=n,rt=t,Qe=null)):e=null,e===null)throw Wn(t);return qo(e)?t.lanes=32:t.lanes=536870912,null}var b=a.children;return a=a.fallback,l?(aa(),l=t.mode,b=Ui({mode:"hidden",children:b},l),a=Ra(a,l,n,null),b.return=t,a.return=t,b.sibling=a,t.child=b,a=t.child,a.memoizedState=Gr(n),a.childLanes=Yr(e,r,n),t.memoizedState=Br,dl(null,a)):(na(t),Lr(t,b))}var z=e.memoizedState;if(z!==null&&(b=z.dehydrated,b!==null)){if(i)t.flags&256?(na(t),t.flags&=-257,t=Qr(e,t,n)):t.memoizedState!==null?(aa(),t.child=e.child,t.flags|=128,t=null):(aa(),b=a.fallback,l=t.mode,a=Ui({mode:"visible",children:a.children},l),b=Ra(b,l,n,null),b.flags|=2,a.return=t,b.return=t,a.sibling=b,t.child=a,$a(t,e.child,null,n),a=t.child,a.memoizedState=Gr(n),a.childLanes=Yr(e,r,n),t.memoizedState=Br,t=dl(null,a));else if(na(t),qo(b)){if(r=b.nextSibling&&b.nextSibling.dataset,r)var L=r.dgst;r=L,a=Error(m(419)),a.stack="",a.digest=r,Ps({value:a,source:null,stack:null}),t=Qr(e,t,n)}else if(tt||is(e,t,n,!1),r=(n&e.childLanes)!==0,tt||r){if(r=Ge,r!==null&&(a=Jl(r,n),a!==0&&a!==z.retryLane))throw z.retryLane=a,ka(e,a),Ct(r,e,a),$r;Mo(b)||Ji(),t=Qr(e,t,n)}else Mo(b)?(t.flags|=192,t.child=e.child,t=null):(e=z.treeContext,Qe=Kt(b.nextSibling),rt=t,Re=!0,In=null,Zt=!1,e!==null&&Ou(t,e),t=Lr(t,a.children),t.flags|=4096);return t}return l?(aa(),b=a.fallback,l=t.mode,z=e.child,L=z.sibling,a=gn(z,{mode:"hidden",children:a.children}),a.subtreeFlags=z.subtreeFlags&65011712,L!==null?b=gn(L,b):(b=Ra(b,l,n,null),b.flags|=2),b.return=t,a.return=t,a.sibling=b,t.child=a,dl(null,a),a=t.child,b=e.child.memoizedState,b===null?b=Gr(n):(l=b.cachePool,l!==null?(z=Pe._currentValue,l=l.parent!==z?{parent:z,pool:z}:l):l=Uu(),b={baseLanes:b.baseLanes|n,cachePool:l}),a.memoizedState=b,a.childLanes=Yr(e,r,n),t.memoizedState=Br,dl(e.child,a)):(na(t),n=e.child,e=n.sibling,n=gn(n,{mode:"visible",children:a.children}),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n)}function Lr(e,t){return t=Ui({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Ui(e,t){return e=zt(22,e,null,t),e.lanes=0,e}function Qr(e,t,n){return $a(t,e.child,null,n),e=Lr(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Fd(e,t,n){e.lanes|=t;var a=e.alternate;a!==null&&(a.lanes|=t),lr(e.return,t,n)}function Vr(e,t,n,a,l,i){var r=e.memoizedState;r===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:a,tail:n,tailMode:l,treeForkCount:i}:(r.isBackwards=t,r.rendering=null,r.renderingStartTime=0,r.last=a,r.tail=n,r.tailMode=l,r.treeForkCount=i)}function Pd(e,t,n){var a=t.pendingProps,l=a.revealOrder,i=a.tail;a=a.children;var r=Ke.current,b=(r&2)!==0;if(b?(r=r&1|2,t.flags|=128):r&=1,_(Ke,r),ut(e,t,a,n),a=Re?Fs:0,!b&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Fd(e,n,t);else if(e.tag===19)Fd(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(l){case"forwards":for(n=t.child,l=null;n!==null;)e=n.alternate,e!==null&&wi(e)===null&&(l=n),n=n.sibling;n=l,n===null?(l=t.child,t.child=null):(l=n.sibling,n.sibling=null),Vr(t,!1,l,n,i,a);break;case"backwards":case"unstable_legacy-backwards":for(n=null,l=t.child,t.child=null;l!==null;){if(e=l.alternate,e!==null&&wi(e)===null){t.child=l;break}e=l.sibling,l.sibling=n,n=l,l=e}Vr(t,!0,n,null,i,a);break;case"together":Vr(t,!1,null,null,void 0,a);break;default:t.memoizedState=null}return t.child}function qn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),ia|=t.lanes,(n&t.childLanes)===0)if(e!==null){if(is(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(m(153));if(t.child!==null){for(e=t.child,n=gn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=gn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Xr(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&gi(e)))}function Ep(e,t,n){switch(t.tag){case 3:de(t,t.stateNode.containerInfo),Fn(t,Pe,e.memoizedState.cache),za();break;case 27:case 5:ve(t);break;case 4:de(t,t.stateNode.containerInfo);break;case 10:Fn(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,yr(t),null;break;case 13:var a=t.memoizedState;if(a!==null)return a.dehydrated!==null?(na(t),t.flags|=128,null):(n&t.child.childLanes)!==0?Wd(e,t,n):(na(t),e=qn(e,t,n),e!==null?e.sibling:null);na(t);break;case 19:var l=(e.flags&128)!==0;if(a=(n&t.childLanes)!==0,a||(is(e,t,n,!1),a=(n&t.childLanes)!==0),l){if(a)return Pd(e,t,n);t.flags|=128}if(l=t.memoizedState,l!==null&&(l.rendering=null,l.tail=null,l.lastEffect=null),_(Ke,Ke.current),a)break;return null;case 22:return t.lanes=0,Vd(e,t,n,t.pendingProps);case 24:Fn(t,Pe,e.memoizedState.cache)}return qn(e,t,n)}function ef(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)tt=!0;else{if(!Xr(e,n)&&(t.flags&128)===0)return tt=!1,Ep(e,t,n);tt=(e.flags&131072)!==0}else tt=!1,Re&&(t.flags&1048576)!==0&&zu(t,Fs,t.index);switch(t.lanes=0,t.tag){case 16:e:{var a=t.pendingProps;if(e=Ha(t.elementType),t.type=e,typeof e=="function")Wc(e)?(a=Ba(e,a),t.tag=1,t=Kd(null,t,e,a,n)):(t.tag=0,t=Ur(null,t,e,a,n));else{if(e!=null){var l=e.$$typeof;if(l===K){t.tag=11,t=Yd(null,t,e,a,n);break e}else if(l===P){t.tag=14,t=Ld(null,t,e,a,n);break e}}throw t=J(e)||e,Error(m(306,t,""))}}return t;case 0:return Ur(e,t,t.type,t.pendingProps,n);case 1:return a=t.type,l=Ba(a,t.pendingProps),Kd(e,t,a,l,n);case 3:e:{if(de(t,t.stateNode.containerInfo),e===null)throw Error(m(387));a=t.pendingProps;var i=t.memoizedState;l=i.element,fr(e,t),il(t,a,null,n);var r=t.memoizedState;if(a=r.cache,Fn(t,Pe,a),a!==i.cache&&ir(t,[Pe],n,!0),ll(),a=r.element,i.isDehydrated)if(i={element:a,isDehydrated:!1,cache:r.cache},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){t=Id(e,t,a,n);break e}else if(a!==l){l=Qt(Error(m(424)),t),Ps(l),t=Id(e,t,a,n);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Qe=Kt(e.firstChild),rt=t,Re=!0,In=null,Zt=!0,n=Vu(t,null,a,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(za(),a===l){t=qn(e,t,n);break e}ut(e,t,a,n)}t=t.child}return t;case 26:return $i(e,t),e===null?(n=f0(t.type,null,t.pendingProps,null))?t.memoizedState=n:Re||(n=t.type,e=t.pendingProps,a=tc(re.current).createElement(n),a[at]=t,a[ft]=e,dt(a,n,e),Fe(a),t.stateNode=a):t.memoizedState=f0(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return ve(t),e===null&&Re&&(a=t.stateNode=o0(t.type,t.pendingProps,re.current),rt=t,Zt=!0,l=Qe,da(t.type)?(Ao=l,Qe=Kt(a.firstChild)):Qe=l),ut(e,t,t.pendingProps.children,n),$i(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&Re&&((l=a=Qe)&&(a=lh(a,t.type,t.pendingProps,Zt),a!==null?(t.stateNode=a,rt=t,Qe=Kt(a.firstChild),Zt=!1,l=!0):l=!1),l||Wn(t)),ve(t),l=t.type,i=t.pendingProps,r=e!==null?e.memoizedProps:null,a=i.children,jo(l,i)?a=null:r!==null&&jo(l,r)&&(t.flags|=32),t.memoizedState!==null&&(l=gr(e,t,vp,null,null,n),Al._currentValue=l),$i(e,t),ut(e,t,a,n),t.child;case 6:return e===null&&Re&&((e=n=Qe)&&(n=ih(n,t.pendingProps,Zt),n!==null?(t.stateNode=n,rt=t,Qe=null,e=!0):e=!1),e||Wn(t)),null;case 13:return Wd(e,t,n);case 4:return de(t,t.stateNode.containerInfo),a=t.pendingProps,e===null?t.child=$a(t,null,a,n):ut(e,t,a,n),t.child;case 11:return Yd(e,t,t.type,t.pendingProps,n);case 7:return ut(e,t,t.pendingProps,n),t.child;case 8:return ut(e,t,t.pendingProps.children,n),t.child;case 12:return ut(e,t,t.pendingProps.children,n),t.child;case 10:return a=t.pendingProps,Fn(t,t.type,a.value),ut(e,t,a.children,n),t.child;case 9:return l=t.type._context,a=t.pendingProps.children,Ta(t),l=ot(l),a=a(l),t.flags|=1,ut(e,t,a,n),t.child;case 14:return Ld(e,t,t.type,t.pendingProps,n);case 15:return Qd(e,t,t.type,t.pendingProps,n);case 19:return Pd(e,t,n);case 31:return Cp(e,t,n);case 22:return Vd(e,t,n,t.pendingProps);case 24:return Ta(t),a=ot(Pe),e===null?(l=or(),l===null&&(l=Ge,i=cr(),l.pooledCache=i,i.refCount++,i!==null&&(l.pooledCacheLanes|=n),l=i),t.memoizedState={parent:a,cache:l},dr(t),Fn(t,Pe,l)):((e.lanes&n)!==0&&(fr(e,t),il(t,null,null,n),ll()),l=e.memoizedState,i=t.memoizedState,l.parent!==a?(l={parent:a,cache:a},t.memoizedState=l,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=l),Fn(t,Pe,a)):(a=i.cache,Fn(t,Pe,a),a!==l.cache&&ir(t,[Pe],n,!0))),ut(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(m(156,t.tag))}function An(e){e.flags|=4}function Zr(e,t,n,a,l){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(l&335544128)===l)if(e.stateNode.complete)e.flags|=8192;else if(Cf())e.flags|=8192;else throw Da=Ni,ur}else e.flags&=-16777217}function tf(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!y0(t))if(Cf())e.flags|=8192;else throw Da=Ni,ur}function Bi(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Ts():536870912,e.lanes|=t,bs|=t)}function fl(e,t){if(!Re)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:a.sibling=null}}function Ve(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,a=0;if(t)for(var l=e.child;l!==null;)n|=l.lanes|l.childLanes,a|=l.subtreeFlags&65011712,a|=l.flags&65011712,l.return=e,l=l.sibling;else for(l=e.child;l!==null;)n|=l.lanes|l.childLanes,a|=l.subtreeFlags,a|=l.flags,l.return=e,l=l.sibling;return e.subtreeFlags|=a,e.childLanes=n,t}function kp(e,t,n){var a=t.pendingProps;switch(tr(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ve(t),null;case 1:return Ve(t),null;case 3:return n=t.stateNode,a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),Sn(Pe),pe(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(ls(t)?An(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,ar())),Ve(t),null;case 26:var l=t.type,i=t.memoizedState;return e===null?(An(t),i!==null?(Ve(t),tf(t,i)):(Ve(t),Zr(t,l,null,a,n))):i?i!==e.memoizedState?(An(t),Ve(t),tf(t,i)):(Ve(t),t.flags&=-16777217):(e=e.memoizedProps,e!==a&&An(t),Ve(t),Zr(t,l,e,a,n)),null;case 27:if(Se(t),n=re.current,l=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==a&&An(t);else{if(!a){if(t.stateNode===null)throw Error(m(166));return Ve(t),null}e=U.current,ls(t)?Tu(t):(e=o0(l,a,n),t.stateNode=e,An(t))}return Ve(t),null;case 5:if(Se(t),l=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==a&&An(t);else{if(!a){if(t.stateNode===null)throw Error(m(166));return Ve(t),null}if(i=U.current,ls(t))Tu(t);else{var r=tc(re.current);switch(i){case 1:i=r.createElementNS("http://www.w3.org/2000/svg",l);break;case 2:i=r.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;default:switch(l){case"svg":i=r.createElementNS("http://www.w3.org/2000/svg",l);break;case"math":i=r.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;case"script":i=r.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof a.is=="string"?r.createElement("select",{is:a.is}):r.createElement("select"),a.multiple?i.multiple=!0:a.size&&(i.size=a.size);break;default:i=typeof a.is=="string"?r.createElement(l,{is:a.is}):r.createElement(l)}}i[at]=t,i[ft]=a;e:for(r=t.child;r!==null;){if(r.tag===5||r.tag===6)i.appendChild(r.stateNode);else if(r.tag!==4&&r.tag!==27&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break e;for(;r.sibling===null;){if(r.return===null||r.return===t)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}t.stateNode=i;e:switch(dt(i,l,a),l){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}a&&An(t)}}return Ve(t),Zr(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==a&&An(t);else{if(typeof a!="string"&&t.stateNode===null)throw Error(m(166));if(e=re.current,ls(t)){if(e=t.stateNode,n=t.memoizedProps,a=null,l=rt,l!==null)switch(l.tag){case 27:case 5:a=l.memoizedProps}e[at]=t,e=!!(e.nodeValue===n||a!==null&&a.suppressHydrationWarning===!0||Ff(e.nodeValue,n)),e||Wn(t,!0)}else e=tc(e).createTextNode(a),e[at]=t,t.stateNode=e}return Ve(t),null;case 31:if(n=t.memoizedState,e===null||e.memoizedState!==null){if(a=ls(t),n!==null){if(e===null){if(!a)throw Error(m(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(m(557));e[at]=t}else za(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Ve(t),e=!1}else n=ar(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return t.flags&256?(Tt(t),t):(Tt(t),null);if((t.flags&128)!==0)throw Error(m(558))}return Ve(t),null;case 13:if(a=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(l=ls(t),a!==null&&a.dehydrated!==null){if(e===null){if(!l)throw Error(m(318));if(l=t.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(m(317));l[at]=t}else za(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Ve(t),l=!1}else l=ar(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=l),l=!0;if(!l)return t.flags&256?(Tt(t),t):(Tt(t),null)}return Tt(t),(t.flags&128)!==0?(t.lanes=n,t):(n=a!==null,e=e!==null&&e.memoizedState!==null,n&&(a=t.child,l=null,a.alternate!==null&&a.alternate.memoizedState!==null&&a.alternate.memoizedState.cachePool!==null&&(l=a.alternate.memoizedState.cachePool.pool),i=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(i=a.memoizedState.cachePool.pool),i!==l&&(a.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),Bi(t,t.updateQueue),Ve(t),null);case 4:return pe(),e===null&&xo(t.stateNode.containerInfo),Ve(t),null;case 10:return Sn(t.type),Ve(t),null;case 19:if(C(Ke),a=t.memoizedState,a===null)return Ve(t),null;if(l=(t.flags&128)!==0,i=a.rendering,i===null)if(l)fl(a,!1);else{if(Je!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(i=wi(e),i!==null){for(t.flags|=128,fl(a,!1),e=i.updateQueue,t.updateQueue=e,Bi(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)Eu(n,e),n=n.sibling;return _(Ke,Ke.current&1|2),Re&&vn(t,a.treeForkCount),t.child}e=e.sibling}a.tail!==null&&Le()>Vi&&(t.flags|=128,l=!0,fl(a,!1),t.lanes=4194304)}else{if(!l)if(e=wi(i),e!==null){if(t.flags|=128,l=!0,e=e.updateQueue,t.updateQueue=e,Bi(t,e),fl(a,!0),a.tail===null&&a.tailMode==="hidden"&&!i.alternate&&!Re)return Ve(t),null}else 2*Le()-a.renderingStartTime>Vi&&n!==536870912&&(t.flags|=128,l=!0,fl(a,!1),t.lanes=4194304);a.isBackwards?(i.sibling=t.child,t.child=i):(e=a.last,e!==null?e.sibling=i:t.child=i,a.last=i)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=Le(),e.sibling=null,n=Ke.current,_(Ke,l?n&1|2:n&1),Re&&vn(t,a.treeForkCount),e):(Ve(t),null);case 22:case 23:return Tt(t),xr(),a=t.memoizedState!==null,e!==null?e.memoizedState!==null!==a&&(t.flags|=8192):a&&(t.flags|=8192),a?(n&536870912)!==0&&(t.flags&128)===0&&(Ve(t),t.subtreeFlags&6&&(t.flags|=8192)):Ve(t),n=t.updateQueue,n!==null&&Bi(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),a=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),a!==n&&(t.flags|=2048),e!==null&&C(_a),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),Sn(Pe),Ve(t),null;case 25:return null;case 30:return null}throw Error(m(156,t.tag))}function Rp(e,t){switch(tr(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Sn(Pe),pe(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Se(t),null;case 31:if(t.memoizedState!==null){if(Tt(t),t.alternate===null)throw Error(m(340));za()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(Tt(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(m(340));za()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return C(Ke),null;case 4:return pe(),null;case 10:return Sn(t.type),null;case 22:case 23:return Tt(t),xr(),e!==null&&C(_a),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return Sn(Pe),null;case 25:return null;default:return null}}function nf(e,t){switch(tr(t),t.tag){case 3:Sn(Pe),pe();break;case 26:case 27:case 5:Se(t);break;case 4:pe();break;case 31:t.memoizedState!==null&&Tt(t);break;case 13:Tt(t);break;case 19:C(Ke);break;case 10:Sn(t.type);break;case 22:case 23:Tt(t),xr(),e!==null&&C(_a);break;case 24:Sn(Pe)}}function ml(e,t){try{var n=t.updateQueue,a=n!==null?n.lastEffect:null;if(a!==null){var l=a.next;n=l;do{if((n.tag&e)===e){a=void 0;var i=n.create,r=n.inst;a=i(),r.destroy=a}n=n.next}while(n!==l)}}catch(b){De(t,t.return,b)}}function sa(e,t,n){try{var a=t.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var i=l.next;a=i;do{if((a.tag&e)===e){var r=a.inst,b=r.destroy;if(b!==void 0){r.destroy=void 0,l=t;var z=n,L=b;try{L()}catch(W){De(l,z,W)}}}a=a.next}while(a!==i)}}catch(W){De(t,t.return,W)}}function af(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{Zu(t,n)}catch(a){De(e,e.return,a)}}}function sf(e,t,n){n.props=Ba(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(a){De(e,t,a)}}function pl(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var a=e.stateNode;break;case 30:a=e.stateNode;break;default:a=e.stateNode}typeof n=="function"?e.refCleanup=n(a):n.current=a}}catch(l){De(e,t,l)}}function dn(e,t){var n=e.ref,a=e.refCleanup;if(n!==null)if(typeof a=="function")try{a()}catch(l){De(e,t,l)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(l){De(e,t,l)}else n.current=null}function lf(e){var t=e.type,n=e.memoizedProps,a=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&a.focus();break e;case"img":n.src?a.src=n.src:n.srcSet&&(a.srcset=n.srcSet)}}catch(l){De(e,e.return,l)}}function Jr(e,t,n){try{var a=e.stateNode;Pp(a,e.type,n,t),a[ft]=t}catch(l){De(e,e.return,l)}}function cf(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&da(e.type)||e.tag===4}function Kr(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||cf(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&da(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Ir(e,t,n){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Yt));else if(a!==4&&(a===27&&da(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(Ir(e,t,n),e=e.sibling;e!==null;)Ir(e,t,n),e=e.sibling}function Gi(e,t,n){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(a!==4&&(a===27&&da(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(Gi(e,t,n),e=e.sibling;e!==null;)Gi(e,t,n),e=e.sibling}function rf(e){var t=e.stateNode,n=e.memoizedProps;try{for(var a=e.type,l=t.attributes;l.length;)t.removeAttributeNode(l[0]);dt(t,a,n),t[at]=e,t[ft]=n}catch(i){De(e,e.return,i)}}var wn=!1,nt=!1,Wr=!1,of=typeof WeakSet=="function"?WeakSet:Set,it=null;function zp(e,t){if(e=e.containerInfo,go=rc,e=vu(e),Qc(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var a=n.getSelection&&n.getSelection();if(a&&a.rangeCount!==0){n=a.anchorNode;var l=a.anchorOffset,i=a.focusNode;a=a.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var r=0,b=-1,z=-1,L=0,W=0,se=e,Q=null;t:for(;;){for(var Z;se!==n||l!==0&&se.nodeType!==3||(b=r+l),se!==i||a!==0&&se.nodeType!==3||(z=r+a),se.nodeType===3&&(r+=se.nodeValue.length),(Z=se.firstChild)!==null;)Q=se,se=Z;for(;;){if(se===e)break t;if(Q===n&&++L===l&&(b=r),Q===i&&++W===a&&(z=r),(Z=se.nextSibling)!==null)break;se=Q,Q=se.parentNode}se=Z}n=b===-1||z===-1?null:{start:b,end:z}}else n=null}n=n||{start:0,end:0}}else n=null;for(vo={focusedElem:e,selectionRange:n},rc=!1,it=t;it!==null;)if(t=it,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,it=e;else for(;it!==null;){switch(t=it,i=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(n=0;n<e.length;n++)l=e[n],l.ref.impl=l.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&i!==null){e=void 0,n=t,l=i.memoizedProps,i=i.memoizedState,a=n.stateNode;try{var xe=Ba(n.type,l);e=a.getSnapshotBeforeUpdate(xe,i),a.__reactInternalSnapshotBeforeUpdate=e}catch(je){De(n,n.return,je)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)No(e);else if(n===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":No(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(m(163))}if(e=t.sibling,e!==null){e.return=t.return,it=e;break}it=t.return}}function uf(e,t,n){var a=n.flags;switch(n.tag){case 0:case 11:case 15:En(e,n),a&4&&ml(5,n);break;case 1:if(En(e,n),a&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(r){De(n,n.return,r)}else{var l=Ba(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(l,t,e.__reactInternalSnapshotBeforeUpdate)}catch(r){De(n,n.return,r)}}a&64&&af(n),a&512&&pl(n,n.return);break;case 3:if(En(e,n),a&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{Zu(e,t)}catch(r){De(n,n.return,r)}}break;case 27:t===null&&a&4&&rf(n);case 26:case 5:En(e,n),t===null&&a&4&&lf(n),a&512&&pl(n,n.return);break;case 12:En(e,n);break;case 31:En(e,n),a&4&&mf(e,n);break;case 13:En(e,n),a&4&&pf(e,n),a&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=Gp.bind(null,n),ch(e,n))));break;case 22:if(a=n.memoizedState!==null||wn,!a){t=t!==null&&t.memoizedState!==null||nt,l=wn;var i=nt;wn=a,(nt=t)&&!i?kn(e,n,(n.subtreeFlags&8772)!==0):En(e,n),wn=l,nt=i}break;case 30:break;default:En(e,n)}}function df(e){var t=e.alternate;t!==null&&(e.alternate=null,df(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&Us(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Xe=null,Mt=!1;function Cn(e,t,n){for(n=n.child;n!==null;)ff(e,t,n),n=n.sibling}function ff(e,t,n){if(lt&&typeof lt.onCommitFiberUnmount=="function")try{lt.onCommitFiberUnmount(Un,n)}catch{}switch(n.tag){case 26:nt||dn(n,t),Cn(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:nt||dn(n,t);var a=Xe,l=Mt;da(n.type)&&(Xe=n.stateNode,Mt=!1),Cn(e,t,n),Nl(n.stateNode),Xe=a,Mt=l;break;case 5:nt||dn(n,t);case 6:if(a=Xe,l=Mt,Xe=null,Cn(e,t,n),Xe=a,Mt=l,Xe!==null)if(Mt)try{(Xe.nodeType===9?Xe.body:Xe.nodeName==="HTML"?Xe.ownerDocument.body:Xe).removeChild(n.stateNode)}catch(i){De(n,t,i)}else try{Xe.removeChild(n.stateNode)}catch(i){De(n,t,i)}break;case 18:Xe!==null&&(Mt?(e=Xe,s0(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,n.stateNode),As(e)):s0(Xe,n.stateNode));break;case 4:a=Xe,l=Mt,Xe=n.stateNode.containerInfo,Mt=!0,Cn(e,t,n),Xe=a,Mt=l;break;case 0:case 11:case 14:case 15:sa(2,n,t),nt||sa(4,n,t),Cn(e,t,n);break;case 1:nt||(dn(n,t),a=n.stateNode,typeof a.componentWillUnmount=="function"&&sf(n,t,a)),Cn(e,t,n);break;case 21:Cn(e,t,n);break;case 22:nt=(a=nt)||n.memoizedState!==null,Cn(e,t,n),nt=a;break;default:Cn(e,t,n)}}function mf(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{As(e)}catch(n){De(t,t.return,n)}}}function pf(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{As(e)}catch(n){De(t,t.return,n)}}function Op(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new of),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new of),t;default:throw Error(m(435,e.tag))}}function Yi(e,t){var n=Op(e);t.forEach(function(a){if(!n.has(a)){n.add(a);var l=Yp.bind(null,e,a);a.then(l,l)}})}function qt(e,t){var n=t.deletions;if(n!==null)for(var a=0;a<n.length;a++){var l=n[a],i=e,r=t,b=r;e:for(;b!==null;){switch(b.tag){case 27:if(da(b.type)){Xe=b.stateNode,Mt=!1;break e}break;case 5:Xe=b.stateNode,Mt=!1;break e;case 3:case 4:Xe=b.stateNode.containerInfo,Mt=!0;break e}b=b.return}if(Xe===null)throw Error(m(160));ff(i,r,l),Xe=null,Mt=!1,i=l.alternate,i!==null&&(i.return=null),l.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)hf(t,e),t=t.sibling}var tn=null;function hf(e,t){var n=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:qt(t,e),At(e),a&4&&(sa(3,e,e.return),ml(3,e),sa(5,e,e.return));break;case 1:qt(t,e),At(e),a&512&&(nt||n===null||dn(n,n.return)),a&64&&wn&&(e=e.updateQueue,e!==null&&(a=e.callbacks,a!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?a:n.concat(a))));break;case 26:var l=tn;if(qt(t,e),At(e),a&512&&(nt||n===null||dn(n,n.return)),a&4){var i=n!==null?n.memoizedState:null;if(a=e.memoizedState,n===null)if(a===null)if(e.stateNode===null){e:{a=e.type,n=e.memoizedProps,l=l.ownerDocument||l;t:switch(a){case"title":i=l.getElementsByTagName("title")[0],(!i||i[Ma]||i[at]||i.namespaceURI==="http://www.w3.org/2000/svg"||i.hasAttribute("itemprop"))&&(i=l.createElement(a),l.head.insertBefore(i,l.querySelector("head > title"))),dt(i,a,n),i[at]=e,Fe(i),a=i;break e;case"link":var r=h0("link","href",l).get(a+(n.href||""));if(r){for(var b=0;b<r.length;b++)if(i=r[b],i.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&i.getAttribute("rel")===(n.rel==null?null:n.rel)&&i.getAttribute("title")===(n.title==null?null:n.title)&&i.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){r.splice(b,1);break t}}i=l.createElement(a),dt(i,a,n),l.head.appendChild(i);break;case"meta":if(r=h0("meta","content",l).get(a+(n.content||""))){for(b=0;b<r.length;b++)if(i=r[b],i.getAttribute("content")===(n.content==null?null:""+n.content)&&i.getAttribute("name")===(n.name==null?null:n.name)&&i.getAttribute("property")===(n.property==null?null:n.property)&&i.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&i.getAttribute("charset")===(n.charSet==null?null:n.charSet)){r.splice(b,1);break t}}i=l.createElement(a),dt(i,a,n),l.head.appendChild(i);break;default:throw Error(m(468,a))}i[at]=e,Fe(i),a=i}e.stateNode=a}else x0(l,e.type,e.stateNode);else e.stateNode=p0(l,a,e.memoizedProps);else i!==a?(i===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):i.count--,a===null?x0(l,e.type,e.stateNode):p0(l,a,e.memoizedProps)):a===null&&e.stateNode!==null&&Jr(e,e.memoizedProps,n.memoizedProps)}break;case 27:qt(t,e),At(e),a&512&&(nt||n===null||dn(n,n.return)),n!==null&&a&4&&Jr(e,e.memoizedProps,n.memoizedProps);break;case 5:if(qt(t,e),At(e),a&512&&(nt||n===null||dn(n,n.return)),e.flags&32){l=e.stateNode;try{Te(l,"")}catch(xe){De(e,e.return,xe)}}a&4&&e.stateNode!=null&&(l=e.memoizedProps,Jr(e,l,n!==null?n.memoizedProps:l)),a&1024&&(Wr=!0);break;case 6:if(qt(t,e),At(e),a&4){if(e.stateNode===null)throw Error(m(162));a=e.memoizedProps,n=e.stateNode;try{n.nodeValue=a}catch(xe){De(e,e.return,xe)}}break;case 3:if(sc=null,l=tn,tn=nc(t.containerInfo),qt(t,e),tn=l,At(e),a&4&&n!==null&&n.memoizedState.isDehydrated)try{As(t.containerInfo)}catch(xe){De(e,e.return,xe)}Wr&&(Wr=!1,xf(e));break;case 4:a=tn,tn=nc(e.stateNode.containerInfo),qt(t,e),At(e),tn=a;break;case 12:qt(t,e),At(e);break;case 31:qt(t,e),At(e),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,Yi(e,a)));break;case 13:qt(t,e),At(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(Qi=Le()),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,Yi(e,a)));break;case 22:l=e.memoizedState!==null;var z=n!==null&&n.memoizedState!==null,L=wn,W=nt;if(wn=L||l,nt=W||z,qt(t,e),nt=W,wn=L,At(e),a&8192)e:for(t=e.stateNode,t._visibility=l?t._visibility&-2:t._visibility|1,l&&(n===null||z||wn||nt||Ga(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){z=n=t;try{if(i=z.stateNode,l)r=i.style,typeof r.setProperty=="function"?r.setProperty("display","none","important"):r.display="none";else{b=z.stateNode;var se=z.memoizedProps.style,Q=se!=null&&se.hasOwnProperty("display")?se.display:null;b.style.display=Q==null||typeof Q=="boolean"?"":(""+Q).trim()}}catch(xe){De(z,z.return,xe)}}}else if(t.tag===6){if(n===null){z=t;try{z.stateNode.nodeValue=l?"":z.memoizedProps}catch(xe){De(z,z.return,xe)}}}else if(t.tag===18){if(n===null){z=t;try{var Z=z.stateNode;l?l0(Z,!0):l0(z.stateNode,!1)}catch(xe){De(z,z.return,xe)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}a&4&&(a=e.updateQueue,a!==null&&(n=a.retryQueue,n!==null&&(a.retryQueue=null,Yi(e,n))));break;case 19:qt(t,e),At(e),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,Yi(e,a)));break;case 30:break;case 21:break;default:qt(t,e),At(e)}}function At(e){var t=e.flags;if(t&2){try{for(var n,a=e.return;a!==null;){if(cf(a)){n=a;break}a=a.return}if(n==null)throw Error(m(160));switch(n.tag){case 27:var l=n.stateNode,i=Kr(e);Gi(e,i,l);break;case 5:var r=n.stateNode;n.flags&32&&(Te(r,""),n.flags&=-33);var b=Kr(e);Gi(e,b,r);break;case 3:case 4:var z=n.stateNode.containerInfo,L=Kr(e);Ir(e,L,z);break;default:throw Error(m(161))}}catch(W){De(e,e.return,W)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function xf(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;xf(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function En(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)uf(e,t.alternate,t),t=t.sibling}function Ga(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:sa(4,t,t.return),Ga(t);break;case 1:dn(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount=="function"&&sf(t,t.return,n),Ga(t);break;case 27:Nl(t.stateNode);case 26:case 5:dn(t,t.return),Ga(t);break;case 22:t.memoizedState===null&&Ga(t);break;case 30:Ga(t);break;default:Ga(t)}e=e.sibling}}function kn(e,t,n){for(n=n&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var a=t.alternate,l=e,i=t,r=i.flags;switch(i.tag){case 0:case 11:case 15:kn(l,i,n),ml(4,i);break;case 1:if(kn(l,i,n),a=i,l=a.stateNode,typeof l.componentDidMount=="function")try{l.componentDidMount()}catch(L){De(a,a.return,L)}if(a=i,l=a.updateQueue,l!==null){var b=a.stateNode;try{var z=l.shared.hiddenCallbacks;if(z!==null)for(l.shared.hiddenCallbacks=null,l=0;l<z.length;l++)Xu(z[l],b)}catch(L){De(a,a.return,L)}}n&&r&64&&af(i),pl(i,i.return);break;case 27:rf(i);case 26:case 5:kn(l,i,n),n&&a===null&&r&4&&lf(i),pl(i,i.return);break;case 12:kn(l,i,n);break;case 31:kn(l,i,n),n&&r&4&&mf(l,i);break;case 13:kn(l,i,n),n&&r&4&&pf(l,i);break;case 22:i.memoizedState===null&&kn(l,i,n),pl(i,i.return);break;case 30:break;default:kn(l,i,n)}t=t.sibling}}function Fr(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&el(n))}function Pr(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&el(e))}function nn(e,t,n,a){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)yf(e,t,n,a),t=t.sibling}function yf(e,t,n,a){var l=t.flags;switch(t.tag){case 0:case 11:case 15:nn(e,t,n,a),l&2048&&ml(9,t);break;case 1:nn(e,t,n,a);break;case 3:nn(e,t,n,a),l&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&el(e)));break;case 12:if(l&2048){nn(e,t,n,a),e=t.stateNode;try{var i=t.memoizedProps,r=i.id,b=i.onPostCommit;typeof b=="function"&&b(r,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(z){De(t,t.return,z)}}else nn(e,t,n,a);break;case 31:nn(e,t,n,a);break;case 13:nn(e,t,n,a);break;case 23:break;case 22:i=t.stateNode,r=t.alternate,t.memoizedState!==null?i._visibility&2?nn(e,t,n,a):hl(e,t):i._visibility&2?nn(e,t,n,a):(i._visibility|=2,hs(e,t,n,a,(t.subtreeFlags&10256)!==0||!1)),l&2048&&Fr(r,t);break;case 24:nn(e,t,n,a),l&2048&&Pr(t.alternate,t);break;default:nn(e,t,n,a)}}function hs(e,t,n,a,l){for(l=l&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var i=e,r=t,b=n,z=a,L=r.flags;switch(r.tag){case 0:case 11:case 15:hs(i,r,b,z,l),ml(8,r);break;case 23:break;case 22:var W=r.stateNode;r.memoizedState!==null?W._visibility&2?hs(i,r,b,z,l):hl(i,r):(W._visibility|=2,hs(i,r,b,z,l)),l&&L&2048&&Fr(r.alternate,r);break;case 24:hs(i,r,b,z,l),l&&L&2048&&Pr(r.alternate,r);break;default:hs(i,r,b,z,l)}t=t.sibling}}function hl(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,a=t,l=a.flags;switch(a.tag){case 22:hl(n,a),l&2048&&Fr(a.alternate,a);break;case 24:hl(n,a),l&2048&&Pr(a.alternate,a);break;default:hl(n,a)}t=t.sibling}}var xl=8192;function xs(e,t,n){if(e.subtreeFlags&xl)for(e=e.child;e!==null;)bf(e,t,n),e=e.sibling}function bf(e,t,n){switch(e.tag){case 26:xs(e,t,n),e.flags&xl&&e.memoizedState!==null&&gh(n,tn,e.memoizedState,e.memoizedProps);break;case 5:xs(e,t,n);break;case 3:case 4:var a=tn;tn=nc(e.stateNode.containerInfo),xs(e,t,n),tn=a;break;case 22:e.memoizedState===null&&(a=e.alternate,a!==null&&a.memoizedState!==null?(a=xl,xl=16777216,xs(e,t,n),xl=a):xs(e,t,n));break;default:xs(e,t,n)}}function gf(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function yl(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var a=t[n];it=a,jf(a,e)}gf(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)vf(e),e=e.sibling}function vf(e){switch(e.tag){case 0:case 11:case 15:yl(e),e.flags&2048&&sa(9,e,e.return);break;case 3:yl(e);break;case 12:yl(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Li(e)):yl(e);break;default:yl(e)}}function Li(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var a=t[n];it=a,jf(a,e)}gf(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:sa(8,t,t.return),Li(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,Li(t));break;default:Li(t)}e=e.sibling}}function jf(e,t){for(;it!==null;){var n=it;switch(n.tag){case 0:case 11:case 15:sa(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var a=n.memoizedState.cachePool.pool;a!=null&&a.refCount++}break;case 24:el(n.memoizedState.cache)}if(a=n.child,a!==null)a.return=n,it=a;else e:for(n=e;it!==null;){a=it;var l=a.sibling,i=a.return;if(df(a),a===n){it=null;break e}if(l!==null){l.return=i,it=l;break e}it=i}}}var Tp={getCacheForType:function(e){var t=ot(Pe),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return ot(Pe).controller.signal}},_p=typeof WeakMap=="function"?WeakMap:Map,_e=0,Ge=null,we=null,Ee=0,He=0,_t=null,la=!1,ys=!1,eo=!1,Rn=0,Je=0,ia=0,Ya=0,to=0,Ht=0,bs=0,bl=null,wt=null,no=!1,Qi=0,Sf=0,Vi=1/0,Xi=null,ca=null,st=0,ra=null,gs=null,zn=0,ao=0,so=null,Nf=null,gl=0,lo=null;function Dt(){return(_e&2)!==0&&Ee!==0?Ee&-Ee:j.T!==null?fo():Kl()}function Mf(){if(Ht===0)if((Ee&536870912)===0||Re){var e=ja;ja<<=1,(ja&3932160)===0&&(ja=262144),Ht=e}else Ht=536870912;return e=Ot.current,e!==null&&(e.flags|=32),Ht}function Ct(e,t,n){(e===Ge&&(He===2||He===9)||e.cancelPendingCommit!==null)&&(vs(e,0),oa(e,Ee,Ht,!1)),hn(e,n),((_e&2)===0||e!==Ge)&&(e===Ge&&((_e&2)===0&&(Ya|=n),Je===4&&oa(e,Ee,Ht,!1)),fn(e))}function qf(e,t,n){if((_e&6)!==0)throw Error(m(327));var a=!n&&(t&127)===0&&(t&e.expiredLanes)===0||Gn(e,t),l=a?$p(e,t):co(e,t,!0),i=a;do{if(l===0){ys&&!a&&oa(e,t,0,!1);break}else{if(n=e.current.alternate,i&&!Hp(n)){l=co(e,t,!1),i=!1;continue}if(l===2){if(i=t,e.errorRecoveryDisabledLanes&i)var r=0;else r=e.pendingLanes&-536870913,r=r!==0?r:r&536870912?536870912:0;if(r!==0){t=r;e:{var b=e;l=bl;var z=b.current.memoizedState.isDehydrated;if(z&&(vs(b,r).flags|=256),r=co(b,r,!1),r!==2){if(eo&&!z){b.errorRecoveryDisabledLanes|=i,Ya|=i,l=4;break e}i=wt,wt=l,i!==null&&(wt===null?wt=i:wt.push.apply(wt,i))}l=r}if(i=!1,l!==2)continue}}if(l===1){vs(e,0),oa(e,t,0,!0);break}e:{switch(a=e,i=l,i){case 0:case 1:throw Error(m(345));case 4:if((t&4194048)!==t)break;case 6:oa(a,t,Ht,!la);break e;case 2:wt=null;break;case 3:case 5:break;default:throw Error(m(329))}if((t&62914560)===t&&(l=Qi+300-Le(),10<l)){if(oa(a,t,Ht,!la),Sa(a,0,!0)!==0)break e;zn=t,a.timeoutHandle=n0(Af.bind(null,a,n,wt,Xi,no,t,Ht,Ya,bs,la,i,"Throttled",-0,0),l);break e}Af(a,n,wt,Xi,no,t,Ht,Ya,bs,la,i,null,-0,0)}}break}while(!0);fn(e)}function Af(e,t,n,a,l,i,r,b,z,L,W,se,Q,Z){if(e.timeoutHandle=-1,se=t.subtreeFlags,se&8192||(se&16785408)===16785408){se={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Yt},bf(t,i,se);var xe=(i&62914560)===i?Qi-Le():(i&4194048)===i?Sf-Le():0;if(xe=vh(se,xe),xe!==null){zn=i,e.cancelPendingCommit=xe(Tf.bind(null,e,t,i,n,a,l,r,b,z,W,se,null,Q,Z)),oa(e,i,r,!L);return}}Tf(e,t,i,n,a,l,r,b,z)}function Hp(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var a=0;a<n.length;a++){var l=n[a],i=l.getSnapshot;l=l.value;try{if(!Rt(i(),l))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function oa(e,t,n,a){t&=~to,t&=~Ya,e.suspendedLanes|=t,e.pingedLanes&=~t,a&&(e.warmLanes|=t),a=e.expirationTimes;for(var l=t;0<l;){var i=31-ht(l),r=1<<i;a[i]=-1,l&=~r}n!==0&&Zl(e,n,t)}function Zi(){return(_e&6)===0?(vl(0),!1):!0}function io(){if(we!==null){if(He===0)var e=we.return;else e=we,jn=Oa=null,Sr(e),us=null,nl=0,e=we;for(;e!==null;)nf(e.alternate,e),e=e.return;we=null}}function vs(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,nh(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),zn=0,io(),Ge=e,we=n=gn(e.current,null),Ee=t,He=0,_t=null,la=!1,ys=Gn(e,t),eo=!1,bs=Ht=to=Ya=ia=Je=0,wt=bl=null,no=!1,(t&8)!==0&&(t|=t&32);var a=e.entangledLanes;if(a!==0)for(e=e.entanglements,a&=t;0<a;){var l=31-ht(a),i=1<<l;t|=e[l],a&=~i}return Rn=t,pi(),n}function wf(e,t){Me=null,j.H=ul,t===os||t===Si?(t=Yu(),He=3):t===ur?(t=Yu(),He=4):He=t===$r?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,_t=t,we===null&&(Je=1,Hi(e,Qt(t,e.current)))}function Cf(){var e=Ot.current;return e===null?!0:(Ee&4194048)===Ee?Jt===null:(Ee&62914560)===Ee||(Ee&536870912)!==0?e===Jt:!1}function Ef(){var e=j.H;return j.H=ul,e===null?ul:e}function kf(){var e=j.A;return j.A=Tp,e}function Ji(){Je=4,la||(Ee&4194048)!==Ee&&Ot.current!==null||(ys=!0),(ia&134217727)===0&&(Ya&134217727)===0||Ge===null||oa(Ge,Ee,Ht,!1)}function co(e,t,n){var a=_e;_e|=2;var l=Ef(),i=kf();(Ge!==e||Ee!==t)&&(Xi=null,vs(e,t)),t=!1;var r=Je;e:do try{if(He!==0&&we!==null){var b=we,z=_t;switch(He){case 8:io(),r=6;break e;case 3:case 2:case 9:case 6:Ot.current===null&&(t=!0);var L=He;if(He=0,_t=null,js(e,b,z,L),n&&ys){r=0;break e}break;default:L=He,He=0,_t=null,js(e,b,z,L)}}Dp(),r=Je;break}catch(W){wf(e,W)}while(!0);return t&&e.shellSuspendCounter++,jn=Oa=null,_e=a,j.H=l,j.A=i,we===null&&(Ge=null,Ee=0,pi()),r}function Dp(){for(;we!==null;)Rf(we)}function $p(e,t){var n=_e;_e|=2;var a=Ef(),l=kf();Ge!==e||Ee!==t?(Xi=null,Vi=Le()+500,vs(e,t)):ys=Gn(e,t);e:do try{if(He!==0&&we!==null){t=we;var i=_t;t:switch(He){case 1:He=0,_t=null,js(e,t,i,1);break;case 2:case 9:if(Bu(i)){He=0,_t=null,zf(t);break}t=function(){He!==2&&He!==9||Ge!==e||(He=7),fn(e)},i.then(t,t);break e;case 3:He=7;break e;case 4:He=5;break e;case 7:Bu(i)?(He=0,_t=null,zf(t)):(He=0,_t=null,js(e,t,i,7));break;case 5:var r=null;switch(we.tag){case 26:r=we.memoizedState;case 5:case 27:var b=we;if(r?y0(r):b.stateNode.complete){He=0,_t=null;var z=b.sibling;if(z!==null)we=z;else{var L=b.return;L!==null?(we=L,Ki(L)):we=null}break t}}He=0,_t=null,js(e,t,i,5);break;case 6:He=0,_t=null,js(e,t,i,6);break;case 8:io(),Je=6;break e;default:throw Error(m(462))}}Up();break}catch(W){wf(e,W)}while(!0);return jn=Oa=null,j.H=a,j.A=l,_e=n,we!==null?0:(Ge=null,Ee=0,pi(),Je)}function Up(){for(;we!==null&&!gt();)Rf(we)}function Rf(e){var t=ef(e.alternate,e,Rn);e.memoizedProps=e.pendingProps,t===null?Ki(e):we=t}function zf(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Jd(n,t,t.pendingProps,t.type,void 0,Ee);break;case 11:t=Jd(n,t,t.pendingProps,t.type.render,t.ref,Ee);break;case 5:Sr(t);default:nf(n,t),t=we=Eu(t,Rn),t=ef(n,t,Rn)}e.memoizedProps=e.pendingProps,t===null?Ki(e):we=t}function js(e,t,n,a){jn=Oa=null,Sr(t),us=null,nl=0;var l=t.return;try{if(wp(e,l,t,n,Ee)){Je=1,Hi(e,Qt(n,e.current)),we=null;return}}catch(i){if(l!==null)throw we=l,i;Je=1,Hi(e,Qt(n,e.current)),we=null;return}t.flags&32768?(Re||a===1?e=!0:ys||(Ee&536870912)!==0?e=!1:(la=e=!0,(a===2||a===9||a===3||a===6)&&(a=Ot.current,a!==null&&a.tag===13&&(a.flags|=16384))),Of(t,e)):Ki(t)}function Ki(e){var t=e;do{if((t.flags&32768)!==0){Of(t,la);return}e=t.return;var n=kp(t.alternate,t,Rn);if(n!==null){we=n;return}if(t=t.sibling,t!==null){we=t;return}we=t=e}while(t!==null);Je===0&&(Je=5)}function Of(e,t){do{var n=Rp(e.alternate,e);if(n!==null){n.flags&=32767,we=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){we=e;return}we=e=n}while(e!==null);Je=6,we=null}function Tf(e,t,n,a,l,i,r,b,z){e.cancelPendingCommit=null;do Ii();while(st!==0);if((_e&6)!==0)throw Error(m(327));if(t!==null){if(t===e.current)throw Error(m(177));if(i=t.lanes|t.childLanes,i|=Kc,Hs(e,n,i,r,b,z),e===Ge&&(we=Ge=null,Ee=0),gs=t,ra=e,zn=n,ao=i,so=l,Nf=a,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Lp(pn,function(){return Uf(),null})):(e.callbackNode=null,e.callbackPriority=0),a=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||a){a=j.T,j.T=null,l=O.p,O.p=2,r=_e,_e|=4;try{zp(e,t,n)}finally{_e=r,O.p=l,j.T=a}}st=1,_f(),Hf(),Df()}}function _f(){if(st===1){st=0;var e=ra,t=gs,n=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||n){n=j.T,j.T=null;var a=O.p;O.p=2;var l=_e;_e|=4;try{hf(t,e);var i=vo,r=vu(e.containerInfo),b=i.focusedElem,z=i.selectionRange;if(r!==b&&b&&b.ownerDocument&&gu(b.ownerDocument.documentElement,b)){if(z!==null&&Qc(b)){var L=z.start,W=z.end;if(W===void 0&&(W=L),"selectionStart"in b)b.selectionStart=L,b.selectionEnd=Math.min(W,b.value.length);else{var se=b.ownerDocument||document,Q=se&&se.defaultView||window;if(Q.getSelection){var Z=Q.getSelection(),xe=b.textContent.length,je=Math.min(z.start,xe),Be=z.end===void 0?je:Math.min(z.end,xe);!Z.extend&&je>Be&&(r=Be,Be=je,je=r);var G=bu(b,je),D=bu(b,Be);if(G&&D&&(Z.rangeCount!==1||Z.anchorNode!==G.node||Z.anchorOffset!==G.offset||Z.focusNode!==D.node||Z.focusOffset!==D.offset)){var Y=se.createRange();Y.setStart(G.node,G.offset),Z.removeAllRanges(),je>Be?(Z.addRange(Y),Z.extend(D.node,D.offset)):(Y.setEnd(D.node,D.offset),Z.addRange(Y))}}}}for(se=[],Z=b;Z=Z.parentNode;)Z.nodeType===1&&se.push({element:Z,left:Z.scrollLeft,top:Z.scrollTop});for(typeof b.focus=="function"&&b.focus(),b=0;b<se.length;b++){var ee=se[b];ee.element.scrollLeft=ee.left,ee.element.scrollTop=ee.top}}rc=!!go,vo=go=null}finally{_e=l,O.p=a,j.T=n}}e.current=t,st=2}}function Hf(){if(st===2){st=0;var e=ra,t=gs,n=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||n){n=j.T,j.T=null;var a=O.p;O.p=2;var l=_e;_e|=4;try{uf(e,t.alternate,t)}finally{_e=l,O.p=a,j.T=n}}st=3}}function Df(){if(st===4||st===3){st=0,Ll();var e=ra,t=gs,n=zn,a=Nf;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?st=5:(st=0,gs=ra=null,$f(e,e.pendingLanes));var l=e.pendingLanes;if(l===0&&(ca=null),Ds(n),t=t.stateNode,lt&&typeof lt.onCommitFiberRoot=="function")try{lt.onCommitFiberRoot(Un,t,void 0,(t.current.flags&128)===128)}catch{}if(a!==null){t=j.T,l=O.p,O.p=2,j.T=null;try{for(var i=e.onRecoverableError,r=0;r<a.length;r++){var b=a[r];i(b.value,{componentStack:b.stack})}}finally{j.T=t,O.p=l}}(zn&3)!==0&&Ii(),fn(e),l=e.pendingLanes,(n&261930)!==0&&(l&42)!==0?e===lo?gl++:(gl=0,lo=e):gl=0,vl(0)}}function $f(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,el(t)))}function Ii(){return _f(),Hf(),Df(),Uf()}function Uf(){if(st!==5)return!1;var e=ra,t=ao;ao=0;var n=Ds(zn),a=j.T,l=O.p;try{O.p=32>n?32:n,j.T=null,n=so,so=null;var i=ra,r=zn;if(st=0,gs=ra=null,zn=0,(_e&6)!==0)throw Error(m(331));var b=_e;if(_e|=4,vf(i.current),yf(i,i.current,r,n),_e=b,vl(0,!1),lt&&typeof lt.onPostCommitFiberRoot=="function")try{lt.onPostCommitFiberRoot(Un,i)}catch{}return!0}finally{O.p=l,j.T=a,$f(e,t)}}function Bf(e,t,n){t=Qt(n,t),t=Dr(e.stateNode,t,2),e=ta(e,t,2),e!==null&&(hn(e,2),fn(e))}function De(e,t,n){if(e.tag===3)Bf(e,e,n);else for(;t!==null;){if(t.tag===3){Bf(t,e,n);break}else if(t.tag===1){var a=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(ca===null||!ca.has(a))){e=Qt(n,e),n=Bd(2),a=ta(t,n,2),a!==null&&(Gd(n,a,t,e),hn(a,2),fn(a));break}}t=t.return}}function ro(e,t,n){var a=e.pingCache;if(a===null){a=e.pingCache=new _p;var l=new Set;a.set(t,l)}else l=a.get(t),l===void 0&&(l=new Set,a.set(t,l));l.has(n)||(eo=!0,l.add(n),e=Bp.bind(null,e,t,n),t.then(e,e))}function Bp(e,t,n){var a=e.pingCache;a!==null&&a.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,Ge===e&&(Ee&n)===n&&(Je===4||Je===3&&(Ee&62914560)===Ee&&300>Le()-Qi?(_e&2)===0&&vs(e,0):to|=n,bs===Ee&&(bs=0)),fn(e)}function Gf(e,t){t===0&&(t=Ts()),e=ka(e,t),e!==null&&(hn(e,t),fn(e))}function Gp(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Gf(e,n)}function Yp(e,t){var n=0;switch(e.tag){case 31:case 13:var a=e.stateNode,l=e.memoizedState;l!==null&&(n=l.retryLane);break;case 19:a=e.stateNode;break;case 22:a=e.stateNode._retryCache;break;default:throw Error(m(314))}a!==null&&a.delete(t),Gf(e,n)}function Lp(e,t){return zs(e,t)}var Wi=null,Ss=null,oo=!1,Fi=!1,uo=!1,ua=0;function fn(e){e!==Ss&&e.next===null&&(Ss===null?Wi=Ss=e:Ss=Ss.next=e),Fi=!0,oo||(oo=!0,Vp())}function vl(e,t){if(!uo&&Fi){uo=!0;do for(var n=!1,a=Wi;a!==null;){if(e!==0){var l=a.pendingLanes;if(l===0)var i=0;else{var r=a.suspendedLanes,b=a.pingedLanes;i=(1<<31-ht(42|e)+1)-1,i&=l&~(r&~b),i=i&201326741?i&201326741|1:i?i|2:0}i!==0&&(n=!0,Vf(a,i))}else i=Ee,i=Sa(a,a===Ge?i:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),(i&3)===0||Gn(a,i)||(n=!0,Vf(a,i));a=a.next}while(n);uo=!1}}function Qp(){Yf()}function Yf(){Fi=oo=!1;var e=0;ua!==0&&th()&&(e=ua);for(var t=Le(),n=null,a=Wi;a!==null;){var l=a.next,i=Lf(a,t);i===0?(a.next=null,n===null?Wi=l:n.next=l,l===null&&(Ss=n)):(n=a,(e!==0||(i&3)!==0)&&(Fi=!0)),a=l}st!==0&&st!==5||vl(e),ua!==0&&(ua=0)}function Lf(e,t){for(var n=e.suspendedLanes,a=e.pingedLanes,l=e.expirationTimes,i=e.pendingLanes&-62914561;0<i;){var r=31-ht(i),b=1<<r,z=l[r];z===-1?((b&n)===0||(b&a)!==0)&&(l[r]=Na(b,t)):z<=t&&(e.expiredLanes|=b),i&=~b}if(t=Ge,n=Ee,n=Sa(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),a=e.callbackNode,n===0||e===t&&(He===2||He===9)||e.cancelPendingCommit!==null)return a!==null&&a!==null&&La(a),e.callbackNode=null,e.callbackPriority=0;if((n&3)===0||Gn(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(a!==null&&La(a),Ds(n)){case 2:case 8:n=Va;break;case 32:n=pn;break;case 268435456:n=sn;break;default:n=pn}return a=Qf.bind(null,e),n=zs(n,a),e.callbackPriority=t,e.callbackNode=n,t}return a!==null&&a!==null&&La(a),e.callbackPriority=2,e.callbackNode=null,2}function Qf(e,t){if(st!==0&&st!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(Ii()&&e.callbackNode!==n)return null;var a=Ee;return a=Sa(e,e===Ge?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),a===0?null:(qf(e,a,t),Lf(e,Le()),e.callbackNode!=null&&e.callbackNode===n?Qf.bind(null,e):null)}function Vf(e,t){if(Ii())return null;qf(e,t,!0)}function Vp(){ah(function(){(_e&6)!==0?zs(Ql,Qp):Yf()})}function fo(){if(ua===0){var e=cs;e===0&&(e=vt,vt<<=1,(vt&261888)===0&&(vt=256)),ua=e}return ua}function Xf(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Gt(""+e)}function Zf(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function Xp(e,t,n,a,l){if(t==="submit"&&n&&n.stateNode===l){var i=Xf((l[ft]||null).action),r=a.submitter;r&&(t=(t=r[ft]||null)?Xf(t.formAction):r.getAttribute("formAction"),t!==null&&(i=t,r=null));var b=new ui("action","action",null,a,l);e.push({event:b,listeners:[{instance:null,listener:function(){if(a.defaultPrevented){if(ua!==0){var z=r?Zf(l,r):new FormData(l);Rr(n,{pending:!0,data:z,method:l.method,action:i},null,z)}}else typeof i=="function"&&(b.preventDefault(),z=r?Zf(l,r):new FormData(l),Rr(n,{pending:!0,data:z,method:l.method,action:i},i,z))},currentTarget:l}]})}}for(var mo=0;mo<Jc.length;mo++){var po=Jc[mo],Zp=po.toLowerCase(),Jp=po[0].toUpperCase()+po.slice(1);en(Zp,"on"+Jp)}en(Nu,"onAnimationEnd"),en(Mu,"onAnimationIteration"),en(qu,"onAnimationStart"),en("dblclick","onDoubleClick"),en("focusin","onFocus"),en("focusout","onBlur"),en(up,"onTransitionRun"),en(dp,"onTransitionStart"),en(fp,"onTransitionCancel"),en(Au,"onTransitionEnd"),Xn("onMouseEnter",["mouseout","mouseover"]),Xn("onMouseLeave",["mouseout","mouseover"]),Xn("onPointerEnter",["pointerout","pointerover"]),Xn("onPointerLeave",["pointerout","pointerover"]),xn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),xn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),xn("onBeforeInput",["compositionend","keypress","textInput","paste"]),xn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),xn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),xn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var jl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Kp=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(jl));function Jf(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var a=e[n],l=a.event;a=a.listeners;e:{var i=void 0;if(t)for(var r=a.length-1;0<=r;r--){var b=a[r],z=b.instance,L=b.currentTarget;if(b=b.listener,z!==i&&l.isPropagationStopped())break e;i=b,l.currentTarget=L;try{i(l)}catch(W){mi(W)}l.currentTarget=null,i=z}else for(r=0;r<a.length;r++){if(b=a[r],z=b.instance,L=b.currentTarget,b=b.listener,z!==i&&l.isPropagationStopped())break e;i=b,l.currentTarget=L;try{i(l)}catch(W){mi(W)}l.currentTarget=null,i=z}}}}function Ce(e,t){var n=t[$s];n===void 0&&(n=t[$s]=new Set);var a=e+"__bubble";n.has(a)||(Kf(t,e,2,!1),n.add(a))}function ho(e,t,n){var a=0;t&&(a|=4),Kf(n,e,a,t)}var Pi="_reactListening"+Math.random().toString(36).slice(2);function xo(e){if(!e[Pi]){e[Pi]=!0,Fl.forEach(function(n){n!=="selectionchange"&&(Kp.has(n)||ho(n,!1,e),ho(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Pi]||(t[Pi]=!0,ho("selectionchange",!1,t))}}function Kf(e,t,n,a){switch(M0(t)){case 2:var l=Nh;break;case 8:l=Mh;break;default:l=Ro}n=l.bind(null,t,n,e),l=void 0,!_c||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(l=!0),a?l!==void 0?e.addEventListener(t,n,{capture:!0,passive:l}):e.addEventListener(t,n,!0):l!==void 0?e.addEventListener(t,n,{passive:l}):e.addEventListener(t,n,!1)}function yo(e,t,n,a,l){var i=a;if((t&1)===0&&(t&2)===0&&a!==null)e:for(;;){if(a===null)return;var r=a.tag;if(r===3||r===4){var b=a.stateNode.containerInfo;if(b===l)break;if(r===4)for(r=a.return;r!==null;){var z=r.tag;if((z===3||z===4)&&r.stateNode.containerInfo===l)return;r=r.return}for(;b!==null;){if(r=Ln(b),r===null)return;if(z=r.tag,z===5||z===6||z===26||z===27){a=i=r;continue e}b=b.parentNode}}a=a.return}Po(function(){var L=i,W=Oc(n),se=[];e:{var Q=wu.get(e);if(Q!==void 0){var Z=ui,xe=e;switch(e){case"keypress":if(ri(n)===0)break e;case"keydown":case"keyup":Z=Ym;break;case"focusin":xe="focus",Z=Uc;break;case"focusout":xe="blur",Z=Uc;break;case"beforeblur":case"afterblur":Z=Uc;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Z=nu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Z=km;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Z=Vm;break;case Nu:case Mu:case qu:Z=Om;break;case Au:Z=Zm;break;case"scroll":case"scrollend":Z=Cm;break;case"wheel":Z=Km;break;case"copy":case"cut":case"paste":Z=_m;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Z=su;break;case"toggle":case"beforetoggle":Z=Wm}var je=(t&4)!==0,Be=!je&&(e==="scroll"||e==="scrollend"),G=je?Q!==null?Q+"Capture":null:Q;je=[];for(var D=L,Y;D!==null;){var ee=D;if(Y=ee.stateNode,ee=ee.tag,ee!==5&&ee!==26&&ee!==27||Y===null||G===null||(ee=Ls(D,G),ee!=null&&je.push(Sl(D,ee,Y))),Be)break;D=D.return}0<je.length&&(Q=new Z(Q,xe,null,n,W),se.push({event:Q,listeners:je}))}}if((t&7)===0){e:{if(Q=e==="mouseover"||e==="pointerover",Z=e==="mouseout"||e==="pointerout",Q&&n!==zc&&(xe=n.relatedTarget||n.fromElement)&&(Ln(xe)||xe[Yn]))break e;if((Z||Q)&&(Q=W.window===W?W:(Q=W.ownerDocument)?Q.defaultView||Q.parentWindow:window,Z?(xe=n.relatedTarget||n.toElement,Z=L,xe=xe?Ln(xe):null,xe!==null&&(Be=p(xe),je=xe.tag,xe!==Be||je!==5&&je!==27&&je!==6)&&(xe=null)):(Z=null,xe=L),Z!==xe)){if(je=nu,ee="onMouseLeave",G="onMouseEnter",D="mouse",(e==="pointerout"||e==="pointerover")&&(je=su,ee="onPointerLeave",G="onPointerEnter",D="pointer"),Be=Z==null?Q:qa(Z),Y=xe==null?Q:qa(xe),Q=new je(ee,D+"leave",Z,n,W),Q.target=Be,Q.relatedTarget=Y,ee=null,Ln(W)===L&&(je=new je(G,D+"enter",xe,n,W),je.target=Y,je.relatedTarget=Be,ee=je),Be=ee,Z&&xe)t:{for(je=Ip,G=Z,D=xe,Y=0,ee=G;ee;ee=je(ee))Y++;ee=0;for(var ge=D;ge;ge=je(ge))ee++;for(;0<Y-ee;)G=je(G),Y--;for(;0<ee-Y;)D=je(D),ee--;for(;Y--;){if(G===D||D!==null&&G===D.alternate){je=G;break t}G=je(G),D=je(D)}je=null}else je=null;Z!==null&&If(se,Q,Z,je,!1),xe!==null&&Be!==null&&If(se,Be,xe,je,!0)}}e:{if(Q=L?qa(L):window,Z=Q.nodeName&&Q.nodeName.toLowerCase(),Z==="select"||Z==="input"&&Q.type==="file")var ze=fu;else if(uu(Q))if(mu)ze=cp;else{ze=lp;var ye=sp}else Z=Q.nodeName,!Z||Z.toLowerCase()!=="input"||Q.type!=="checkbox"&&Q.type!=="radio"?L&&Bt(L.elementType)&&(ze=fu):ze=ip;if(ze&&(ze=ze(e,L))){du(se,ze,n,W);break e}ye&&ye(e,Q,L),e==="focusout"&&L&&Q.type==="number"&&L.memoizedProps.value!=null&&Gs(Q,"number",Q.value)}switch(ye=L?qa(L):window,e){case"focusin":(uu(ye)||ye.contentEditable==="true")&&(Pa=ye,Vc=L,Ws=null);break;case"focusout":Ws=Vc=Pa=null;break;case"mousedown":Xc=!0;break;case"contextmenu":case"mouseup":case"dragend":Xc=!1,ju(se,n,W);break;case"selectionchange":if(op)break;case"keydown":case"keyup":ju(se,n,W)}var qe;if(Gc)e:{switch(e){case"compositionstart":var ke="onCompositionStart";break e;case"compositionend":ke="onCompositionEnd";break e;case"compositionupdate":ke="onCompositionUpdate";break e}ke=void 0}else Fa?ru(e,n)&&(ke="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(ke="onCompositionStart");ke&&(lu&&n.locale!=="ko"&&(Fa||ke!=="onCompositionStart"?ke==="onCompositionEnd"&&Fa&&(qe=eu()):(Jn=W,Hc="value"in Jn?Jn.value:Jn.textContent,Fa=!0)),ye=ec(L,ke),0<ye.length&&(ke=new au(ke,e,null,n,W),se.push({event:ke,listeners:ye}),qe?ke.data=qe:(qe=ou(n),qe!==null&&(ke.data=qe)))),(qe=Pm?ep(e,n):tp(e,n))&&(ke=ec(L,"onBeforeInput"),0<ke.length&&(ye=new au("onBeforeInput","beforeinput",null,n,W),se.push({event:ye,listeners:ke}),ye.data=qe)),Xp(se,e,L,n,W)}Jf(se,t)})}function Sl(e,t,n){return{instance:e,listener:t,currentTarget:n}}function ec(e,t){for(var n=t+"Capture",a=[];e!==null;){var l=e,i=l.stateNode;if(l=l.tag,l!==5&&l!==26&&l!==27||i===null||(l=Ls(e,n),l!=null&&a.unshift(Sl(e,l,i)),l=Ls(e,t),l!=null&&a.push(Sl(e,l,i))),e.tag===3)return a;e=e.return}return[]}function Ip(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function If(e,t,n,a,l){for(var i=t._reactName,r=[];n!==null&&n!==a;){var b=n,z=b.alternate,L=b.stateNode;if(b=b.tag,z!==null&&z===a)break;b!==5&&b!==26&&b!==27||L===null||(z=L,l?(L=Ls(n,i),L!=null&&r.unshift(Sl(n,L,z))):l||(L=Ls(n,i),L!=null&&r.push(Sl(n,L,z)))),n=n.return}r.length!==0&&e.push({event:t,listeners:r})}var Wp=/\r\n?/g,Fp=/\u0000|\uFFFD/g;function Wf(e){return(typeof e=="string"?e:""+e).replace(Wp,`
`).replace(Fp,"")}function Ff(e,t){return t=Wf(t),Wf(e)===t}function Ue(e,t,n,a,l,i){switch(n){case"children":typeof a=="string"?t==="body"||t==="textarea"&&a===""||Te(e,a):(typeof a=="number"||typeof a=="bigint")&&t!=="body"&&Te(e,""+a);break;case"className":Ja(e,"class",a);break;case"tabIndex":Ja(e,"tabindex",a);break;case"dir":case"role":case"viewBox":case"width":case"height":Ja(e,n,a);break;case"style":yn(e,a,i);break;case"data":if(t!=="object"){Ja(e,"data",a);break}case"src":case"href":if(a===""&&(t!=="a"||n!=="href")){e.removeAttribute(n);break}if(a==null||typeof a=="function"||typeof a=="symbol"||typeof a=="boolean"){e.removeAttribute(n);break}a=Gt(""+a),e.setAttribute(n,a);break;case"action":case"formAction":if(typeof a=="function"){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof i=="function"&&(n==="formAction"?(t!=="input"&&Ue(e,t,"name",l.name,l,null),Ue(e,t,"formEncType",l.formEncType,l,null),Ue(e,t,"formMethod",l.formMethod,l,null),Ue(e,t,"formTarget",l.formTarget,l,null)):(Ue(e,t,"encType",l.encType,l,null),Ue(e,t,"method",l.method,l,null),Ue(e,t,"target",l.target,l,null)));if(a==null||typeof a=="symbol"||typeof a=="boolean"){e.removeAttribute(n);break}a=Gt(""+a),e.setAttribute(n,a);break;case"onClick":a!=null&&(e.onclick=Yt);break;case"onScroll":a!=null&&Ce("scroll",e);break;case"onScrollEnd":a!=null&&Ce("scrollend",e);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(m(61));if(n=a.__html,n!=null){if(l.children!=null)throw Error(m(60));e.innerHTML=n}}break;case"multiple":e.multiple=a&&typeof a!="function"&&typeof a!="symbol";break;case"muted":e.muted=a&&typeof a!="function"&&typeof a!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(a==null||typeof a=="function"||typeof a=="boolean"||typeof a=="symbol"){e.removeAttribute("xlink:href");break}n=Gt(""+a),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":a!=null&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(n,""+a):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":a&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":a===!0?e.setAttribute(n,""):a!==!1&&a!=null&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(n,a):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":a!=null&&typeof a!="function"&&typeof a!="symbol"&&!isNaN(a)&&1<=a?e.setAttribute(n,a):e.removeAttribute(n);break;case"rowSpan":case"start":a==null||typeof a=="function"||typeof a=="symbol"||isNaN(a)?e.removeAttribute(n):e.setAttribute(n,a);break;case"popover":Ce("beforetoggle",e),Ce("toggle",e),Za(e,"popover",a);break;case"xlinkActuate":Pt(e,"http://www.w3.org/1999/xlink","xlink:actuate",a);break;case"xlinkArcrole":Pt(e,"http://www.w3.org/1999/xlink","xlink:arcrole",a);break;case"xlinkRole":Pt(e,"http://www.w3.org/1999/xlink","xlink:role",a);break;case"xlinkShow":Pt(e,"http://www.w3.org/1999/xlink","xlink:show",a);break;case"xlinkTitle":Pt(e,"http://www.w3.org/1999/xlink","xlink:title",a);break;case"xlinkType":Pt(e,"http://www.w3.org/1999/xlink","xlink:type",a);break;case"xmlBase":Pt(e,"http://www.w3.org/XML/1998/namespace","xml:base",a);break;case"xmlLang":Pt(e,"http://www.w3.org/XML/1998/namespace","xml:lang",a);break;case"xmlSpace":Pt(e,"http://www.w3.org/XML/1998/namespace","xml:space",a);break;case"is":Za(e,"is",a);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=Ka.get(n)||n,Za(e,n,a))}}function bo(e,t,n,a,l,i){switch(n){case"style":yn(e,a,i);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(m(61));if(n=a.__html,n!=null){if(l.children!=null)throw Error(m(60));e.innerHTML=n}}break;case"children":typeof a=="string"?Te(e,a):(typeof a=="number"||typeof a=="bigint")&&Te(e,""+a);break;case"onScroll":a!=null&&Ce("scroll",e);break;case"onScrollEnd":a!=null&&Ce("scrollend",e);break;case"onClick":a!=null&&(e.onclick=Yt);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Pl.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(l=n.endsWith("Capture"),t=n.slice(2,l?n.length-7:void 0),i=e[ft]||null,i=i!=null?i[n]:null,typeof i=="function"&&e.removeEventListener(t,i,l),typeof a=="function")){typeof i!="function"&&i!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,a,l);break e}n in e?e[n]=a:a===!0?e.setAttribute(n,""):Za(e,n,a)}}}function dt(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ce("error",e),Ce("load",e);var a=!1,l=!1,i;for(i in n)if(n.hasOwnProperty(i)){var r=n[i];if(r!=null)switch(i){case"src":a=!0;break;case"srcSet":l=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(m(137,t));default:Ue(e,t,i,r,n,null)}}l&&Ue(e,t,"srcSet",n.srcSet,n,null),a&&Ue(e,t,"src",n.src,n,null);return;case"input":Ce("invalid",e);var b=i=r=l=null,z=null,L=null;for(a in n)if(n.hasOwnProperty(a)){var W=n[a];if(W!=null)switch(a){case"name":l=W;break;case"type":r=W;break;case"checked":z=W;break;case"defaultChecked":L=W;break;case"value":i=W;break;case"defaultValue":b=W;break;case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(m(137,t));break;default:Ue(e,t,a,W,n,null)}}ii(e,i,b,z,L,r,l,!1);return;case"select":Ce("invalid",e),a=r=i=null;for(l in n)if(n.hasOwnProperty(l)&&(b=n[l],b!=null))switch(l){case"value":i=b;break;case"defaultValue":r=b;break;case"multiple":a=b;default:Ue(e,t,l,b,n,null)}t=i,n=r,e.multiple=!!a,t!=null?Zn(e,!!a,t,!1):n!=null&&Zn(e,!!a,n,!0);return;case"textarea":Ce("invalid",e),i=l=a=null;for(r in n)if(n.hasOwnProperty(r)&&(b=n[r],b!=null))switch(r){case"value":a=b;break;case"defaultValue":l=b;break;case"children":i=b;break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(m(91));break;default:Ue(e,t,r,b,n,null)}he(e,a,l,i);return;case"option":for(z in n)if(n.hasOwnProperty(z)&&(a=n[z],a!=null))switch(z){case"selected":e.selected=a&&typeof a!="function"&&typeof a!="symbol";break;default:Ue(e,t,z,a,n,null)}return;case"dialog":Ce("beforetoggle",e),Ce("toggle",e),Ce("cancel",e),Ce("close",e);break;case"iframe":case"object":Ce("load",e);break;case"video":case"audio":for(a=0;a<jl.length;a++)Ce(jl[a],e);break;case"image":Ce("error",e),Ce("load",e);break;case"details":Ce("toggle",e);break;case"embed":case"source":case"link":Ce("error",e),Ce("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(L in n)if(n.hasOwnProperty(L)&&(a=n[L],a!=null))switch(L){case"children":case"dangerouslySetInnerHTML":throw Error(m(137,t));default:Ue(e,t,L,a,n,null)}return;default:if(Bt(t)){for(W in n)n.hasOwnProperty(W)&&(a=n[W],a!==void 0&&bo(e,t,W,a,n,void 0));return}}for(b in n)n.hasOwnProperty(b)&&(a=n[b],a!=null&&Ue(e,t,b,a,n,null))}function Pp(e,t,n,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var l=null,i=null,r=null,b=null,z=null,L=null,W=null;for(Z in n){var se=n[Z];if(n.hasOwnProperty(Z)&&se!=null)switch(Z){case"checked":break;case"value":break;case"defaultValue":z=se;default:a.hasOwnProperty(Z)||Ue(e,t,Z,null,a,se)}}for(var Q in a){var Z=a[Q];if(se=n[Q],a.hasOwnProperty(Q)&&(Z!=null||se!=null))switch(Q){case"type":i=Z;break;case"name":l=Z;break;case"checked":L=Z;break;case"defaultChecked":W=Z;break;case"value":r=Z;break;case"defaultValue":b=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(m(137,t));break;default:Z!==se&&Ue(e,t,Q,Z,a,se)}}li(e,r,b,z,L,W,i,l);return;case"select":Z=r=b=Q=null;for(i in n)if(z=n[i],n.hasOwnProperty(i)&&z!=null)switch(i){case"value":break;case"multiple":Z=z;default:a.hasOwnProperty(i)||Ue(e,t,i,null,a,z)}for(l in a)if(i=a[l],z=n[l],a.hasOwnProperty(l)&&(i!=null||z!=null))switch(l){case"value":Q=i;break;case"defaultValue":b=i;break;case"multiple":r=i;default:i!==z&&Ue(e,t,l,i,a,z)}t=b,n=r,a=Z,Q!=null?Zn(e,!!n,Q,!1):!!a!=!!n&&(t!=null?Zn(e,!!n,t,!0):Zn(e,!!n,n?[]:"",!1));return;case"textarea":Z=Q=null;for(b in n)if(l=n[b],n.hasOwnProperty(b)&&l!=null&&!a.hasOwnProperty(b))switch(b){case"value":break;case"children":break;default:Ue(e,t,b,null,a,l)}for(r in a)if(l=a[r],i=n[r],a.hasOwnProperty(r)&&(l!=null||i!=null))switch(r){case"value":Q=l;break;case"defaultValue":Z=l;break;case"children":break;case"dangerouslySetInnerHTML":if(l!=null)throw Error(m(91));break;default:l!==i&&Ue(e,t,r,l,a,i)}Ys(e,Q,Z);return;case"option":for(var xe in n)if(Q=n[xe],n.hasOwnProperty(xe)&&Q!=null&&!a.hasOwnProperty(xe))switch(xe){case"selected":e.selected=!1;break;default:Ue(e,t,xe,null,a,Q)}for(z in a)if(Q=a[z],Z=n[z],a.hasOwnProperty(z)&&Q!==Z&&(Q!=null||Z!=null))switch(z){case"selected":e.selected=Q&&typeof Q!="function"&&typeof Q!="symbol";break;default:Ue(e,t,z,Q,a,Z)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var je in n)Q=n[je],n.hasOwnProperty(je)&&Q!=null&&!a.hasOwnProperty(je)&&Ue(e,t,je,null,a,Q);for(L in a)if(Q=a[L],Z=n[L],a.hasOwnProperty(L)&&Q!==Z&&(Q!=null||Z!=null))switch(L){case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(m(137,t));break;default:Ue(e,t,L,Q,a,Z)}return;default:if(Bt(t)){for(var Be in n)Q=n[Be],n.hasOwnProperty(Be)&&Q!==void 0&&!a.hasOwnProperty(Be)&&bo(e,t,Be,void 0,a,Q);for(W in a)Q=a[W],Z=n[W],!a.hasOwnProperty(W)||Q===Z||Q===void 0&&Z===void 0||bo(e,t,W,Q,a,Z);return}}for(var G in n)Q=n[G],n.hasOwnProperty(G)&&Q!=null&&!a.hasOwnProperty(G)&&Ue(e,t,G,null,a,Q);for(se in a)Q=a[se],Z=n[se],!a.hasOwnProperty(se)||Q===Z||Q==null&&Z==null||Ue(e,t,se,Q,a,Z)}function Pf(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function eh(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,n=performance.getEntriesByType("resource"),a=0;a<n.length;a++){var l=n[a],i=l.transferSize,r=l.initiatorType,b=l.duration;if(i&&b&&Pf(r)){for(r=0,b=l.responseEnd,a+=1;a<n.length;a++){var z=n[a],L=z.startTime;if(L>b)break;var W=z.transferSize,se=z.initiatorType;W&&Pf(se)&&(z=z.responseEnd,r+=W*(z<b?1:(b-L)/(z-L)))}if(--a,t+=8*(i+r)/(l.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var go=null,vo=null;function tc(e){return e.nodeType===9?e:e.ownerDocument}function e0(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function t0(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function jo(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var So=null;function th(){var e=window.event;return e&&e.type==="popstate"?e===So?!1:(So=e,!0):(So=null,!1)}var n0=typeof setTimeout=="function"?setTimeout:void 0,nh=typeof clearTimeout=="function"?clearTimeout:void 0,a0=typeof Promise=="function"?Promise:void 0,ah=typeof queueMicrotask=="function"?queueMicrotask:typeof a0<"u"?function(e){return a0.resolve(null).then(e).catch(sh)}:n0;function sh(e){setTimeout(function(){throw e})}function da(e){return e==="head"}function s0(e,t){var n=t,a=0;do{var l=n.nextSibling;if(e.removeChild(n),l&&l.nodeType===8)if(n=l.data,n==="/$"||n==="/&"){if(a===0){e.removeChild(l),As(t);return}a--}else if(n==="$"||n==="$?"||n==="$~"||n==="$!"||n==="&")a++;else if(n==="html")Nl(e.ownerDocument.documentElement);else if(n==="head"){n=e.ownerDocument.head,Nl(n);for(var i=n.firstChild;i;){var r=i.nextSibling,b=i.nodeName;i[Ma]||b==="SCRIPT"||b==="STYLE"||b==="LINK"&&i.rel.toLowerCase()==="stylesheet"||n.removeChild(i),i=r}}else n==="body"&&Nl(e.ownerDocument.body);n=l}while(n);As(t)}function l0(e,t){var n=e;e=0;do{var a=n.nextSibling;if(n.nodeType===1?t?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",n.getAttribute("style")===""&&n.removeAttribute("style")):n.nodeType===3&&(t?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),a&&a.nodeType===8)if(n=a.data,n==="/$"){if(e===0)break;e--}else n!=="$"&&n!=="$?"&&n!=="$~"&&n!=="$!"||e++;n=a}while(n)}function No(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":No(n),Us(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}e.removeChild(n)}}function lh(e,t,n,a){for(;e.nodeType===1;){var l=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!a&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(a){if(!e[Ma])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(i=e.getAttribute("rel"),i==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(i!==l.rel||e.getAttribute("href")!==(l.href==null||l.href===""?null:l.href)||e.getAttribute("crossorigin")!==(l.crossOrigin==null?null:l.crossOrigin)||e.getAttribute("title")!==(l.title==null?null:l.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(i=e.getAttribute("src"),(i!==(l.src==null?null:l.src)||e.getAttribute("type")!==(l.type==null?null:l.type)||e.getAttribute("crossorigin")!==(l.crossOrigin==null?null:l.crossOrigin))&&i&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var i=l.name==null?null:""+l.name;if(l.type==="hidden"&&e.getAttribute("name")===i)return e}else return e;if(e=Kt(e.nextSibling),e===null)break}return null}function ih(e,t,n){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Kt(e.nextSibling),e===null))return null;return e}function i0(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=Kt(e.nextSibling),e===null))return null;return e}function Mo(e){return e.data==="$?"||e.data==="$~"}function qo(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function ch(e,t){var n=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||n.readyState!=="loading")t();else{var a=function(){t(),n.removeEventListener("DOMContentLoaded",a)};n.addEventListener("DOMContentLoaded",a),e._reactRetry=a}}function Kt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var Ao=null;function c0(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"||n==="/&"){if(t===0)return Kt(e.nextSibling);t--}else n!=="$"&&n!=="$!"&&n!=="$?"&&n!=="$~"&&n!=="&"||t++}e=e.nextSibling}return null}function r0(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"){if(t===0)return e;t--}else n!=="/$"&&n!=="/&"||t++}e=e.previousSibling}return null}function o0(e,t,n){switch(t=tc(n),e){case"html":if(e=t.documentElement,!e)throw Error(m(452));return e;case"head":if(e=t.head,!e)throw Error(m(453));return e;case"body":if(e=t.body,!e)throw Error(m(454));return e;default:throw Error(m(451))}}function Nl(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Us(e)}var It=new Map,u0=new Set;function nc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var On=O.d;O.d={f:rh,r:oh,D:uh,C:dh,L:fh,m:mh,X:hh,S:ph,M:xh};function rh(){var e=On.f(),t=Zi();return e||t}function oh(e){var t=Qn(e);t!==null&&t.tag===5&&t.type==="form"?Ad(t):On.r(e)}var Ns=typeof document>"u"?null:document;function d0(e,t,n){var a=Ns;if(a&&typeof t=="string"&&t){var l=St(t);l='link[rel="'+e+'"][href="'+l+'"]',typeof n=="string"&&(l+='[crossorigin="'+n+'"]'),u0.has(l)||(u0.add(l),e={rel:e,crossOrigin:n,href:t},a.querySelector(l)===null&&(t=a.createElement("link"),dt(t,"link",e),Fe(t),a.head.appendChild(t)))}}function uh(e){On.D(e),d0("dns-prefetch",e,null)}function dh(e,t){On.C(e,t),d0("preconnect",e,t)}function fh(e,t,n){On.L(e,t,n);var a=Ns;if(a&&e&&t){var l='link[rel="preload"][as="'+St(t)+'"]';t==="image"&&n&&n.imageSrcSet?(l+='[imagesrcset="'+St(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(l+='[imagesizes="'+St(n.imageSizes)+'"]')):l+='[href="'+St(e)+'"]';var i=l;switch(t){case"style":i=Ms(e);break;case"script":i=qs(e)}It.has(i)||(e=f({rel:"preload",href:t==="image"&&n&&n.imageSrcSet?void 0:e,as:t},n),It.set(i,e),a.querySelector(l)!==null||t==="style"&&a.querySelector(Ml(i))||t==="script"&&a.querySelector(ql(i))||(t=a.createElement("link"),dt(t,"link",e),Fe(t),a.head.appendChild(t)))}}function mh(e,t){On.m(e,t);var n=Ns;if(n&&e){var a=t&&typeof t.as=="string"?t.as:"script",l='link[rel="modulepreload"][as="'+St(a)+'"][href="'+St(e)+'"]',i=l;switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":i=qs(e)}if(!It.has(i)&&(e=f({rel:"modulepreload",href:e},t),It.set(i,e),n.querySelector(l)===null)){switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(ql(i)))return}a=n.createElement("link"),dt(a,"link",e),Fe(a),n.head.appendChild(a)}}}function ph(e,t,n){On.S(e,t,n);var a=Ns;if(a&&e){var l=Vn(a).hoistableStyles,i=Ms(e);t=t||"default";var r=l.get(i);if(!r){var b={loading:0,preload:null};if(r=a.querySelector(Ml(i)))b.loading=5;else{e=f({rel:"stylesheet",href:e,"data-precedence":t},n),(n=It.get(i))&&wo(e,n);var z=r=a.createElement("link");Fe(z),dt(z,"link",e),z._p=new Promise(function(L,W){z.onload=L,z.onerror=W}),z.addEventListener("load",function(){b.loading|=1}),z.addEventListener("error",function(){b.loading|=2}),b.loading|=4,ac(r,t,a)}r={type:"stylesheet",instance:r,count:1,state:b},l.set(i,r)}}}function hh(e,t){On.X(e,t);var n=Ns;if(n&&e){var a=Vn(n).hoistableScripts,l=qs(e),i=a.get(l);i||(i=n.querySelector(ql(l)),i||(e=f({src:e,async:!0},t),(t=It.get(l))&&Co(e,t),i=n.createElement("script"),Fe(i),dt(i,"link",e),n.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},a.set(l,i))}}function xh(e,t){On.M(e,t);var n=Ns;if(n&&e){var a=Vn(n).hoistableScripts,l=qs(e),i=a.get(l);i||(i=n.querySelector(ql(l)),i||(e=f({src:e,async:!0,type:"module"},t),(t=It.get(l))&&Co(e,t),i=n.createElement("script"),Fe(i),dt(i,"link",e),n.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},a.set(l,i))}}function f0(e,t,n,a){var l=(l=re.current)?nc(l):null;if(!l)throw Error(m(446));switch(e){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(t=Ms(n.href),n=Vn(l).hoistableStyles,a=n.get(t),a||(a={type:"style",instance:null,count:0,state:null},n.set(t,a)),a):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){e=Ms(n.href);var i=Vn(l).hoistableStyles,r=i.get(e);if(r||(l=l.ownerDocument||l,r={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},i.set(e,r),(i=l.querySelector(Ml(e)))&&!i._p&&(r.instance=i,r.state.loading=5),It.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},It.set(e,n),i||yh(l,e,n,r.state))),t&&a===null)throw Error(m(528,""));return r}if(t&&a!==null)throw Error(m(529,""));return null;case"script":return t=n.async,n=n.src,typeof n=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=qs(n),n=Vn(l).hoistableScripts,a=n.get(t),a||(a={type:"script",instance:null,count:0,state:null},n.set(t,a)),a):{type:"void",instance:null,count:0,state:null};default:throw Error(m(444,e))}}function Ms(e){return'href="'+St(e)+'"'}function Ml(e){return'link[rel="stylesheet"]['+e+"]"}function m0(e){return f({},e,{"data-precedence":e.precedence,precedence:null})}function yh(e,t,n,a){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?a.loading=1:(t=e.createElement("link"),a.preload=t,t.addEventListener("load",function(){return a.loading|=1}),t.addEventListener("error",function(){return a.loading|=2}),dt(t,"link",n),Fe(t),e.head.appendChild(t))}function qs(e){return'[src="'+St(e)+'"]'}function ql(e){return"script[async]"+e}function p0(e,t,n){if(t.count++,t.instance===null)switch(t.type){case"style":var a=e.querySelector('style[data-href~="'+St(n.href)+'"]');if(a)return t.instance=a,Fe(a),a;var l=f({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return a=(e.ownerDocument||e).createElement("style"),Fe(a),dt(a,"style",l),ac(a,n.precedence,e),t.instance=a;case"stylesheet":l=Ms(n.href);var i=e.querySelector(Ml(l));if(i)return t.state.loading|=4,t.instance=i,Fe(i),i;a=m0(n),(l=It.get(l))&&wo(a,l),i=(e.ownerDocument||e).createElement("link"),Fe(i);var r=i;return r._p=new Promise(function(b,z){r.onload=b,r.onerror=z}),dt(i,"link",a),t.state.loading|=4,ac(i,n.precedence,e),t.instance=i;case"script":return i=qs(n.src),(l=e.querySelector(ql(i)))?(t.instance=l,Fe(l),l):(a=n,(l=It.get(i))&&(a=f({},n),Co(a,l)),e=e.ownerDocument||e,l=e.createElement("script"),Fe(l),dt(l,"link",a),e.head.appendChild(l),t.instance=l);case"void":return null;default:throw Error(m(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(a=t.instance,t.state.loading|=4,ac(a,n.precedence,e));return t.instance}function ac(e,t,n){for(var a=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),l=a.length?a[a.length-1]:null,i=l,r=0;r<a.length;r++){var b=a[r];if(b.dataset.precedence===t)i=b;else if(i!==l)break}i?i.parentNode.insertBefore(e,i.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function wo(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Co(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var sc=null;function h0(e,t,n){if(sc===null){var a=new Map,l=sc=new Map;l.set(n,a)}else l=sc,a=l.get(n),a||(a=new Map,l.set(n,a));if(a.has(e))return a;for(a.set(e,null),n=n.getElementsByTagName(e),l=0;l<n.length;l++){var i=n[l];if(!(i[Ma]||i[at]||e==="link"&&i.getAttribute("rel")==="stylesheet")&&i.namespaceURI!=="http://www.w3.org/2000/svg"){var r=i.getAttribute(t)||"";r=e+r;var b=a.get(r);b?b.push(i):a.set(r,[i])}}return a}function x0(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t==="title"?e.querySelector("head > title"):null)}function bh(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function y0(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function gh(e,t,n,a){if(n.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var l=Ms(a.href),i=t.querySelector(Ml(l));if(i){t=i._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=lc.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=i,Fe(i);return}i=t.ownerDocument||t,a=m0(a),(l=It.get(l))&&wo(a,l),i=i.createElement("link"),Fe(i);var r=i;r._p=new Promise(function(b,z){r.onload=b,r.onerror=z}),dt(i,"link",a),n.instance=i}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(e.count++,n=lc.bind(e),t.addEventListener("load",n),t.addEventListener("error",n))}}var Eo=0;function vh(e,t){return e.stylesheets&&e.count===0&&cc(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var a=setTimeout(function(){if(e.stylesheets&&cc(e,e.stylesheets),e.unsuspend){var i=e.unsuspend;e.unsuspend=null,i()}},6e4+t);0<e.imgBytes&&Eo===0&&(Eo=62500*eh());var l=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&cc(e,e.stylesheets),e.unsuspend)){var i=e.unsuspend;e.unsuspend=null,i()}},(e.imgBytes>Eo?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(a),clearTimeout(l)}}:null}function lc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)cc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var ic=null;function cc(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,ic=new Map,t.forEach(jh,e),ic=null,lc.call(e))}function jh(e,t){if(!(t.state.loading&4)){var n=ic.get(e);if(n)var a=n.get(null);else{n=new Map,ic.set(e,n);for(var l=e.querySelectorAll("link[data-precedence],style[data-precedence]"),i=0;i<l.length;i++){var r=l[i];(r.nodeName==="LINK"||r.getAttribute("media")!=="not all")&&(n.set(r.dataset.precedence,r),a=r)}a&&n.set(null,a)}l=t.instance,r=l.getAttribute("data-precedence"),i=n.get(r)||a,i===a&&n.set(null,l),n.set(r,l),this.count++,a=lc.bind(this),l.addEventListener("load",a),l.addEventListener("error",a),i?i.parentNode.insertBefore(l,i.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(l,e.firstChild)),t.state.loading|=4}}var Al={$$typeof:T,Provider:null,Consumer:null,_currentValue:B,_currentValue2:B,_threadCount:0};function Sh(e,t,n,a,l,i,r,b,z){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=_s(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=_s(0),this.hiddenUpdates=_s(null),this.identifierPrefix=a,this.onUncaughtError=l,this.onCaughtError=i,this.onRecoverableError=r,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=z,this.incompleteTransitions=new Map}function b0(e,t,n,a,l,i,r,b,z,L,W,se){return e=new Sh(e,t,n,r,z,L,W,se,b),t=1,i===!0&&(t|=24),i=zt(3,null,null,t),e.current=i,i.stateNode=e,t=cr(),t.refCount++,e.pooledCache=t,t.refCount++,i.memoizedState={element:a,isDehydrated:n,cache:t},dr(i),e}function g0(e){return e?(e=ns,e):ns}function v0(e,t,n,a,l,i){l=g0(l),a.context===null?a.context=l:a.pendingContext=l,a=ea(t),a.payload={element:n},i=i===void 0?null:i,i!==null&&(a.callback=i),n=ta(e,a,t),n!==null&&(Ct(n,e,t),sl(n,e,t))}function j0(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function ko(e,t){j0(e,t),(e=e.alternate)&&j0(e,t)}function S0(e){if(e.tag===13||e.tag===31){var t=ka(e,67108864);t!==null&&Ct(t,e,67108864),ko(e,67108864)}}function N0(e){if(e.tag===13||e.tag===31){var t=Dt();t=cn(t);var n=ka(e,t);n!==null&&Ct(n,e,t),ko(e,t)}}var rc=!0;function Nh(e,t,n,a){var l=j.T;j.T=null;var i=O.p;try{O.p=2,Ro(e,t,n,a)}finally{O.p=i,j.T=l}}function Mh(e,t,n,a){var l=j.T;j.T=null;var i=O.p;try{O.p=8,Ro(e,t,n,a)}finally{O.p=i,j.T=l}}function Ro(e,t,n,a){if(rc){var l=zo(a);if(l===null)yo(e,t,a,oc,n),q0(e,a);else if(Ah(l,e,t,n,a))a.stopPropagation();else if(q0(e,a),t&4&&-1<qh.indexOf(e)){for(;l!==null;){var i=Qn(l);if(i!==null)switch(i.tag){case 3:if(i=i.stateNode,i.current.memoizedState.isDehydrated){var r=ln(i.pendingLanes);if(r!==0){var b=i;for(b.pendingLanes|=2,b.entangledLanes|=2;r;){var z=1<<31-ht(r);b.entanglements[1]|=z,r&=~z}fn(i),(_e&6)===0&&(Vi=Le()+500,vl(0))}}break;case 31:case 13:b=ka(i,2),b!==null&&Ct(b,i,2),Zi(),ko(i,2)}if(i=zo(a),i===null&&yo(e,t,a,oc,n),i===l)break;l=i}l!==null&&a.stopPropagation()}else yo(e,t,a,null,n)}}function zo(e){return e=Oc(e),Oo(e)}var oc=null;function Oo(e){if(oc=null,e=Ln(e),e!==null){var t=p(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=S(t),e!==null)return e;e=null}else if(n===31){if(e=g(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return oc=e,null}function M0(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Qa()){case Ql:return 2;case Va:return 8;case pn:case Os:return 32;case sn:return 268435456;default:return 32}default:return 32}}var To=!1,fa=null,ma=null,pa=null,wl=new Map,Cl=new Map,ha=[],qh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function q0(e,t){switch(e){case"focusin":case"focusout":fa=null;break;case"dragenter":case"dragleave":ma=null;break;case"mouseover":case"mouseout":pa=null;break;case"pointerover":case"pointerout":wl.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Cl.delete(t.pointerId)}}function El(e,t,n,a,l,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:a,nativeEvent:i,targetContainers:[l]},t!==null&&(t=Qn(t),t!==null&&S0(t)),e):(e.eventSystemFlags|=a,t=e.targetContainers,l!==null&&t.indexOf(l)===-1&&t.push(l),e)}function Ah(e,t,n,a,l){switch(t){case"focusin":return fa=El(fa,e,t,n,a,l),!0;case"dragenter":return ma=El(ma,e,t,n,a,l),!0;case"mouseover":return pa=El(pa,e,t,n,a,l),!0;case"pointerover":var i=l.pointerId;return wl.set(i,El(wl.get(i)||null,e,t,n,a,l)),!0;case"gotpointercapture":return i=l.pointerId,Cl.set(i,El(Cl.get(i)||null,e,t,n,a,l)),!0}return!1}function A0(e){var t=Ln(e.target);if(t!==null){var n=p(t);if(n!==null){if(t=n.tag,t===13){if(t=S(n),t!==null){e.blockedOn=t,Il(e.priority,function(){N0(n)});return}}else if(t===31){if(t=g(n),t!==null){e.blockedOn=t,Il(e.priority,function(){N0(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function uc(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=zo(e.nativeEvent);if(n===null){n=e.nativeEvent;var a=new n.constructor(n.type,n);zc=a,n.target.dispatchEvent(a),zc=null}else return t=Qn(n),t!==null&&S0(t),e.blockedOn=n,!1;t.shift()}return!0}function w0(e,t,n){uc(e)&&n.delete(t)}function wh(){To=!1,fa!==null&&uc(fa)&&(fa=null),ma!==null&&uc(ma)&&(ma=null),pa!==null&&uc(pa)&&(pa=null),wl.forEach(w0),Cl.forEach(w0)}function dc(e,t){e.blockedOn===t&&(e.blockedOn=null,To||(To=!0,c.unstable_scheduleCallback(c.unstable_NormalPriority,wh)))}var fc=null;function C0(e){fc!==e&&(fc=e,c.unstable_scheduleCallback(c.unstable_NormalPriority,function(){fc===e&&(fc=null);for(var t=0;t<e.length;t+=3){var n=e[t],a=e[t+1],l=e[t+2];if(typeof a!="function"){if(Oo(a||n)===null)continue;break}var i=Qn(n);i!==null&&(e.splice(t,3),t-=3,Rr(i,{pending:!0,data:l,method:n.method,action:a},a,l))}}))}function As(e){function t(z){return dc(z,e)}fa!==null&&dc(fa,e),ma!==null&&dc(ma,e),pa!==null&&dc(pa,e),wl.forEach(t),Cl.forEach(t);for(var n=0;n<ha.length;n++){var a=ha[n];a.blockedOn===e&&(a.blockedOn=null)}for(;0<ha.length&&(n=ha[0],n.blockedOn===null);)A0(n),n.blockedOn===null&&ha.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(a=0;a<n.length;a+=3){var l=n[a],i=n[a+1],r=l[ft]||null;if(typeof i=="function")r||C0(n);else if(r){var b=null;if(i&&i.hasAttribute("formAction")){if(l=i,r=i[ft]||null)b=r.formAction;else if(Oo(l)!==null)continue}else b=r.action;typeof b=="function"?n[a+1]=b:(n.splice(a,3),a-=3),C0(n)}}}function E0(){function e(i){i.canIntercept&&i.info==="react-transition"&&i.intercept({handler:function(){return new Promise(function(r){return l=r})},focusReset:"manual",scroll:"manual"})}function t(){l!==null&&(l(),l=null),a||setTimeout(n,20)}function n(){if(!a&&!navigation.transition){var i=navigation.currentEntry;i&&i.url!=null&&navigation.navigate(i.url,{state:i.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var a=!1,l=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(n,100),function(){a=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),l!==null&&(l(),l=null)}}}function _o(e){this._internalRoot=e}mc.prototype.render=_o.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(m(409));var n=t.current,a=Dt();v0(n,a,e,t,null,null)},mc.prototype.unmount=_o.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;v0(e.current,2,null,e,null,null),Zi(),t[Yn]=null}};function mc(e){this._internalRoot=e}mc.prototype.unstable_scheduleHydration=function(e){if(e){var t=Kl();e={blockedOn:null,target:e,priority:t};for(var n=0;n<ha.length&&t!==0&&t<ha[n].priority;n++);ha.splice(n,0,e),n===0&&A0(e)}};var k0=h.version;if(k0!=="19.2.0")throw Error(m(527,k0,"19.2.0"));O.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(m(188)):(e=Object.keys(e).join(","),Error(m(268,e)));return e=d(t),e=e!==null?o(e):null,e=e===null?null:e.stateNode,e};var Ch={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:j,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var pc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!pc.isDisabled&&pc.supportsFiber)try{Un=pc.inject(Ch),lt=pc}catch{}}return Rl.createRoot=function(e,t){if(!E(e))throw Error(m(299));var n=!1,a="",l=Hd,i=Dd,r=$d;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(a=t.identifierPrefix),t.onUncaughtError!==void 0&&(l=t.onUncaughtError),t.onCaughtError!==void 0&&(i=t.onCaughtError),t.onRecoverableError!==void 0&&(r=t.onRecoverableError)),t=b0(e,1,!1,null,null,n,a,null,l,i,r,E0),e[Yn]=t.current,xo(e),new _o(t)},Rl.hydrateRoot=function(e,t,n){if(!E(e))throw Error(m(299));var a=!1,l="",i=Hd,r=Dd,b=$d,z=null;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(i=n.onUncaughtError),n.onCaughtError!==void 0&&(r=n.onCaughtError),n.onRecoverableError!==void 0&&(b=n.onRecoverableError),n.formState!==void 0&&(z=n.formState)),t=b0(e,1,!0,t,n??null,a,l,z,i,r,b,E0),t.context=g0(null),n=t.current,a=Dt(),a=cn(a),l=ea(a),l.callback=null,ta(n,l,a),n=a,t.current.lanes=n,hn(t,n),fn(t),e[Yn]=t.current,xo(e),new mc(t)},Rl.version="19.2.0",Rl}var B0;function $h(){if(B0)return $o.exports;B0=1;function c(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(c)}catch(h){console.error(h)}}return c(),$o.exports=Dh(),$o.exports}var Uh=$h();const Bh=Jo(Uh);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gh=c=>c.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Yh=c=>c.replace(/^([A-Z])|[\s-_]+(\w)/g,(h,u,m)=>m?m.toUpperCase():u.toLowerCase()),G0=c=>{const h=Yh(c);return h.charAt(0).toUpperCase()+h.slice(1)},om=(...c)=>c.filter((h,u,m)=>!!h&&h.trim()!==""&&m.indexOf(h)===u).join(" ").trim(),Lh=c=>{for(const h in c)if(h.startsWith("aria-")||h==="role"||h==="title")return!0};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Qh={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vh=X.forwardRef(({color:c="currentColor",size:h=24,strokeWidth:u=2,absoluteStrokeWidth:m,className:E="",children:p,iconNode:S,...g},M)=>X.createElement("svg",{ref:M,...Qh,width:h,height:h,stroke:c,strokeWidth:m?Number(u)*24/Number(h):u,className:om("lucide",E),...!p&&!Lh(g)&&{"aria-hidden":"true"},...g},[...S.map(([d,o])=>X.createElement(d,o)),...Array.isArray(p)?p:[p]]));/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const be=(c,h)=>{const u=X.forwardRef(({className:m,...E},p)=>X.createElement(Vh,{ref:p,iconNode:h,className:om(`lucide-${Gh(G0(c))}`,`lucide-${c}`,m),...E}));return u.displayName=G0(c),u};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xh=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],Zh=be("arrow-right",Xh);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jh=[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]],Kh=be("arrow-up-down",Jh);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ih=[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]],Wh=be("arrow-up",Ih);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fh=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],Ph=be("award",Fh);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ex=[["path",{d:"M4 10a4 4 0 0 1 4-4h8a4 4 0 0 1 4 4v10a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2z",key:"1ol0lm"}],["path",{d:"M8 10h8",key:"c7uz4u"}],["path",{d:"M8 18h8",key:"1no2b1"}],["path",{d:"M8 22v-6a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v6",key:"1fr6do"}],["path",{d:"M9 6V4a2 2 0 0 1 2-2h2a2 2 0 0 1 2 2v2",key:"donm21"}]],um=be("backpack",ex);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tx=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],$l=be("book-open",tx);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nx=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],ax=be("chart-column",nx);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sx=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],lx=be("check",sx);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ix=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],cx=be("chevron-down",ix);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rx=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],ox=be("chevron-up",rx);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ux=[["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M8.35 2.69A10 10 0 0 1 21.3 15.65",key:"1pfsoa"}],["path",{d:"M19.08 19.08A10 10 0 1 1 4.92 4.92",key:"1ablyi"}]],dx=be("circle-off",ux);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fx=[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]],Lo=be("coins",fx);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mx=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],px=be("download",mx);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hx=[["path",{d:"M12 22a7 7 0 0 0 7-7c0-2-1-3.9-3-5.5s-3.5-4-4-6.5c-.5 2.5-2 4.9-4 6.5C6 11.1 5 13 5 15a7 7 0 0 0 7 7z",key:"c7niix"}]],xx=be("droplet",hx);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yx=[["path",{d:"M12 3q1 4 4 6.5t3 5.5a1 1 0 0 1-14 0 5 5 0 0 1 1-3 1 1 0 0 0 5 0c0-2-1.5-3-1.5-5q0-2 2.5-4",key:"1slcih"}]],Y0=be("flame",yx);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bx=[["path",{d:"M14 2v6a2 2 0 0 0 .245.96l5.51 10.08A2 2 0 0 1 18 22H6a2 2 0 0 1-1.755-2.96l5.51-10.08A2 2 0 0 0 10 8V2",key:"18mbvz"}],["path",{d:"M6.453 15h11.094",key:"3shlmq"}],["path",{d:"M8.5 2h7",key:"csnxdl"}]],gx=be("flask-conical",bx);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vx=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],Tl=be("funnel",vx);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jx=[["path",{d:"M10.5 3 8 9l4 13 4-13-2.5-6",key:"b3dvk1"}],["path",{d:"M17 3a2 2 0 0 1 1.6.8l3 4a2 2 0 0 1 .013 2.382l-7.99 10.986a2 2 0 0 1-3.247 0l-7.99-10.986A2 2 0 0 1 2.4 7.8l2.998-3.997A2 2 0 0 1 7 3z",key:"7w4byz"}],["path",{d:"M2 9h20",key:"16fsjt"}]],Sx=be("gem",jx);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nx=[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]],_l=be("gift",Nx);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mx=[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]],L0=be("github",Mx);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qx=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],Ax=be("globe",qx);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wx=[["path",{d:"m15 12-9.373 9.373a1 1 0 0 1-3.001-3L12 9",key:"1hayfq"}],["path",{d:"m18 15 4-4",key:"16gjal"}],["path",{d:"m21.5 11.5-1.914-1.914A2 2 0 0 1 19 8.172v-.344a2 2 0 0 0-.586-1.414l-1.657-1.657A6 6 0 0 0 12.516 3H9l1.243 1.243A6 6 0 0 1 12 8.485V10l2 2h1.172a2 2 0 0 1 1.414.586L18.5 14.5",key:"15ts47"}]],dm=be("hammer",wx);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cx=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],Ul=be("heart",Cx);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ex=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Q0=be("loader-circle",Ex);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kx=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Rx=be("lock",kx);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zx=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],Ox=be("menu",zx);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tx=[["path",{d:"M5 12h14",key:"1ays0h"}]],_x=be("minus",Tx);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hx=[["path",{d:"m8 3 4 8 5-5 5 15H2L8 3z",key:"otkl63"}]],fm=be("mountain",Hx);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dx=[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]],$x=be("music",Dx);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ux=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],yc=be("package",Ux);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bx=[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]],V0=be("pause",Bx);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gx=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],Qo=be("play",Gx);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yx=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Lx=be("plus",Yx);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qx=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],ws=be("refresh-cw",Qx);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vx=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],X0=be("save",Vx);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xx=[["path",{d:"M19 17V5a2 2 0 0 0-2-2H4",key:"zz82l3"}],["path",{d:"M8 21h12a2 2 0 0 0 2-2v-1a1 1 0 0 0-1-1H11a1 1 0 0 0-1 1v1a2 2 0 1 1-4 0V5a2 2 0 1 0-4 0v2a1 1 0 0 0 1 1h3",key:"1ph1d7"}]],mm=be("scroll",Xx);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zx=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],pm=be("settings",Zx);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jx=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Vo=be("shield-check",Jx);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kx=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],_n=be("shield",Kx);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ix=[["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}],["path",{d:"M3.103 6.034h17.794",key:"awc11p"}],["path",{d:"M3.4 5.467a2 2 0 0 0-.4 1.2V20a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6.667a2 2 0 0 0-.4-1.2l-2-2.667A2 2 0 0 0 17 2H7a2 2 0 0 0-1.6.8z",key:"o988cm"}]],hm=be("shopping-bag",Ix);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wx=[["path",{d:"M21 4v16",key:"7j8fe9"}],["path",{d:"M6.029 4.285A2 2 0 0 0 3 6v12a2 2 0 0 0 3.029 1.715l9.997-5.998a2 2 0 0 0 .003-3.432z",key:"zs4d6"}]],Fx=be("skip-forward",Wx);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Px=[["path",{d:"m12.5 17-.5-1-.5 1h1z",key:"3me087"}],["path",{d:"M15 22a1 1 0 0 0 1-1v-1a2 2 0 0 0 1.56-3.25 8 8 0 1 0-11.12 0A2 2 0 0 0 8 20v1a1 1 0 0 0 1 1z",key:"1o5pge"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}]],Z0=be("skull",Px);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ey=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],bt=be("sparkles",ey);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ty=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],Cs=be("star",ty);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ny=[["path",{d:"m11 19-6-6",key:"s7kpr"}],["path",{d:"m5 21-2-2",key:"1kw20b"}],["path",{d:"m8 16-4 4",key:"1oqv8h"}],["path",{d:"M9.5 17.5 21 6V3h-3L6.5 14.5",key:"pkxemp"}]],ks=be("sword",ny);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ay=[["polyline",{points:"14.5 17.5 3 6 3 3 6 3 17.5 14.5",key:"1hfsw2"}],["line",{x1:"13",x2:"19",y1:"19",y2:"13",key:"1vrmhu"}],["line",{x1:"16",x2:"20",y1:"16",y2:"20",key:"1bron3"}],["line",{x1:"19",x2:"21",y1:"21",y2:"19",key:"13pww6"}],["polyline",{points:"14.5 6.5 18 3 21 3 21 6 17.5 9.5",key:"hbey2j"}],["line",{x1:"5",x2:"9",y1:"14",y2:"18",key:"1hf58s"}],["line",{x1:"7",x2:"4",y1:"17",y2:"20",key:"pidxm4"}],["line",{x1:"3",x2:"5",y1:"19",y2:"21",key:"1pehsh"}]],sy=be("swords",ay);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ly=[["path",{d:"M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"qn84l0"}],["path",{d:"M13 5v2",key:"dyzc3o"}],["path",{d:"M13 17v2",key:"1ont0d"}],["path",{d:"M13 11v2",key:"1wjjxi"}]],iy=be("ticket",ly);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cy=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Xo=be("trash-2",cy);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ry=[["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],xm=be("trash",ry);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oy=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],bc=be("trophy",oy);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uy=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],dy=be("upload",uy);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fy=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],ym=be("user",fy);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const my=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],py=be("users",my);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hy=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]],xy=be("volume-2",hy);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yy=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],ct=be("x",yy);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const by=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],Tn=be("zap",by),gy=({hasSave:c,onStart:h,onContinue:u})=>s.jsxs("div",{className:"fixed inset-0 bg-gradient-to-br from-stone-900 via-stone-800 to-stone-900 flex items-center justify-center z-50 overflow-hidden touch-manipulation",children:[s.jsx("div",{className:"absolute inset-0 opacity-20",children:s.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_50%_50%,rgba(203,161,53,0.1),transparent_70%)]"})}),s.jsxs("div",{className:"relative z-10 flex flex-col items-center justify-center w-full h-full p-3 sm:p-4 md:p-6 lg:p-8",children:[s.jsx("div",{className:"mb-4 sm:mb-6 md:mb-8 lg:mb-12 animate-fade-in",children:s.jsxs("div",{className:"relative",children:[s.jsx("img",{src:"/assets/images/logo.png",alt:"",className:"w-[70vw] max-w-[280px] sm:w-[60vw] sm:max-w-[400px] md:max-w-[500px] lg:max-w-[600px] h-auto max-h-[30vh] sm:max-h-[35vh] md:max-h-[40vh] lg:max-h-[400px] object-contain drop-shadow-2xl relative z-10 animate-glow-pulse"}),s.jsx("div",{className:"absolute inset-0 -z-0 blur-2xl sm:blur-3xl opacity-20 sm:opacity-30 animate-glow-pulse",style:{background:"radial-gradient(circle, rgba(203, 161, 53, 0.6) 0%, transparent 70%)",transform:"scale(1.3)"}})]})}),s.jsxs("div",{className:"text-center mb-4 sm:mb-6 md:mb-8 lg:mb-12 px-4 animate-fade-in",style:{animationDelay:"0.2s"},children:[s.jsx("h1",{className:"text-2xl sm:text-3xl md:text-4xl lg:text-5xl xl:text-6xl font-serif font-bold text-mystic-gold tracking-wide sm:tracking-wider md:tracking-widest mb-2 sm:mb-3 md:mb-4 drop-shadow-lg",children:""}),s.jsx("p",{className:"text-stone-400 text-sm sm:text-base md:text-lg lg:text-xl xl:text-2xl font-light px-2",children:""})]}),s.jsx("div",{className:"animate-fade-in flex flex-col gap-2 sm:gap-3 md:gap-4 w-full max-w-xs sm:max-w-sm md:max-w-md px-4 sm:px-0",style:{animationDelay:"0.4s"},children:c?s.jsxs(s.Fragment,{children:[s.jsxs("button",{onClick:u,className:"group relative px-4 sm:px-6 md:px-8 lg:px-12 py-3 sm:py-3.5 md:py-4 lg:py-5 bg-gradient-to-r from-mystic-jade to-green-600 text-stone-900 font-bold text-sm sm:text-base md:text-lg lg:text-xl rounded-lg transition-all duration-300 shadow-lg hover:shadow-2xl hover:scale-105 active:scale-95 flex items-center justify-center gap-2 sm:gap-3 min-h-[50px] sm:min-h-[55px] md:min-h-[60px] lg:min-h-[70px] touch-manipulation overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent -translate-x-full group-hover:translate-x-full transition-transform duration-1000"}),s.jsx(Qo,{size:20,className:"sm:w-6 sm:h-6 md:w-7 md:h-7 relative z-10 flex-shrink-0"}),s.jsx("span",{className:"relative z-10 whitespace-nowrap",children:""})]}),s.jsxs("button",{onClick:h,className:"group relative px-4 sm:px-6 md:px-8 lg:px-12 py-2.5 sm:py-3 md:py-4 lg:py-5 bg-gradient-to-r from-stone-600 to-stone-700 text-stone-200 font-bold text-xs sm:text-sm md:text-base lg:text-lg rounded-lg transition-all duration-300 shadow-lg hover:shadow-xl hover:scale-105 active:scale-95 flex items-center justify-center gap-2 sm:gap-3 min-h-[45px] sm:min-h-[50px] md:min-h-[55px] lg:min-h-[60px] touch-manipulation overflow-hidden border border-stone-500",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/10 to-transparent -translate-x-full group-hover:translate-x-full transition-transform duration-1000"}),s.jsx(bt,{size:18,className:"sm:w-5 sm:h-5 md:w-6 md:h-6 relative z-10 flex-shrink-0"}),s.jsx("span",{className:"relative z-10 whitespace-nowrap",children:""})]})]}):s.jsxs("button",{onClick:h,className:"group relative px-4 sm:px-6 md:px-8 lg:px-12 py-3 sm:py-3.5 md:py-4 lg:py-5 bg-gradient-to-r from-mystic-gold to-yellow-600 text-stone-900 font-bold text-sm sm:text-base md:text-lg lg:text-xl rounded-lg transition-all duration-300 shadow-lg hover:shadow-2xl hover:scale-105 active:scale-95 flex items-center justify-center gap-2 sm:gap-3 min-h-[50px] sm:min-h-[55px] md:min-h-[60px] lg:min-h-[70px] touch-manipulation overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent -translate-x-full group-hover:translate-x-full transition-transform duration-1000"}),s.jsx(bt,{size:20,className:"sm:w-6 sm:h-6 md:w-7 md:h-7 relative z-10 flex-shrink-0"}),s.jsx("span",{className:"relative z-10 whitespace-nowrap",children:""})]})}),s.jsx("div",{className:"absolute bottom-4 sm:bottom-6 md:bottom-8 lg:bottom-12 left-0 right-0 text-center animate-fade-in px-4",style:{animationDelay:"0.6s"},children:s.jsx("p",{className:"text-stone-500 text-[10px] sm:text-xs md:text-sm",children:""})})]})]});var me=(c=>(c.QiRefining="",c.Foundation="",c.GoldenCore="",c.NascentSoul="",c.SpiritSevering="",c.VoidRefining="",c.ImmortalAscension="",c))(me||{}),v=(c=>(c.Herb="",c.Pill="",c.Material="",c.Artifact="",c.Weapon="",c.Armor="",c.Accessory="",c.Ring="",c.Recipe="",c))(v||{}),k=(c=>(c.Head="",c.Shoulder="",c.Chest="",c.Gloves="",c.Legs="",c.Boots="",c.Ring1="1",c.Ring2="2",c.Ring3="3",c.Ring4="4",c.Accessory1="1",c.Accessory2="2",c.Artifact1="1",c.Artifact2="2",c.Weapon="",c))(k||{}),mn=(c=>(c.Outer="",c.Inner="",c.Core="",c.Elder="",c))(mn||{}),Et=(c=>(c.Village="",c.City="",c.Sect="",c))(Et||{});const Ae=[me.QiRefining,me.Foundation,me.GoldenCore,me.NascentSoul,me.SpiritSevering,me.VoidRefining,me.ImmortalAscension],Zo={[me.QiRefining]:{baseMaxHp:100,baseAttack:10,baseDefense:5,baseSpirit:5,basePhysique:10,baseSpeed:10,maxExpBase:100},[me.Foundation]:{baseMaxHp:500,baseAttack:50,baseDefense:25,baseSpirit:25,basePhysique:50,baseSpeed:30,maxExpBase:1e3},[me.GoldenCore]:{baseMaxHp:2500,baseAttack:200,baseDefense:100,baseSpirit:100,basePhysique:200,baseSpeed:50,maxExpBase:5e3},[me.NascentSoul]:{baseMaxHp:1e4,baseAttack:1e3,baseDefense:500,baseSpirit:500,basePhysique:1e3,baseSpeed:100,maxExpBase:25e3},[me.SpiritSevering]:{baseMaxHp:5e4,baseAttack:5e3,baseDefense:2500,baseSpirit:2500,basePhysique:5e3,baseSpeed:200,maxExpBase:1e5},[me.VoidRefining]:{baseMaxHp:2e5,baseAttack:2e4,baseDefense:1e4,baseSpirit:1e4,basePhysique:2e4,baseSpeed:300,maxExpBase:5e5},[me.ImmortalAscension]:{baseMaxHp:1e6,baseAttack:1e5,baseDefense:5e4,baseSpirit:5e4,basePhysique:1e5,baseSpeed:500,maxExpBase:9999999}},an={:1,:1.5,:2.5,:5},Rs=[{id:"art-basic-breath",name:"",type:"mental",description:"",realmRequirement:me.QiRefining,cost:0,effects:{expRate:.1}},{id:"art-iron-skin",name:"",type:"body",description:"",realmRequirement:me.QiRefining,cost:50,effects:{defense:5,hp:20}},{id:"art-spirit-cloud",name:"",type:"mental",description:"",realmRequirement:me.QiRefining,cost:100,sectId:"sect-cloud",effects:{expRate:.25,attack:5}},{id:"art-fiery-fist",name:"",type:"body",description:"",realmRequirement:me.Foundation,cost:300,effects:{attack:30}},{id:"art-jade-bone",name:"",type:"body",description:"",realmRequirement:me.Foundation,cost:500,effects:{defense:20,hp:100}},{id:"art-pure-yang",name:"",type:"mental",description:"",realmRequirement:me.GoldenCore,cost:2e3,effects:{expRate:.5,attack:50}},{id:"art-thunder-sword",name:"",type:"body",description:"",realmRequirement:me.GoldenCore,cost:3e3,effects:{attack:150}},{id:"art-immortal-life",name:"",type:"mental",description:"",realmRequirement:me.NascentSoul,cost:8e3,effects:{expRate:.6,hp:2e3}},{id:"art-void-body",name:"",type:"body",description:"",realmRequirement:me.SpiritSevering,cost:2e4,effects:{defense:500,attack:500,hp:5e3}},{id:"art-wind-step",name:"",type:"body",description:"",realmRequirement:me.QiRefining,cost:80,effects:{attack:8}},{id:"art-water-mirror",name:"",type:"mental",description:"",realmRequirement:me.Foundation,cost:400,effects:{expRate:.3,defense:15}},{id:"art-earth-shield",name:"",type:"body",description:"",realmRequirement:me.Foundation,cost:600,effects:{defense:40,hp:150}},{id:"art-ice-soul",name:"",type:"mental",description:"",realmRequirement:me.GoldenCore,cost:2500,effects:{expRate:.6,defense:30}},{id:"art-dragon-fist",name:"",type:"body",description:"",realmRequirement:me.GoldenCore,cost:3500,effects:{attack:200}},{id:"art-phoenix-rebirth",name:"",type:"mental",description:"",realmRequirement:me.NascentSoul,cost:1e4,effects:{expRate:.7,hp:3e3,attack:100}},{id:"art-star-destruction",name:"",type:"body",description:"",realmRequirement:me.SpiritSevering,cost:25e3,effects:{attack:1e3,defense:200}},{id:"art-universe-devour",name:"",type:"mental",description:"",realmRequirement:me.VoidRefining,cost:5e4,effects:{expRate:1,attack:500,defense:500,hp:1e4}}],vy=[{id:"spirit-stone-shard",name:"",type:v.Material,description:"",quantity:5,rarity:""},{id:"refining-stone",name:"",type:v.Material,description:"",quantity:10,rarity:""},{id:"healing-herb",name:"",type:v.Herb,description:"",quantity:2,rarity:"",effect:{hp:20}},{id:"spirit-gathering-grass",name:"",type:v.Herb,description:"",quantity:5,rarity:""},{id:"iron-sword",name:"",type:v.Weapon,description:"",quantity:1,rarity:"",level:0,isEquippable:!0,equipmentSlot:k.Weapon,effect:{attack:5}},{id:"cloth-robe",name:"",type:v.Armor,description:"",quantity:1,rarity:"",level:0,isEquippable:!0,equipmentSlot:k.Chest,effect:{defense:3,hp:10}}],jy=[{name:"",cost:10,ingredients:[{name:"",qty:3}],result:{name:"",type:v.Pill,description:"",rarity:"",effect:{exp:50}}},{name:"",cost:20,ingredients:[{name:"",qty:3},{name:"",qty:1}],result:{name:"",type:v.Pill,description:"",rarity:"",effect:{hp:200}}},{name:"",cost:100,ingredients:[{name:"",qty:2},{name:"",qty:1}],result:{name:"",type:v.Pill,description:"",rarity:"",effect:{hp:50}}},{name:"",cost:500,ingredients:[{name:"",qty:2},{name:"",qty:1}],result:{name:"",type:v.Pill,description:"",rarity:"",effect:{exp:500}}},{name:"",cost:2e3,ingredients:[{name:"",qty:3},{name:"",qty:2}],result:{name:"",type:v.Pill,description:"",rarity:"",effect:{hp:500}}},{name:"",cost:5e3,ingredients:[{name:"",qty:1},{name:"",qty:1}],result:{name:"",type:v.Pill,description:"",rarity:"",effect:{exp:5e3,attack:10,defense:10}}}],gc=[{name:"",cost:150,ingredients:[{name:"",qty:3},{name:"",qty:2}],result:{name:"",type:v.Pill,description:"",rarity:"",effect:{spirit:20}}},{name:"",cost:200,ingredients:[{name:"",qty:2},{name:"",qty:3}],result:{name:"",type:v.Pill,description:"",rarity:"",effect:{physique:20}}},{name:"",cost:800,ingredients:[{name:"",qty:1},{name:"",qty:2}],result:{name:"",type:v.Pill,description:"",rarity:"",effect:{exp:1e3}}},{name:"",cost:3e3,ingredients:[{name:"",qty:1},{name:"",qty:3}],result:{name:"",type:v.Pill,description:"",rarity:"",effect:{exp:2e3,spirit:50,physique:50}}},{name:"",cost:1e4,ingredients:[{name:"",qty:2},{name:"",qty:2},{name:"",qty:5}],result:{name:"",type:v.Pill,description:"",rarity:"",effect:{exp:1e4,attack:50,defense:50,spirit:100,physique:100,speed:30}}}],vc="",jc="",Sy=50,Ny=2,bm=.1,gm=(c="")=>{switch(c){case"":return .1;case"":return .15;case"":return .2;case"":return .25;default:return .1}},Bl=[{id:"sect-cloud",name:"",description:"",reqRealm:me.QiRefining,grade:"",exitCost:{spiritStones:500,items:[{name:"",quantity:10}]}},{id:"sect-fire",name:"",description:"",reqRealm:me.Foundation,grade:"",exitCost:{spiritStones:2e3,items:[{name:"",quantity:20}]}},{id:"sect-sword",name:"",description:"",reqRealm:me.Foundation,grade:"",exitCost:{spiritStones:2e3,items:[{name:"",quantity:15}]}},{id:"sect-temple",name:"",description:"",reqRealm:me.QiRefining,grade:"",exitCost:{spiritStones:500,items:[{name:"",quantity:10}]}},{id:"sect-taoist",name:"",description:"",reqRealm:me.Foundation,grade:"",exitCost:{spiritStones:2e3,items:[{name:"",quantity:15}]}},{id:"sect-blood",name:"",description:"",reqRealm:me.GoldenCore,grade:"",exitCost:{spiritStones:1e4,items:[{name:"",quantity:5}]}},{id:"sect-lotus",name:"",description:"",reqRealm:me.Foundation,grade:"",exitCost:{spiritStones:2e3,items:[{name:"",quantity:15}]}},{id:"sect-xuantian",name:"",description:"",reqRealm:me.GoldenCore,grade:"",exitCost:{spiritStones:1e4,items:[{name:"",quantity:3}]}},{id:"sect-jiuyou",name:"",description:"",reqRealm:me.GoldenCore,grade:"",exitCost:{spiritStones:1e4,items:[{name:"",quantity:5}]}},{id:"sect-star",name:"",description:"",reqRealm:me.NascentSoul,grade:"",exitCost:{spiritStones:5e4,items:[{name:"",quantity:10}]}},{id:"sect-dragon",name:"",description:"",reqRealm:me.NascentSoul,grade:"",exitCost:{spiritStones:5e4,items:[{name:"",quantity:5}]}},{id:"sect-phoenix",name:"",description:"",reqRealm:me.NascentSoul,grade:"",exitCost:{spiritStones:5e4,items:[{name:"",quantity:3}]}},{id:"sect-thunder",name:"",description:"",reqRealm:me.GoldenCore,grade:"",exitCost:{spiritStones:2e3,items:[{name:"",quantity:20}]}},{id:"sect-ice",name:"",description:"",reqRealm:me.Foundation,grade:"",exitCost:{spiritStones:300,items:[{name:"",quantity:5}]}},{id:"sect-poison",name:"",description:"",reqRealm:me.Foundation,grade:"",exitCost:{spiritStones:300,items:[{name:"",quantity:5}]}},{id:"sect-illusion",name:"",description:"",reqRealm:me.Foundation,grade:"",exitCost:{spiritStones:300,items:[{name:"",quantity:5}]}},{id:"sect-diamond",name:"",description:"",reqRealm:me.QiRefining,grade:"",exitCost:{spiritStones:500,items:[{name:"",quantity:10}]}},{id:"sect-yinyang",name:"",description:"",reqRealm:me.GoldenCore,grade:"",exitCost:{spiritStones:2e3,items:[{name:"",quantity:15}]}}],vm={[mn.Outer]:{contribution:0,realmIndex:0},[mn.Inner]:{contribution:500,realmIndex:1},[mn.Core]:{contribution:2e3,realmIndex:2},[mn.Elder]:{contribution:1e4,realmIndex:3}};v.Material,v.Pill,v.Herb,v.Pill,v.Pill,v.Material;me.QiRefining,me.Foundation,me.GoldenCore;const Hn=[{id:"talent-ordinary",name:"",description:"",rarity:"",effects:{}},{id:"talent-strong-body",name:"",description:"",rarity:"",effects:{hp:50}},{id:"talent-quick-learner",name:"",description:"",rarity:"",effects:{expRate:.05}},{id:"talent-spirit-root",name:"",description:"10%",rarity:"",effects:{expRate:.1}},{id:"talent-iron-bone",name:"",description:"",rarity:"",effects:{defense:30,physique:20}},{id:"talent-sharp-blade",name:"",description:"",rarity:"",effects:{attack:40}},{id:"talent-spirit-sense",name:"",description:"",rarity:"",effects:{spirit:25,speed:15}},{id:"talent-vitality",name:"",description:"",rarity:"",effects:{hp:150,physique:15}},{id:"talent-fast-cultivation",name:"",description:"15%",rarity:"",effects:{expRate:.15}},{id:"talent-lucky",name:"",description:"",rarity:"",effects:{luck:20}},{id:"talent-balanced",name:"",description:"",rarity:"",effects:{attack:20,defense:20,hp:80,spirit:15,physique:15,speed:10}},{id:"talent-immortal-body",name:"",description:"",rarity:"",effects:{hp:200,defense:50}},{id:"talent-sword-heart",name:"",description:"",rarity:"",effects:{attack:100}},{id:"talent-thunder-body",name:"",description:"",rarity:"",effects:{attack:80,speed:40,spirit:30}},{id:"talent-dragon-blood",name:"",description:"",rarity:"",effects:{hp:300,physique:50,defense:40}},{id:"talent-genius",name:"",description:"",rarity:"",effects:{expRate:.25,spirit:40}},{id:"talent-blessed",name:"",description:"",rarity:"",effects:{luck:35,expRate:.15}},{id:"talent-lucky-star",name:"",description:"",rarity:"",effects:{luck:50,expRate:.2}},{id:"talent-immortal-king",name:"",description:"",rarity:"",effects:{attack:150,defense:100,hp:400,spirit:60,physique:60,speed:50,expRate:.3}},{id:"talent-chaos-body",name:"",description:"",rarity:"",effects:{attack:120,defense:80,hp:350,spirit:50,physique:50,speed:40,expRate:.25,luck:30}}],ba=[{id:"title-novice",name:"",description:"",requirement:"",effects:{}},{id:"title-foundation",name:"",description:"",requirement:"",effects:{attack:10,defense:5}},{id:"title-golden-core",name:"",description:"",requirement:"",effects:{attack:50,defense:25,hp:200}},{id:"title-nascent-soul",name:"",description:"",requirement:"",effects:{attack:200,defense:100,hp:1e3}},{id:"title-immortal",name:"",description:"",requirement:"",effects:{attack:1e3,defense:500,hp:5e3,expRate:.3}}];me.Foundation,me.GoldenCore;me.QiRefining,me.Foundation,me.GoldenCore;const Es=[{id:"ach-first-step",name:"",description:"",category:"cultivation",requirement:{type:"custom",value:1,target:"meditate"},reward:{exp:50,spiritStones:10},rarity:""},{id:"ach-foundation",name:"",description:"",category:"cultivation",requirement:{type:"realm",value:1,target:me.Foundation},reward:{exp:500,spiritStones:200,titleId:"title-foundation"},rarity:""},{id:"ach-golden-core",name:"",description:"",category:"cultivation",requirement:{type:"realm",value:1,target:me.GoldenCore},reward:{exp:2e3,spiritStones:1e3,titleId:"title-golden-core"},rarity:""},{id:"ach-first-kill",name:"",description:"",category:"combat",requirement:{type:"kill",value:1},reward:{exp:100,spiritStones:50},rarity:""},{id:"ach-collector",name:"",description:"10",category:"collection",requirement:{type:"collect",value:10},reward:{exp:300,spiritStones:200},rarity:""},{id:"ach-immortal",name:"",description:"",category:"special",requirement:{type:"realm",value:1,target:me.ImmortalAscension},reward:{exp:1e4,spiritStones:1e4,titleId:"title-immortal"},rarity:""},{id:"ach-nascent-soul",name:"",description:"",category:"cultivation",requirement:{type:"realm",value:1,target:me.NascentSoul},reward:{exp:5e3,spiritStones:3e3},rarity:""},{id:"ach-spirit-severing",name:"",description:"",category:"cultivation",requirement:{type:"realm",value:1,target:me.SpiritSevering},reward:{exp:8e3,spiritStones:5e3},rarity:""},{id:"ach-void-refining",name:"",description:"",category:"cultivation",requirement:{type:"realm",value:1,target:me.VoidRefining},reward:{exp:12e3,spiritStones:8e3},rarity:""},{id:"ach-killer-10",name:"",description:"10",category:"combat",requirement:{type:"kill",value:10},reward:{exp:200,spiritStones:100},rarity:""},{id:"ach-killer-50",name:"",description:"50",category:"combat",requirement:{type:"kill",value:50},reward:{exp:1e3,spiritStones:500},rarity:""},{id:"ach-killer-100",name:"",description:"100",category:"combat",requirement:{type:"kill",value:100},reward:{exp:3e3,spiritStones:1500},rarity:""},{id:"ach-collector-20",name:"",description:"20",category:"collection",requirement:{type:"collect",value:20},reward:{exp:500,spiritStones:300},rarity:""},{id:"ach-collector-50",name:"",description:"50",category:"collection",requirement:{type:"collect",value:50},reward:{exp:2e3,spiritStones:1e3},rarity:""},{id:"ach-meditate-10",name:"",description:"10",category:"cultivation",requirement:{type:"meditate",value:10},reward:{exp:150,spiritStones:50},rarity:""},{id:"ach-meditate-50",name:"",description:"50",category:"cultivation",requirement:{type:"meditate",value:50},reward:{exp:800,spiritStones:300},rarity:""},{id:"ach-meditate-100",name:"",description:"100",category:"cultivation",requirement:{type:"meditate",value:100},reward:{exp:2e3,spiritStones:1e3},rarity:""},{id:"ach-adventure-20",name:"",description:"20",category:"exploration",requirement:{type:"adventure",value:20},reward:{exp:300,spiritStones:150},rarity:""},{id:"ach-adventure-100",name:"",description:"100",category:"exploration",requirement:{type:"adventure",value:100},reward:{exp:1500,spiritStones:800},rarity:""},{id:"ach-equip-5",name:"",description:"5",category:"collection",requirement:{type:"equip",value:5},reward:{exp:200,spiritStones:100},rarity:""},{id:"ach-pet-1",name:"",description:"",category:"special",requirement:{type:"pet",value:1},reward:{exp:500,spiritStones:200},rarity:""},{id:"ach-pet-3",name:"",description:"3",category:"special",requirement:{type:"pet",value:3},reward:{exp:1500,spiritStones:800},rarity:""},{id:"ach-recipe-5",name:"",description:"5",category:"collection",requirement:{type:"recipe",value:5},reward:{exp:400,spiritStones:200},rarity:""},{id:"ach-art-3",name:"",description:"3",category:"cultivation",requirement:{type:"art",value:3},reward:{exp:600,spiritStones:300},rarity:""},{id:"ach-art-10",name:"",description:"10",category:"cultivation",requirement:{type:"art",value:10},reward:{exp:3e3,spiritStones:1500},rarity:""},{id:"ach-breakthrough-5",name:"",description:"5",category:"cultivation",requirement:{type:"breakthrough",value:5},reward:{exp:1e3,spiritStones:500},rarity:""},{id:"ach-secret-realm-5",name:"",description:"5",category:"exploration",requirement:{type:"secret_realm",value:5},reward:{exp:2e3,spiritStones:1e3},rarity:""},{id:"ach-lottery-10",name:"",description:"10",category:"special",requirement:{type:"lottery",value:10},reward:{exp:300,spiritStones:200},rarity:""},{id:"ach-lottery-50",name:"",description:"50",category:"special",requirement:{type:"lottery",value:50},reward:{exp:2e3,spiritStones:1500},rarity:""}],Sc=[{id:"pet-spirit-fox",name:"",species:"",description:"",rarity:"",baseStats:{attack:20,defense:15,hp:100,speed:30},skills:[{id:"skill-bite",name:"",description:"",type:"attack",effect:{damage:10}},{id:"skill-heal",name:"",description:"",type:"support",effect:{heal:50}}],evolutionRequirements:{level:10,items:[{name:"",quantity:10}]}},{id:"pet-thunder-tiger",name:"",species:"",description:"",rarity:"",baseStats:{attack:50,defense:30,hp:200,speed:40},skills:[{id:"skill-bite",name:"",description:"",type:"attack",effect:{damage:30}},{id:"skill-thunder",name:"",description:"",type:"attack",effect:{damage:50}}],evolutionRequirements:{level:20,items:[{name:"",quantity:5}]}},{id:"pet-phoenix",name:"",species:"",description:"",rarity:"",baseStats:{attack:200,defense:150,hp:1e3,speed:80},skills:[{id:"skill-blessing",name:"",description:"",type:"support",effect:{buff:{attack:50,defense:30}}},{id:"skill-rebirth",name:"",description:"",type:"support",effect:{heal:9999}}]}],hc=[{id:"lottery-stone-10",name:"10",type:"spiritStones",rarity:"",weight:35,value:{spiritStones:10}},{id:"lottery-stone-50",name:"50",type:"spiritStones",rarity:"",weight:25,value:{spiritStones:50}},{id:"lottery-stone-100",name:"100",type:"spiritStones",rarity:"",weight:18,value:{spiritStones:100}},{id:"lottery-stone-500",name:"500",type:"spiritStones",rarity:"",weight:8,value:{spiritStones:500}},{id:"lottery-stone-1000",name:"1000",type:"spiritStones",rarity:"",weight:3,value:{spiritStones:1e3}},{id:"lottery-exp-50",name:"50",type:"exp",rarity:"",weight:30,value:{exp:50}},{id:"lottery-exp-200",name:"200",type:"exp",rarity:"",weight:20,value:{exp:200}},{id:"lottery-exp-500",name:"500",type:"exp",rarity:"",weight:12,value:{exp:500}},{id:"lottery-exp-2000",name:"2000",type:"exp",rarity:"",weight:4,value:{exp:2e3}},{id:"lottery-pill-qi",name:"",type:"item",rarity:"",weight:18,value:{item:{name:"",type:v.Pill,description:"",quantity:1,rarity:"",effect:{exp:50}}}},{id:"lottery-pill-qi-2",name:"x3",type:"item",rarity:"",weight:12,value:{item:{name:"",type:v.Pill,description:"",quantity:3,rarity:"",effect:{exp:50}}}},{id:"lottery-pill-heal",name:"",type:"item",rarity:"",weight:15,value:{item:{name:"",type:v.Pill,description:"",quantity:1,rarity:"",effect:{hp:200}}}},{id:"lottery-pill-marrow",name:"",type:"item",rarity:"",weight:10,value:{item:{name:"",type:v.Pill,description:"",quantity:1,rarity:"",effect:{hp:50}}}},{id:"lottery-pill-foundation",name:"",type:"item",rarity:"",weight:8,value:{item:{name:"",type:v.Pill,description:"",quantity:1,rarity:"",effect:{exp:500}}}},{id:"lottery-pill-golden",name:"",type:"item",rarity:"",weight:6,value:{item:{name:"",type:v.Pill,description:"",quantity:1,rarity:"",effect:{exp:3e4,spirit:20}}}},{id:"lottery-pill-soul",name:"",type:"item",rarity:"",weight:4,value:{item:{name:"",type:v.Pill,description:"",quantity:1,rarity:"",effect:{exp:1e4,spirit:50,hp:300}}}},{id:"lottery-pill-dragon",name:"",type:"item",rarity:"",weight:3,value:{item:{name:"",type:v.Pill,description:"",quantity:1,rarity:"",effect:{hp:500,attack:20,defense:20}}}},{id:"lottery-pill-phoenix",name:"",type:"item",rarity:"",weight:2,value:{item:{name:"",type:v.Pill,description:"",quantity:1,rarity:"",effect:{hp:800,exp:1500,attack:30}}}},{id:"lottery-pill-immortal",name:"",type:"item",rarity:"",weight:1,value:{item:{name:"",type:v.Pill,description:"",quantity:1,rarity:"",effect:{exp:5e3,attack:10,defense:10}}}},{id:"lottery-material-refining",name:"",type:"item",rarity:"",weight:16,value:{item:{name:"",type:v.Material,description:"",quantity:5,rarity:""}}},{id:"lottery-material-refining-2",name:"x10",type:"item",rarity:"",weight:10,value:{item:{name:"",type:v.Material,description:"",quantity:10,rarity:""}}},{id:"lottery-material-upgrade-stone",name:"",type:"item",rarity:"",weight:10,value:{item:{name:"",type:v.Material,description:"10%",quantity:1,rarity:""}}},{id:"lottery-material-upgrade-stone-3",name:"x10",type:"item",rarity:"",weight:3,value:{item:{name:"",type:v.Material,description:"10%",quantity:10,rarity:""}}},{id:"lottery-material-spirit",name:"",type:"item",rarity:"",weight:14,value:{item:{name:"",type:v.Material,description:"",quantity:10,rarity:""}}},{id:"lottery-material-iron",name:"",type:"item",rarity:"",weight:12,value:{item:{name:"",type:v.Material,description:"",quantity:5,rarity:""}}},{id:"lottery-material-silver",name:"",type:"item",rarity:"",weight:7,value:{item:{name:"",type:v.Material,description:"",quantity:3,rarity:""}}},{id:"lottery-material-dragon-scale",name:"",type:"item",rarity:"",weight:3,value:{item:{name:"",type:v.Material,description:"",quantity:1,rarity:""}}},{id:"lottery-material-herb",name:"",type:"item",rarity:"",weight:15,value:{item:{name:"",type:v.Herb,description:"",quantity:10,rarity:""}}},{id:"lottery-material-herb-2",name:"x20",type:"item",rarity:"",weight:10,value:{item:{name:"",type:v.Herb,description:"",quantity:20,rarity:""}}},{id:"lottery-material-rare",name:"",type:"item",rarity:"",weight:8,value:{item:{name:"",type:v.Herb,description:"",quantity:3,rarity:""}}},{id:"lottery-material-snow-lotus",name:"",type:"item",rarity:"",weight:6,value:{item:{name:"",type:v.Herb,description:"",quantity:2,rarity:""}}},{id:"lottery-material-legend",name:"",type:"item",rarity:"",weight:4,value:{item:{name:"",type:v.Herb,description:"",quantity:2,rarity:""}}},{id:"lottery-material-phoenix-feather",name:"",type:"item",rarity:"",weight:2,value:{item:{name:"",type:v.Material,description:"",quantity:1,rarity:""}}},{id:"lottery-weapon-iron",name:"",type:"item",rarity:"",weight:10,value:{item:{name:"",type:v.Weapon,description:"",quantity:1,rarity:"",isEquippable:!0,equipmentSlot:k.Weapon,effect:{attack:10}}}},{id:"lottery-weapon-bronze",name:"",type:"item",rarity:"",weight:9,value:{item:{name:"",type:v.Weapon,description:"",quantity:1,rarity:"",isEquippable:!0,equipmentSlot:k.Weapon,effect:{attack:12}}}},{id:"lottery-weapon-frost",name:"",type:"item",rarity:"",weight:6,value:{item:{name:"",type:v.Weapon,description:"",quantity:1,rarity:"",isEquippable:!0,equipmentSlot:k.Weapon,effect:{attack:15}}}},{id:"lottery-weapon-fire",name:"",type:"item",rarity:"",weight:5,value:{item:{name:"",type:v.Weapon,description:"",quantity:1,rarity:"",isEquippable:!0,equipmentSlot:k.Weapon,effect:{attack:18,hp:20}}}},{id:"lottery-weapon-thunder",name:"",type:"item",rarity:"",weight:4,value:{item:{name:"",type:v.Weapon,description:"",quantity:1,rarity:"",isEquippable:!0,equipmentSlot:k.Weapon,effect:{attack:20,speed:10}}}},{id:"lottery-weapon-sky",name:"",type:"item",rarity:"",weight:2,value:{item:{name:"",type:v.Weapon,description:"",quantity:1,rarity:"",isEquippable:!0,equipmentSlot:k.Weapon,effect:{attack:200,defense:50}}}},{id:"lottery-weapon-dragon",name:"",type:"item",rarity:"",weight:2,value:{item:{name:"",type:v.Weapon,description:"",quantity:1,rarity:"",isEquippable:!0,equipmentSlot:k.Weapon,effect:{attack:220,defense:40,hp:100}}}},{id:"lottery-weapon-immortal",name:"",type:"item",rarity:"",weight:1,value:{item:{name:"",type:v.Weapon,description:"",quantity:1,rarity:"",isEquippable:!0,equipmentSlot:k.Weapon,effect:{attack:3e3,defense:200,hp:500,spirit:100}}}},{id:"lottery-armor-cloth",name:"",type:"item",rarity:"",weight:10,value:{item:{name:"",type:v.Armor,description:"",quantity:1,rarity:"",isEquippable:!0,equipmentSlot:k.Chest,effect:{defense:5,hp:20}}}},{id:"lottery-armor-leather",name:"",type:"item",rarity:"",weight:9,value:{item:{name:"",type:v.Armor,description:"",quantity:1,rarity:"",isEquippable:!0,equipmentSlot:k.Chest,effect:{defense:8,hp:30}}}},{id:"lottery-armor-cloud",name:"",type:"item",rarity:"",weight:6,value:{item:{name:"",type:v.Armor,description:"",quantity:1,rarity:"",isEquippable:!0,equipmentSlot:k.Chest,effect:{defense:15,hp:50}}}},{id:"lottery-armor-iron",name:"",type:"item",rarity:"",weight:5,value:{item:{name:"",type:v.Armor,description:"",quantity:1,rarity:"",isEquippable:!0,equipmentSlot:k.Chest,effect:{defense:20,hp:60}}}},{id:"lottery-armor-dragon",name:"",type:"item",rarity:"",weight:2,value:{item:{name:"",type:v.Armor,description:"",quantity:1,rarity:"",isEquippable:!0,equipmentSlot:k.Chest,effect:{defense:150,hp:500,attack:30}}}},{id:"lottery-armor-phoenix",name:"",type:"item",rarity:"",weight:2,value:{item:{name:"",type:v.Armor,description:"",quantity:1,rarity:"",isEquippable:!0,equipmentSlot:k.Chest,effect:{defense:140,hp:450,speed:30,spirit:40}}}},{id:"lottery-armor-immortal",name:"",type:"item",rarity:"",weight:1,value:{item:{name:"",type:v.Armor,description:"",quantity:1,rarity:"",isEquippable:!0,equipmentSlot:k.Chest,effect:{defense:800,hp:3e3,attack:100,spirit:200}}}},{id:"lottery-ring-copper",name:"",type:"item",rarity:"",weight:9,value:{item:{name:"",type:v.Ring,description:"",quantity:1,rarity:"",isEquippable:!0,equipmentSlot:k.Ring1,effect:{attack:2,defense:2}}}},{id:"lottery-ring-silver",name:"",type:"item",rarity:"",weight:8,value:{item:{name:"",type:v.Ring,description:"",quantity:1,rarity:"",isEquippable:!0,equipmentSlot:k.Ring1,effect:{attack:4,defense:4}}}},{id:"lottery-ring-gold",name:"",type:"item",rarity:"",weight:5,value:{item:{name:"",type:v.Ring,description:"",quantity:1,rarity:"",isEquippable:!0,equipmentSlot:k.Ring1,effect:{attack:15,defense:15}}}},{id:"lottery-ring-star",name:"",type:"item",rarity:"",weight:2,value:{item:{name:"",type:v.Ring,description:"",quantity:1,rarity:"",isEquippable:!0,equipmentSlot:k.Ring1,effect:{attack:40,defense:40,speed:20,spirit:30}}}},{id:"lottery-ring-daopath",name:"",type:"item",rarity:"",weight:1,value:{item:{name:"",type:v.Ring,description:"",quantity:1,rarity:"",isEquippable:!0,equipmentSlot:k.Ring1,effect:{attack:1e3,defense:1e3,speed:1e3,spirit:1e3}}}},{id:"lottery-accessory-protect",name:"",type:"item",rarity:"",weight:5,value:{item:{name:"",type:v.Accessory,description:"",quantity:1,rarity:"",isEquippable:!0,equipmentSlot:k.Accessory1,effect:{defense:20,hp:100}}}},{id:"lottery-accessory-jade",name:"",type:"item",rarity:"",weight:4,value:{item:{name:"",type:v.Accessory,description:"",quantity:1,rarity:"",isEquippable:!0,equipmentSlot:k.Accessory1,effect:{spirit:30,hp:80,defense:15}}}},{id:"lottery-accessory-immortal",name:"",type:"item",rarity:"",weight:2,value:{item:{name:"",type:v.Accessory,description:"",quantity:1,rarity:"",isEquippable:!0,equipmentSlot:k.Accessory1,effect:{attack:50,defense:50,hp:300,spirit:80}}}},{id:"lottery-accessory-shenpath",name:"",type:"item",rarity:"",weight:1,value:{item:{name:"",type:v.Accessory,description:"",quantity:1,rarity:"",isEquippable:!0,equipmentSlot:k.Accessory1,effect:{attack:2e3,defense:400,hp:500,spirit:3e4}}}},{id:"lottery-artifact-common-1",name:"",type:"item",rarity:"",weight:6,value:{item:{name:"",type:v.Artifact,description:"",quantity:1,rarity:"",isEquippable:!0,equipmentSlot:k.Artifact1,effect:{attack:15,defense:8,hp:40,spirit:10}}}},{id:"lottery-artifact-common-2",name:"",type:"item",rarity:"",weight:6,value:{item:{name:"",type:v.Artifact,description:"",quantity:1,rarity:"",isEquippable:!0,equipmentSlot:k.Artifact1,effect:{attack:10,defense:15,hp:50}}}},{id:"lottery-artifact-rare-1",name:"",type:"item",rarity:"",weight:4,value:{item:{name:"",type:v.Artifact,description:"",quantity:1,rarity:"",isEquippable:!0,equipmentSlot:k.Artifact1,effect:{attack:80,defense:60,hp:180,spirit:30}}}},{id:"lottery-artifact-rare-2",name:"",type:"item",rarity:"",weight:4,value:{item:{name:"",type:v.Artifact,description:"",quantity:1,rarity:"",isEquippable:!0,equipmentSlot:k.Artifact1,effect:{attack:100,defense:50,hp:200,spirit:20}}}},{id:"lottery-artifact-rare-3",name:"",type:"item",rarity:"",weight:3,value:{item:{name:"",type:v.Artifact,description:"",quantity:1,rarity:"",isEquippable:!0,equipmentSlot:k.Artifact1,effect:{attack:90,defense:70,hp:220}}}},{id:"lottery-artifact-legend-1",name:"",type:"item",rarity:"",weight:2,value:{item:{name:"",type:v.Artifact,description:"",quantity:1,rarity:"",isEquippable:!0,equipmentSlot:k.Artifact1,effect:{attack:450,defense:250,hp:900,spirit:100}}}},{id:"lottery-artifact-legend-2",name:"",type:"item",rarity:"",weight:2,value:{item:{name:"",type:v.Artifact,description:"",quantity:1,rarity:"",isEquippable:!0,equipmentSlot:k.Artifact1,effect:{attack:500,defense:300,hp:1e3,spirit:80}}}},{id:"lottery-artifact-legend-3",name:"",type:"item",rarity:"",weight:1,value:{item:{name:"",type:v.Artifact,description:"",quantity:1,rarity:"",isEquippable:!0,equipmentSlot:k.Artifact1,effect:{attack:550,defense:250,hp:1100,spirit:120}}}},{id:"lottery-artifact-immortal-1",name:"",type:"item",rarity:"",weight:1,value:{item:{name:"",type:v.Artifact,description:"",quantity:1,rarity:"",isEquippable:!0,equipmentSlot:k.Artifact1,effect:{attack:1800,defense:900,hp:4500,spirit:500}}}},{id:"lottery-artifact-immortal-2",name:"",type:"item",rarity:"",weight:1,value:{item:{name:"",type:v.Artifact,description:"",quantity:1,rarity:"",isEquippable:!0,equipmentSlot:k.Artifact1,effect:{attack:2e3,defense:1e3,hp:5e3,spirit:600}}}},{id:"lottery-artifact-immortal-3",name:"",type:"item",rarity:"",weight:1,value:{item:{name:"",type:v.Artifact,description:"",quantity:1,rarity:"",isEquippable:!0,equipmentSlot:k.Artifact1,effect:{attack:2200,defense:1100,hp:5500,spirit:550}}}},{id:"lottery-head-cloth",name:"",type:"item",rarity:"",weight:8,value:{item:{name:"",type:v.Armor,description:"",quantity:1,rarity:"",isEquippable:!0,equipmentSlot:k.Head,effect:{defense:3,hp:15}}}},{id:"lottery-head-iron",name:"",type:"item",rarity:"",weight:7,value:{item:{name:"",type:v.Armor,description:"",quantity:1,rarity:"",isEquippable:!0,equipmentSlot:k.Head,effect:{defense:8,hp:30}}}},{id:"lottery-head-mystic",name:"",type:"item",rarity:"",weight:4,value:{item:{name:"",type:v.Armor,description:"",quantity:1,rarity:"",isEquippable:!0,equipmentSlot:k.Head,effect:{defense:25,hp:60,spirit:10}}}},{id:"lottery-head-star",name:"",type:"item",rarity:"",weight:2,value:{item:{name:"",type:v.Armor,description:"",quantity:1,rarity:"",isEquippable:!0,equipmentSlot:k.Head,effect:{defense:60,hp:150,spirit:20,attack:10}}}},{id:"lottery-head-immortal",name:"",type:"item",rarity:"",weight:1,value:{item:{name:"",type:v.Armor,description:"",quantity:1,rarity:"",isEquippable:!0,equipmentSlot:k.Head,effect:{defense:150,hp:400,spirit:50,attack:30}}}},{id:"lottery-shoulder-cloth",name:"",type:"item",rarity:"",weight:8,value:{item:{name:"",type:v.Armor,description:"",quantity:1,rarity:"",isEquippable:!0,equipmentSlot:k.Shoulder,effect:{defense:3,hp:15}}}},{id:"lottery-shoulder-iron",name:"",type:"item",rarity:"",weight:7,value:{item:{name:"",type:v.Armor,description:"",quantity:1,rarity:"",isEquippable:!0,equipmentSlot:k.Shoulder,effect:{defense:8,hp:30}}}},{id:"lottery-shoulder-mystic",name:"",type:"item",rarity:"",weight:4,value:{item:{name:"",type:v.Armor,description:"",quantity:1,rarity:"",isEquippable:!0,equipmentSlot:k.Shoulder,effect:{defense:25,hp:60,spirit:10}}}},{id:"lottery-shoulder-star",name:"",type:"item",rarity:"",weight:2,value:{item:{name:"",type:v.Armor,description:"",quantity:1,rarity:"",isEquippable:!0,equipmentSlot:k.Shoulder,effect:{defense:60,hp:150,spirit:20,attack:10}}}},{id:"lottery-shoulder-immortal",name:"",type:"item",rarity:"",weight:1,value:{item:{name:"",type:v.Armor,description:"",quantity:1,rarity:"",isEquippable:!0,equipmentSlot:k.Shoulder,effect:{defense:150,hp:400,spirit:50,attack:30}}}},{id:"lottery-gloves-cloth",name:"",type:"item",rarity:"",weight:8,value:{item:{name:"",type:v.Armor,description:"",quantity:1,rarity:"",isEquippable:!0,equipmentSlot:k.Gloves,effect:{defense:3,hp:15}}}},{id:"lottery-gloves-iron",name:"",type:"item",rarity:"",weight:7,value:{item:{name:"",type:v.Armor,description:"",quantity:1,rarity:"",isEquippable:!0,equipmentSlot:k.Gloves,effect:{defense:8,hp:30}}}},{id:"lottery-gloves-mystic",name:"",type:"item",rarity:"",weight:4,value:{item:{name:"",type:v.Armor,description:"",quantity:1,rarity:"",isEquippable:!0,equipmentSlot:k.Gloves,effect:{defense:25,hp:60,spirit:10}}}},{id:"lottery-gloves-star",name:"",type:"item",rarity:"",weight:2,value:{item:{name:"",type:v.Armor,description:"",quantity:1,rarity:"",isEquippable:!0,equipmentSlot:k.Gloves,effect:{defense:60,hp:150,spirit:20,attack:10}}}},{id:"lottery-gloves-immortal",name:"",type:"item",rarity:"",weight:1,value:{item:{name:"",type:v.Armor,description:"",quantity:1,rarity:"",isEquippable:!0,equipmentSlot:k.Gloves,effect:{defense:150,hp:400,spirit:50,attack:30}}}},{id:"lottery-legs-cloth",name:"",type:"item",rarity:"",weight:8,value:{item:{name:"",type:v.Armor,description:"",quantity:1,rarity:"",isEquippable:!0,equipmentSlot:k.Legs,effect:{defense:4,hp:18}}}},{id:"lottery-legs-iron",name:"",type:"item",rarity:"",weight:7,value:{item:{name:"",type:v.Armor,description:"",quantity:1,rarity:"",isEquippable:!0,equipmentSlot:k.Legs,effect:{defense:10,hp:40}}}},{id:"lottery-legs-mystic",name:"",type:"item",rarity:"",weight:4,value:{item:{name:"",type:v.Armor,description:"",quantity:1,rarity:"",isEquippable:!0,equipmentSlot:k.Legs,effect:{defense:30,hp:80}}}},{id:"lottery-legs-star",name:"",type:"item",rarity:"",weight:2,value:{item:{name:"",type:v.Armor,description:"",quantity:1,rarity:"",isEquippable:!0,equipmentSlot:k.Legs,effect:{defense:75,hp:200,attack:15}}}},{id:"lottery-legs-immortal",name:"",type:"item",rarity:"",weight:1,value:{item:{name:"",type:v.Armor,description:"",quantity:1,rarity:"",isEquippable:!0,equipmentSlot:k.Legs,effect:{defense:180,hp:500,spirit:60}}}},{id:"lottery-boots-cloth",name:"",type:"item",rarity:"",weight:8,value:{item:{name:"",type:v.Armor,description:"",quantity:1,rarity:"",isEquippable:!0,equipmentSlot:k.Boots,effect:{defense:3,speed:2}}}},{id:"lottery-boots-iron",name:"",type:"item",rarity:"",weight:7,value:{item:{name:"",type:v.Armor,description:"",quantity:1,rarity:"",isEquippable:!0,equipmentSlot:k.Boots,effect:{defense:8,speed:5}}}},{id:"lottery-boots-mystic",name:"",type:"item",rarity:"",weight:4,value:{item:{name:"",type:v.Armor,description:"",quantity:1,rarity:"",isEquippable:!0,equipmentSlot:k.Boots,effect:{defense:25,speed:12}}}},{id:"lottery-boots-star",name:"",type:"item",rarity:"",weight:2,value:{item:{name:"",type:v.Armor,description:"",quantity:1,rarity:"",isEquippable:!0,equipmentSlot:k.Boots,effect:{defense:60,hp:150,speed:25}}}},{id:"lottery-boots-immortal",name:"",type:"item",rarity:"",weight:1,value:{item:{name:"",type:v.Armor,description:"",quantity:1,rarity:"",isEquippable:!0,equipmentSlot:k.Boots,effect:{defense:150,hp:400,speed:60}}}},{id:"lottery-pet-fox",name:"",type:"pet",rarity:"",weight:5,value:{petId:"pet-spirit-fox"}},{id:"lottery-pet-tiger",name:"",type:"pet",rarity:"",weight:3,value:{petId:"pet-thunder-tiger"}},{id:"lottery-pet-phoenix",name:"",type:"pet",rarity:"",weight:1,value:{petId:"pet-phoenix"}},{id:"lottery-ticket-1",name:"1",type:"ticket",rarity:"",weight:15,value:{tickets:1}},{id:"lottery-ticket-3",name:"3",type:"ticket",rarity:"",weight:6,value:{tickets:3}},{id:"lottery-ticket-5",name:"5",type:"ticket",rarity:"",weight:2,value:{tickets:5}}],My=[{id:"shop-village",name:"",type:Et.Village,description:"",items:[{id:"shop-herb-1",name:"",type:v.Herb,description:"",rarity:"",price:10,sellPrice:3,effect:{hp:20}},{id:"shop-material-1",name:"",type:v.Material,description:"",rarity:"",price:15,sellPrice:5},{id:"shop-pill-1",name:"",type:v.Pill,description:"",rarity:"",price:30,sellPrice:10,effect:{exp:50}},{id:"shop-weapon-1",name:"",type:v.Weapon,description:"",rarity:"",price:50,sellPrice:15,isEquippable:!0,equipmentSlot:k.Weapon,effect:{attack:3}}]},{id:"shop-city",name:"",type:Et.City,description:"",items:[{id:"shop-herb-2",name:"",type:v.Herb,description:"",rarity:"",price:20,sellPrice:7},{id:"shop-pill-2",name:"",type:v.Pill,description:"",rarity:"",price:100,sellPrice:30,effect:{hp:200}},{id:"shop-weapon-2",name:"",type:v.Weapon,description:"",rarity:"",price:150,sellPrice:45,isEquippable:!0,equipmentSlot:k.Weapon,effect:{attack:10}},{id:"shop-armor-1",name:"",type:v.Armor,description:"",rarity:"",price:120,sellPrice:36,isEquippable:!0,equipmentSlot:k.Chest,effect:{defense:5,hp:20}},{id:"shop-ring-1",name:"",type:v.Ring,description:"",rarity:"",price:80,sellPrice:24,isEquippable:!0,equipmentSlot:k.Ring1,effect:{attack:2,defense:2}}]},{id:"shop-sect",name:"",type:Et.Sect,description:"",items:[{id:"shop-pill-3",name:"",type:v.Pill,description:"",rarity:"",price:500,sellPrice:150,effect:{hp:50},minRealm:me.Foundation},{id:"shop-weapon-3",name:"",type:v.Weapon,description:"",rarity:"",price:800,sellPrice:240,isEquippable:!0,equipmentSlot:k.Weapon,effect:{attack:15},minRealm:me.Foundation},{id:"shop-armor-2",name:"",type:v.Armor,description:"",rarity:"",price:600,sellPrice:180,isEquippable:!0,equipmentSlot:k.Chest,effect:{defense:15,hp:50},minRealm:me.Foundation},{id:"shop-pill-4",name:"",type:v.Pill,description:"",rarity:"",price:2e3,sellPrice:600,effect:{exp:500},minRealm:me.QiRefining},{id:"shop-weapon-legend",name:"",type:v.Weapon,description:"",rarity:"",price:5e3,sellPrice:1500,isEquippable:!0,equipmentSlot:k.Weapon,effect:{attack:200,defense:50},minRealm:me.GoldenCore},{id:"shop-armor-legend",name:"",type:v.Armor,description:"",rarity:"",price:4e3,sellPrice:1200,isEquippable:!0,equipmentSlot:k.Chest,effect:{defense:150,hp:500,attack:30},minRealm:me.NascentSoul},{id:"shop-accessory-1",name:"",type:v.Accessory,description:"",rarity:"",price:1e3,sellPrice:300,isEquippable:!0,equipmentSlot:k.Accessory1,effect:{defense:20,hp:100},minRealm:me.GoldenCore},{id:"shop-weapon-immortal",name:"",type:v.Weapon,description:"",rarity:"",price:2e4,sellPrice:6e3,isEquippable:!0,equipmentSlot:k.Weapon,effect:{attack:1e3,defense:200,hp:500},minRealm:me.SpiritSevering},{id:"shop-armor-immortal",name:"",type:v.Armor,description:"",rarity:"",price:18e3,sellPrice:5400,isEquippable:!0,equipmentSlot:k.Chest,effect:{defense:800,hp:2e3,attack:100},minRealm:me.SpiritSevering}]}],qy=({onStart:c})=>{const[h,u]=X.useState(""),[m,E]=X.useState(null),p=X.useMemo(()=>{const o=Hn;return o[Math.floor(Math.random()*o.length)].id},[]),S=m||p,g=Hn.find(o=>o.id===S),M=()=>{if(!h.trim()){alert("");return}c(h.trim(),S)},d=o=>{switch(o){case"":return"text-blue-400 border-blue-500";case"":return"text-purple-400 border-purple-500";case"":return"text-yellow-400 border-yellow-500";default:return"text-stone-300 border-stone-500"}};return s.jsx("div",{className:"fixed inset-0 bg-gradient-to-br from-stone-900 via-stone-800 to-stone-900 flex items-center justify-center z-50 p-4 overflow-y-auto touch-manipulation",children:s.jsxs("div",{className:"bg-paper-800 border-2 border-mystic-gold rounded-lg p-4 md:p-8 max-w-2xl w-full shadow-2xl my-auto",children:[s.jsxs("div",{className:"text-center mb-4 md:mb-8",children:[s.jsx("h1",{className:"text-2xl md:text-4xl font-serif font-bold text-mystic-gold tracking-widest mb-2",children:""}),s.jsx("p",{className:"text-stone-400 text-sm md:text-lg",children:""})]}),s.jsxs("div",{className:"space-y-4 md:space-y-6",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-stone-300 mb-2 font-semibold flex items-center gap-2 text-sm md:text-base",children:[s.jsx(ym,{size:18,className:"md:w-5 md:h-5"}),""]}),s.jsx("input",{type:"text",value:h,onChange:o=>u(o.target.value),placeholder:"...",className:"w-full px-3 md:px-4 py-2.5 md:py-3 bg-stone-700 border border-stone-600 rounded text-stone-200 placeholder-stone-500 focus:outline-none focus:border-mystic-jade focus:ring-2 focus:ring-mystic-jade/50 text-sm md:text-base",maxLength:20})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-stone-300 mb-2 font-semibold flex items-center gap-2 text-sm md:text-base",children:[s.jsx(bt,{size:18,className:"md:w-5 md:h-5"}),""]}),s.jsxs("div",{className:`p-3 md:p-4 rounded border-2 ${d((g==null?void 0:g.rarity)||"")} bg-stone-800/50`,children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("h3",{className:"text-lg md:text-xl font-bold",children:g==null?void 0:g.name}),s.jsx("span",{className:`px-2 py-1 rounded text-[10px] md:text-xs font-semibold ${d((g==null?void 0:g.rarity)||"")}`,children:g==null?void 0:g.rarity})]}),s.jsx("p",{className:"text-stone-300 mb-2 md:mb-3 text-xs md:text-sm",children:g==null?void 0:g.description}),s.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs md:text-sm",children:[(g==null?void 0:g.effects.attack)&&s.jsxs("div",{className:"flex items-center gap-1 text-stone-300",children:[s.jsx(ks,{size:14,className:"md:w-4 md:h-4 text-red-400"}),s.jsxs("span",{children:[" +",g.effects.attack]})]}),(g==null?void 0:g.effects.defense)&&s.jsxs("div",{className:"flex items-center gap-1 text-stone-300",children:[s.jsx(_n,{size:14,className:"md:w-4 md:h-4 text-blue-400"}),s.jsxs("span",{children:[" +",g.effects.defense]})]}),(g==null?void 0:g.effects.hp)&&s.jsxs("div",{className:"flex items-center gap-1 text-stone-300",children:[s.jsx(Ul,{size:14,className:"md:w-4 md:h-4 text-pink-400"}),s.jsxs("span",{children:[" +",g.effects.hp]})]}),(g==null?void 0:g.effects.spirit)&&s.jsxs("div",{className:"flex items-center gap-1 text-stone-300",children:[s.jsx(Tn,{size:14,className:"md:w-4 md:h-4 text-yellow-400"}),s.jsxs("span",{children:[" +",g.effects.spirit]})]}),(g==null?void 0:g.effects.physique)&&s.jsxs("div",{className:"flex items-center gap-1 text-stone-300",children:[s.jsx(_n,{size:14,className:"md:w-4 md:h-4 text-green-400"}),s.jsxs("span",{children:[" +",g.effects.physique]})]}),(g==null?void 0:g.effects.speed)&&s.jsxs("div",{className:"flex items-center gap-1 text-stone-300",children:[s.jsx(Tn,{size:14,className:"md:w-4 md:h-4 text-cyan-400"}),s.jsxs("span",{children:[" +",g.effects.speed]})]}),(g==null?void 0:g.effects.expRate)&&s.jsxs("div",{className:"flex items-center gap-1 text-stone-300",children:[s.jsx(bt,{size:14,className:"md:w-4 md:h-4 text-purple-400"}),s.jsxs("span",{children:[" +",Math.round(g.effects.expRate*100),"%"]})]}),(g==null?void 0:g.effects.luck)&&s.jsxs("div",{className:"flex items-center gap-1 text-stone-300",children:[s.jsx(bt,{size:14,className:"md:w-4 md:h-4 text-yellow-400"}),s.jsxs("span",{children:[" +",g.effects.luck]})]})]})]}),s.jsx("p",{className:"text-[10px] md:text-xs text-stone-500 mt-2",children:"* "})]}),s.jsxs("button",{onClick:M,disabled:!h.trim(),className:"w-full py-3 md:py-4 bg-gradient-to-r from-mystic-gold to-yellow-600 active:from-yellow-600 active:to-mystic-gold text-stone-900 font-bold text-base md:text-lg rounded-lg transition-all duration-300 shadow-lg active:shadow-xl disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2 min-h-[56px] md:min-h-0 touch-manipulation",children:[s.jsx(bt,{size:20,className:"md:w-6 md:h-6"}),""]})]})]})})},Ay=({player:c,battleData:h,deathReason:u,onRebirth:m})=>{const E=h?{totalRounds:h.rounds.length,playerDamage:h.rounds.filter(p=>p.attacker==="player").reduce((p,S)=>p+S.damage,0),enemyDamage:h.rounds.filter(p=>p.attacker==="enemy").reduce((p,S)=>p+S.damage,0),critCount:h.rounds.filter(p=>p.crit).length,maxDamage:Math.max(...h.rounds.map(p=>p.damage),0)}:null;return s.jsx("div",{className:"fixed inset-0 bg-black/90 flex items-center justify-center z-[100] p-2 md:p-4 overflow-y-auto",children:s.jsxs("div",{className:"bg-gradient-to-br from-red-900/95 via-stone-900 to-red-900/95 border-2 md:border-4 border-red-600 rounded-lg p-3 md:p-6 max-w-lg md:max-w-2xl w-full shadow-2xl my-auto",children:[s.jsxs("div",{className:"text-center mb-3 md:mb-4",children:[s.jsxs("div",{className:"flex items-center justify-center gap-2 md:gap-3 mb-2 md:mb-3",children:[s.jsx(Z0,{size:32,className:"md:w-12 md:h-12 text-red-500 animate-pulse"}),s.jsx("h1",{className:"text-2xl md:text-3xl font-serif font-bold text-red-400",children:""}),s.jsx(Z0,{size:32,className:"md:w-12 md:h-12 text-red-500 animate-pulse"})]}),s.jsxs("p",{className:"text-stone-300 text-sm md:text-base",children:[c.name," ..."]})]}),s.jsxs("div",{className:"bg-stone-800/50 border-2 border-red-600/50 rounded-lg p-2 md:p-3 mb-3 md:mb-4",children:[s.jsxs("h2",{className:"text-base md:text-lg font-bold text-red-400 mb-1 md:mb-2 flex items-center gap-1 md:gap-2",children:[s.jsx(Y0,{size:16,className:"md:w-5 md:h-5"}),""]}),s.jsx("p",{className:"text-stone-200 text-xs md:text-sm leading-relaxed",children:u})]}),E&&h&&s.jsxs("div",{className:"bg-stone-800/50 border-2 border-red-600/50 rounded-lg p-2 md:p-3 mb-3 md:mb-4",children:[s.jsxs("h2",{className:"text-base md:text-lg font-bold text-red-400 mb-2 md:mb-3 flex items-center gap-1 md:gap-2",children:[s.jsx(ks,{size:16,className:"md:w-5 md:h-5"}),""]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-2 md:gap-3",children:[s.jsxs("div",{className:"bg-stone-900/50 rounded p-2",children:[s.jsx("div",{className:"text-stone-400 text-xs mb-0.5 md:mb-1",children:""}),s.jsxs("div",{className:"text-stone-200 font-bold text-sm md:text-base break-words",children:[h.enemy.title,h.enemy.name]})]}),s.jsxs("div",{className:"bg-stone-900/50 rounded p-2",children:[s.jsx("div",{className:"text-stone-400 text-xs mb-0.5 md:mb-1",children:""}),s.jsxs("div",{className:"text-stone-200 font-bold text-sm md:text-base",children:[E.totalRounds," "]})]}),s.jsxs("div",{className:"bg-stone-900/50 rounded p-2",children:[s.jsx("div",{className:"text-stone-400 text-xs mb-0.5 md:mb-1",children:""}),s.jsx("div",{className:"text-red-300 font-bold text-sm md:text-base",children:E.playerDamage})]}),s.jsxs("div",{className:"bg-stone-900/50 rounded p-2",children:[s.jsx("div",{className:"text-stone-400 text-xs mb-0.5 md:mb-1",children:""}),s.jsx("div",{className:"text-red-400 font-bold text-sm md:text-base",children:E.enemyDamage})]}),s.jsxs("div",{className:"bg-stone-900/50 rounded p-2",children:[s.jsx("div",{className:"text-stone-400 text-xs mb-0.5 md:mb-1",children:""}),s.jsx("div",{className:"text-yellow-400 font-bold text-sm md:text-base",children:E.critCount})]}),s.jsxs("div",{className:"bg-stone-900/50 rounded p-2",children:[s.jsx("div",{className:"text-stone-400 text-xs mb-0.5 md:mb-1",children:""}),s.jsx("div",{className:"text-orange-400 font-bold text-sm md:text-base",children:E.maxDamage})]})]}),s.jsxs("div",{className:"mt-2 md:mt-3 pt-2 md:pt-3 border-t border-stone-700 space-y-1 md:space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between text-stone-300 text-xs md:text-sm",children:[s.jsx("span",{children:":"}),s.jsx("span",{className:"font-bold",children:h.playerHpBefore})]}),s.jsxs("div",{className:"flex items-center justify-between text-stone-300 text-xs md:text-sm",children:[s.jsx("span",{children:":"}),s.jsx("span",{className:"font-bold text-red-400",children:h.playerHpAfter})]}),s.jsxs("div",{className:"flex items-center justify-between text-red-400 text-xs md:text-sm font-bold",children:[s.jsx("span",{children:":"}),s.jsxs("span",{children:["-",h.hpLoss]})]})]})]}),s.jsxs("div",{className:"bg-stone-800/50 border-2 border-red-600/50 rounded-lg p-2 md:p-3 mb-3 md:mb-4",children:[s.jsxs("h2",{className:"text-base md:text-lg font-bold text-red-400 mb-2 md:mb-3 flex items-center gap-1 md:gap-2",children:[s.jsx(Ul,{size:16,className:"md:w-5 md:h-5"}),""]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2",children:[s.jsxs("div",{className:"bg-stone-900/50 rounded p-1.5 md:p-2",children:[s.jsx("div",{className:"text-stone-400 text-[10px] md:text-xs mb-0.5 md:mb-1",children:""}),s.jsx("div",{className:"text-stone-200 font-bold text-xs md:text-sm",children:c.realm})]}),s.jsxs("div",{className:"bg-stone-900/50 rounded p-1.5 md:p-2",children:[s.jsx("div",{className:"text-stone-400 text-[10px] md:text-xs mb-0.5 md:mb-1",children:""}),s.jsxs("div",{className:"text-stone-200 font-bold text-xs md:text-sm",children:[c.realmLevel," "]})]}),s.jsxs("div",{className:"bg-stone-900/50 rounded p-1.5 md:p-2",children:[s.jsx("div",{className:"text-stone-400 text-[10px] md:text-xs mb-0.5 md:mb-1",children:""}),s.jsx("div",{className:"text-stone-200 font-bold text-xs md:text-sm",children:c.exp})]}),s.jsxs("div",{className:"bg-stone-900/50 rounded p-1.5 md:p-2",children:[s.jsx("div",{className:"text-stone-400 text-[10px] md:text-xs mb-0.5 md:mb-1",children:""}),s.jsx("div",{className:"text-stone-200 font-bold text-xs md:text-sm",children:c.spiritStones})]})]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2 mt-2",children:[s.jsxs("div",{className:"bg-stone-900/50 rounded p-1.5 md:p-2",children:[s.jsx("div",{className:"text-stone-400 text-[10px] md:text-xs mb-0.5 md:mb-1",children:""}),s.jsx("div",{className:"text-red-300 font-bold text-xs md:text-sm",children:c.attack})]}),s.jsxs("div",{className:"bg-stone-900/50 rounded p-1.5 md:p-2",children:[s.jsx("div",{className:"text-stone-400 text-[10px] md:text-xs mb-0.5 md:mb-1",children:""}),s.jsx("div",{className:"text-blue-300 font-bold text-xs md:text-sm",children:c.defense})]}),s.jsxs("div",{className:"bg-stone-900/50 rounded p-1.5 md:p-2",children:[s.jsx("div",{className:"text-stone-400 text-[10px] md:text-xs mb-0.5 md:mb-1",children:""}),s.jsx("div",{className:"text-pink-300 font-bold text-xs md:text-sm",children:c.maxHp})]}),s.jsxs("div",{className:"bg-stone-900/50 rounded p-1.5 md:p-2",children:[s.jsx("div",{className:"text-stone-400 text-[10px] md:text-xs mb-0.5 md:mb-1",children:""}),s.jsx("div",{className:"text-cyan-300 font-bold text-xs md:text-sm",children:c.speed})]})]})]}),s.jsxs("div",{className:"text-center",children:[s.jsxs("button",{onClick:m,className:"w-full py-2.5 md:py-3 bg-gradient-to-r from-red-600 via-orange-600 to-red-600 hover:from-red-500 hover:via-orange-500 hover:to-red-500 text-white font-bold text-base md:text-lg rounded-lg transition-all duration-300 shadow-lg hover:shadow-xl active:scale-95 flex items-center justify-center gap-2 md:gap-3 touch-manipulation",children:[s.jsx(Y0,{size:18,className:"md:w-6 md:h-6"}),""]}),s.jsx("p",{className:"text-stone-400 text-xs md:text-sm mt-2 md:mt-3",children:""})]})]})})},wy=(c,h)=>{const u=Hn.find(f=>f.id===h),m=(u==null?void 0:u.effects.attack)||0,E=(u==null?void 0:u.effects.defense)||0,p=(u==null?void 0:u.effects.hp)||0,S=(u==null?void 0:u.effects.spirit)||0,g=(u==null?void 0:u.effects.physique)||0,M=(u==null?void 0:u.effects.speed)||0,d=(u==null?void 0:u.effects.luck)||0,o=Zo[me.QiRefining];return{name:c,realm:me.QiRefining,realmLevel:1,exp:0,maxExp:o.maxExpBase,hp:o.baseMaxHp+p,maxHp:o.baseMaxHp+p,attack:o.baseAttack+m,defense:o.baseDefense+E,spirit:o.baseSpirit+S,physique:o.basePhysique+g,speed:o.baseSpeed+M,spiritStones:50,inventory:[...vy],cultivationArts:["art-basic-breath"],activeArtId:"art-basic-breath",equippedItems:{},sectId:null,sectRank:"",sectContribution:0,betrayedSects:[],sectHuntEndTime:null,talentId:h,titleId:null,attributePoints:0,luck:10+d,achievements:[],pets:[],activePetId:null,lotteryTickets:3,lotteryCount:0,inheritanceLevel:0,dailyTaskCount:{instant:0,short:0,medium:0,long:0},lastTaskResetDate:new Date().toISOString().split("T")[0],viewedAchievements:[],natalArtifactId:null,unlockedRecipes:[],meditationHpRegenMultiplier:1,meditationBoostEndTime:null,statistics:{killCount:0,meditateCount:0,adventureCount:0,equipCount:0,petCount:0,recipeCount:0,artCount:0,breakthroughCount:0,secretRealmCount:0}}};let J0=0;const pt=()=>(J0++,`${Date.now()}-${J0}-${Math.random().toString(36).substr(2,9)}`),Hl="xiuxian-game-save",K0="xiuxian-game-settings";function Cy(){const[c,h]=X.useState(()=>{try{return localStorage.getItem(Hl)!==null}catch{return!1}}),[u,m]=X.useState(c),[E,p]=X.useState(null),[S,g]=X.useState(()=>{try{const N=localStorage.getItem(K0);if(N)return{...JSON.parse(N)}}catch{}return{soundEnabled:!0,musicEnabled:!0,soundVolume:70,musicVolume:50,autoSave:!0,animationSpeed:"normal",language:"zh"}}),[M,d]=X.useState([]);X.useEffect(()=>{var N,q;if(c&&!E)try{const A=localStorage.getItem(Hl);if(A){const H=JSON.parse(A),$={...H.player,dailyTaskCount:H.player.dailyTaskCount&&typeof H.player.dailyTaskCount=="object"?H.player.dailyTaskCount:typeof H.player.dailyTaskCount=="number"?{instant:H.player.dailyTaskCount,short:0,medium:0,long:0}:{instant:0,short:0,medium:0,long:0},lastTaskResetDate:H.player.lastTaskResetDate||new Date().toISOString().split("T")[0],viewedAchievements:H.player.viewedAchievements||[],natalArtifactId:H.player.natalArtifactId||null,unlockedRecipes:H.player.unlockedRecipes||[],meditationHpRegenMultiplier:H.player.meditationHpRegenMultiplier??1,meditationBoostEndTime:H.player.meditationBoostEndTime??null,statistics:H.player.statistics||{killCount:0,meditateCount:0,adventureCount:0,equipCount:0,petCount:0,recipeCount:((N=H.player.unlockedRecipes)==null?void 0:N.length)||0,artCount:((q=H.player.cultivationArts)==null?void 0:q.length)||0,breakthroughCount:0,secretRealmCount:0}};p($),d(H.logs||[]),m(!0)}}catch(A){console.error(":",A),h(!1),m(!1)}},[c,E]);const o=X.useCallback((N,q)=>{try{const A={player:N,logs:q,timestamp:Date.now()};localStorage.setItem(Hl,JSON.stringify(A)),S.autoSave&&localStorage.setItem(K0,JSON.stringify(S))}catch(A){console.error(":",A)}},[S]),f=X.useCallback((N,q)=>{const A=wy(N,q),H=Hn.find(V=>V.id===q),$=[{id:`${Date.now()}-1-${Math.random().toString(36).substr(2,9)}`,text:"",type:"special",timestamp:Date.now()},{id:`${Date.now()}-2-${Math.random().toString(36).substr(2,9)}`,text:`${H==null?void 0:H.name}${H==null?void 0:H.description}`,type:"special",timestamp:Date.now()}];p(A),d($),m(!0),h(!0),o(A,$)},[o]),x=X.useRef(null);return X.useEffect(()=>{if(E&&u&&S.autoSave)return x.current&&clearTimeout(x.current),x.current=setTimeout(()=>{o(E,M)},2e3),()=>{x.current&&clearTimeout(x.current)}},[E,M,S.autoSave,o,u]),{hasSave:c,gameStarted:u,setGameStarted:m,player:E,setPlayer:p,settings:S,setSettings:g,logs:M,setLogs:d,handleStartGame:f,saveGame:o}}function Ey(){const[c,h]=X.useState([]),u=1e3,m=X.useCallback(p=>(S,g="normal")=>{p(M=>{const d=Date.now();if(M.slice(-5).some(x=>x.text===S&&x.type===g&&d-x.timestamp<1e3))return M;const f=[...M,{id:pt(),text:S,type:g,timestamp:d}];return f.length>u?f.slice(-u):f})},[]),E=X.useCallback((p,S,g)=>{const M=pt();h(d=>[...d,{type:p,value:S,color:g,id:M}]),setTimeout(()=>{h(d=>d.filter(o=>o.id!==M))},1e3)},[]);return{visualEffects:c,createAddLog:m,triggerVisual:E}}function ky({player:c,setPlayer:h,addLog:u,checkLevelUp:m}){return{handleMeditate:()=>{if(!c)return;const p=Ae.indexOf(c.realm),g=[1,2,5,10,25,50,100][p]||1;let M=Math.floor(g*10*(1+c.realmLevel*.15));const d=Rs.find(q=>q.id===c.activeArtId);d&&d.effects.expRate&&(M=Math.floor(M*(1+d.effects.expRate)));const o=Hn.find(q=>q.id===c.talentId);o&&o.effects.expRate&&(M=Math.floor(M*(1+o.effects.expRate)));const f=Math.random()<.001;let x,N;if(f){const q=30+Math.random()*20;x=Math.floor(M*q),N=` ${d?`${d.name}`:""}(+${x} )`,u(N,"special")}else x=Math.floor(M*(.85+Math.random()*.3)),N=`${d?`${d.name}`:""}(+${x} )`,u(N);if(h(q=>{const A=2+Math.min(q.realmLevel*.1,1.5),H=Math.max(1,Math.floor(q.maxHp*.01)),$=Math.floor(H*A),V=Math.min(q.maxHp,q.hp+$),T=A.toFixed(1);V>q.hp&&u(`  ${$} ${T}`,"gain");const K=q.statistics||{killCount:0,meditateCount:0,adventureCount:0,equipCount:0,petCount:0,recipeCount:0,artCount:0,breakthroughCount:0,secretRealmCount:0};return{...q,exp:q.exp+x,hp:V,statistics:{...K,meditateCount:K.meditateCount+1}}}),!c.achievements.includes("ach-first-step")){const q=Es.find(A=>A.id==="ach-first-step");q&&h(A=>{const H=[...A.achievements,"ach-first-step"];return u(` ${q.name}`,"special"),{...A,achievements:H,exp:A.exp+(q.reward.exp||0),spiritStones:A.spiritStones+(q.reward.spiritStones||0)}})}}}}const Ry={:{effect:{hp:20}},:{effect:{}},:{effect:{hp:30}},:{effect:{hp:50,spirit:5}},:{effect:{hp:80}},:{effect:{hp:1500},permanentEffect:{maxHp:200,physique:100}},:{effect:{hp:3e3},permanentEffect:{maxHp:500,spirit:50}},:{effect:{hp:50}},:{effect:{exp:20}},:{permanentEffect:{physique:5}},:{permanentEffect:{spirit:5}},:{effect:{exp:100}},:{effect:{exp:200}},:{effect:{exp:500},permanentEffect:{maxHp:100,physique:70}}},Yo=(c,h,u)=>{const m=Ry[c];return m?{effect:m.effect||h||{},permanentEffect:m.permanentEffect||u||{}}:{effect:h||{},permanentEffect:u||{}}},I0=(c,h,u,m)=>{const E=c.toLowerCase(),p=u.toLowerCase(),S=E+p;if(S.match(/||||||||||||||||||||||||||/))return{type:v.Weapon,isEquippable:!0,equipmentSlot:k.Weapon};if(S.match(/||||||||||||||/))return{type:v.Armor,isEquippable:!0,equipmentSlot:k.Head};if(S.match(/||||||||||/))return{type:v.Armor,isEquippable:!0,equipmentSlot:k.Shoulder};if(S.match(/|||||||/))return{type:v.Armor,isEquippable:!0,equipmentSlot:k.Gloves};if(S.match(/|||||||||/))return{type:v.Armor,isEquippable:!0,equipmentSlot:k.Boots};if(S.match(/|||||||/))return{type:v.Armor,isEquippable:!0,equipmentSlot:k.Legs};if(S.match(/|||||||||||/))return{type:v.Armor,isEquippable:!0,equipmentSlot:k.Chest};if(S.match(/||/)){const g=[k.Ring1,k.Ring2,k.Ring3,k.Ring4];return{type:v.Ring,isEquippable:!0,equipmentSlot:g[Math.floor(Math.random()*g.length)]}}if(S.match(/||||||||/)){const g=[k.Accessory1,k.Accessory2];return{type:v.Accessory,isEquippable:!0,equipmentSlot:g[Math.floor(Math.random()*g.length)]}}if(S.match(/||||||||||||||||/)&&!S.match(/||||||||||/)){const g=[k.Artifact1,k.Artifact2];return{type:v.Artifact,isEquippable:!0,equipmentSlot:g[Math.floor(Math.random()*g.length)]}}if(h==="")return{type:v.Armor,isEquippable:!0,equipmentSlot:k.Chest};if(m){if(h===v.Armor)return{type:v.Armor,isEquippable:!0,equipmentSlot:k.Chest};if(h===v.Weapon)return{type:v.Weapon,isEquippable:!0,equipmentSlot:k.Weapon}}return{type:h,isEquippable:m||!1}},$t=(c,h=!1)=>{var p,S,g,M,d,o;const u=c.rarity||"",m=an[u]||1,E=h?1.5:1;return{attack:(p=c.effect)!=null&&p.attack?Math.floor(c.effect.attack*m*E):0,defense:(S=c.effect)!=null&&S.defense?Math.floor(c.effect.defense*m*E):0,hp:(g=c.effect)!=null&&g.hp?Math.floor(c.effect.hp*m*E):0,spirit:(M=c.effect)!=null&&M.spirit?Math.floor(c.effect.spirit*m*E):0,physique:(d=c.effect)!=null&&d.physique?Math.floor(c.effect.physique*m*E):0,speed:(o=c.effect)!=null&&o.speed?Math.floor(c.effect.speed*m*E):0}},zy=c=>{const h=c.rarity||"",u=c.level||0;let E={:10,:50,:300,:2e3}[h],p=0;const S=an[h];if(c.effect){const f=c.effect;p+=(f.attack||0)*2,p+=(f.defense||0)*1.5,p+=(f.hp||0)*.5,p+=(f.spirit||0)*1.5,p+=(f.physique||0)*1.5,p+=(f.speed||0)*2,p+=(f.exp||0)*.1}if(c.permanentEffect){const f=c.permanentEffect;p+=(f.attack||0)*10,p+=(f.defense||0)*8,p+=(f.maxHp||0)*3,p+=(f.spirit||0)*8,p+=(f.physique||0)*8,p+=(f.speed||0)*10}p=Math.floor(p*S);let g=0;if(c.isEquippable)switch(c.type){case v.Weapon:g=E*1.5;break;case v.Armor:g=E*1.2;break;case v.Artifact:g=E*2;break;case v.Ring:case v.Accessory:g=E*1.3;break}const M=1+u*.2,d=(E+p+g)*M;let o=1;return c.type===v.Herb||c.type===v.Pill?o=.5:c.type===v.Material&&(o=.3),Math.max(1,Math.floor(d*o))},W0={siliconflow:{defaultUrl:"https://api.siliconflow.cn/v1/chat/completions",defaultModel:"Qwen/Qwen2.5-72B-Instruct",proxyPath:"/api/v1/chat/completions"},openai:{defaultUrl:"https://api.openai.com/v1/chat/completions",defaultModel:"gpt-3.5-turbo",proxyPath:"/api/v1/chat/completions"},glm:{defaultUrl:"https://open.bigmodel.cn/api/paas/v4/chat/completions",defaultModel:"glm-4.5",proxyPath:"/api/paas/v4/chat/completions"},custom:{defaultUrl:"",defaultModel:"",proxyPath:"/api/v1/chat/completions"}};function jm(){const h="09ba526a1c9645628124b4d0f79c6b0f.W45RR7xSBenCwFRo",u="https://open.bigmodel.cn/api/paas/v4/chat/completions",m="glm-4.5",E=W0.glm||W0.glm,p=m,S=E.proxyPath;let g=!1,M;return M=u,{provider:"glm",apiKey:h,apiUrl:M,model:p,useProxy:g,proxyPath:S}}function Sm(c){return c.apiKey?c.apiUrl?c.model?{valid:!0}:{valid:!1,error:"AI  VITE_AI_MODEL "}:{valid:!1,error:"API URL  VITE_AI_API_URL "}:{valid:!1,error:"VITE_AI_KEY  .env.local  API Key"}}function Oy(){const c=jm(),h=Sm(c);return`
AI :
- : ${c.provider}
- API URL: ${c.apiUrl}
- : ${c.model}
- : ${c.useProxy}
- API Key: 
- : ${h.valid?" ":" "}
${h.error?`- : ${h.error}`:""}
  `.trim()}const Nc=jm(),Ty=Nc.apiUrl,_y=Nc.model,Hy=Nc.apiKey,F0=Sm(Nc);F0.valid||(console.warn(` AI : ${F0.error}`),console.info(Oy()));const Nm=c=>{let h=c.trim();h.startsWith("```")&&(h=h.replace(/^```(?:json|JSON)?/i,"").replace(/```$/i,"").trim()),h.toLowerCase().startsWith("json")&&(h=h.slice(4).trim());const u=h.search(/[\{\[]/);u>0&&(h=h.slice(u));const m=Math.max(h.lastIndexOf("}"),h.lastIndexOf("]"));if(m>0&&m<h.length-1){const E=h.slice(m+1).trim();E&&!E.match(/^[,}\]]/)&&(h=h.slice(0,m+1))}return h.trim()},Dy=c=>{let h=c.replace(/:\s*\+(\d+)/g,": $1");return h=h.replace(/:\s*\+\+(\d+)/g,": $1"),h},$y=c=>typeof c=="string"?Nm(c):Array.isArray(c)?c.map(h=>typeof h=="string"?h:typeof h=="object"&&h!==null&&"text"in h&&h.text||"").join(""):"",Mm=async(c,h=.8)=>{var p,S,g;const u=await fetch(Ty,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${Hy}`},body:JSON.stringify({model:_y,messages:c,temperature:h})});if(!u.ok){const M=await u.text();throw new Error(`Spark API error (${u.status}): ${M}`)}const m=await u.json(),E=$y((g=(S=(p=m==null?void 0:m.choices)==null?void 0:p[0])==null?void 0:S.message)==null?void 0:g.content);if(!E)throw new Error("Spark API returned empty content");return E},Io=async(c,h="normal",u,m,E)=>{try{let p="";const S=Ae.indexOf(c.realm),g=1+S*.3+(c.realmLevel-1)*.1;switch(h){case"lucky":p=`
          
          ${c.realm} ( ${c.realmLevel} )

          
          - 
          - 
          - 

           "special"
          """"""""
          ${Math.floor(100*g)}-${Math.floor(1e3*g)}${Math.floor(50*g)}-${Math.floor(500*g)}
        `;break;case"secret_realm":const x=(A=>A?{:{expMin:50,expMax:300,stonesMin:100,stonesMax:600,rarity:""},:{expMin:100,expMax:500,stonesMin:200,stonesMax:1e3,rarity:""},:{expMin:200,expMax:800,stonesMin:400,stonesMax:1500,rarity:""},:{expMin:400,expMax:1200,stonesMin:800,stonesMax:2500,rarity:""}}[A]:{expMin:50,expMax:500,stonesMin:100,stonesMax:1e3,rarity:""})(u),N=u?`${u}`:"",q=m?`

${m}${E?`${E}`:""}
${m}`:"";p=`
            ${N}${q}
            ${c.realm} ( ${c.realmLevel} )

            
            

            ${m?`
 - 
${m}
- """"
- """"
- """"
- """"""
- """"""
- """"""
- """"
- """"
- """"
- """"
- """"
- ""
- """"
- """"
- """"
- """"
- """"

`:""}

            
            - """"""
            - """"""
            - """"""
            - """"""""

            
            - 
              * ""
              * ""
            - 
              * ""
              * ""
            - 
              * ""
              * ""
            - 
              * ""
              * ""

            
            1. /
            2. """"""
            3. 
            4. 
            5. 
            6. 
            7. 

            
            - 
            - """"
            - 
            - 
            - 

            
            - ""
            - ""
            - ""

            
            
            hpChangeattackdefensespiritphysiquespeedmaxHp
            ${x.rarity}""
            ${Math.floor(x.expMin*g)}-${Math.floor(x.expMax*g)}${Math.floor(x.stonesMin*g)}-${Math.floor(x.stonesMax*g)}
          `;break;default:p=`
          
          ${c.realm} ( ${c.realmLevel} )

          
          1. 
          2. 
          3. 
          4. 
          5. 
          6. 
          7. 
          8. 
          9. 
          10. 
          11. 
          12. ,()
          13. (,1-4)
          14. 
          15. 
          16. 

          15-20%
          5%
          
          ${Math.max(0,60-S*10)}%${Math.min(30+S*5,50)}%${Math.min(S*3,20)}%
          ${Math.floor(10*g)}-${Math.floor(100*g)}${Math.floor(5*g)}-${Math.floor(50*g)}
          ${Math.floor(1*g)}-${Math.floor(10*g)}
          ${Math.floor(1*g)}-${Math.floor(4*g)}

          
          

          
          - """"""""""""""""""""
          - """"""""""""""""
          - """"""""""""""

          
          - """"""""
          - """"""""
          - """"""""

          
          - ""
          - ""
          - ""
          - ""

          
          1. 10-30
          2. 10-20
          3. 20-50
          4. 

          """"
          "..."

          
          
          - /
          - 
          - 
          - 
          - 
            * 
            * 
            * 
            * 
            * 
            * 
          - 1-2
          - 1-4
          - 1-2

          
          - 
          - 
          - """"""""

          
          - 
          - ++
          - 3
          - 
          - /

          
        `;break}const M=`
      GMDungeon Master
      
      - ${c.name}
      - ${c.realm} ( ${c.realmLevel} )
      - ${c.hp}/${c.maxHp}
      - ${c.attack}
      - ${c.defense}
      - ${c.spirit}
      - ${c.physique}
      - ${c.speed}

      
      ${p}

       - 
      story

      
      1. 10-40
         - """"""""""""""""""""""""
         - """"""""""""""""""""
         - /""""""""""""""""

      2. 10-30
         - """"""""""
         - """"""""""
         - """"""""""
         - """"""""

      3. 30-80
         - /""""""""""
         - /""""""""
         - """"""""
         - /""""""

      4. 10-30
         - """"""""

      

      
      - ""
      - ""
      - ""

      
      - ""
      - ""
      - ""

      
      - ""
      - ""
      - ""

      
      - ""
      - ""
      - ""

      
      1. story50-200
      2. 
      3. 
      4. 
      5. 50%
      3. eventColor
         - normal
         - gain
         - danger
         - special
      4. itemObtaineditemsObtained
      5. 
      6. attributeReduction

       JSON 
      
    `,d=await Mm([{role:"system",content:`GM


1. JSON
2. \`\`\`json\`\`\`JSON
3.  "spirit": 8  "spirit": +8
4. 
5. JSON`},{role:"user",content:`${M}


JSONJSON

JSON
{
  "story": "",
  "hpChange": ,
  "expChange": ,
  "spiritStonesChange": ,
  "lotteryTicketsChange": ,
  "inheritanceLevelChange": 1-4,
  "attributeReduction": {
    "attack": ,
    "defense": ,
    "spirit": ,
    "physique": ,
    "speed": ,
    "maxHp": 
  },
  "triggerSecretRealm": ,
  "eventColor": "normal/gain/danger/special",
  "itemObtained": {
    "name": "",
    "type": "///////",
    "description": "[+50]",
    "rarity": "///",
    "isEquippable": ,
    "equipmentSlot": "//////1-4/1-2/1-2/",
    "effect": {
      "hp": ,
      "exp": exp,
      "attack": ,
      "defense": ,
      "spirit": ,
      "physique": ,
      "speed": 
    },
    "permanentEffect": {
      "attack": ,
      "defense": ,
      "spirit": ,
      "physique": ,
      "speed": ,
      "maxHp": 
    }
  },
  "itemsObtained": [itemObtained],
  "petObtained": "IDpet-spirit-fox/pet-thunder-tiger/pet-phoenix",
  "petOpportunity": {
    "type": "evolution/level/stats/exp",
    "petId": "ID",
    "levelGain": typelevel,
    "expGain": typeexp,
    "statsBoost": {
      "attack": ,
      "defense": ,
      "hp": ,
      "speed": 
    }
  }
}


1. JSON
2. +
3. 
4.  isEquippable: true  equipmentSlot
5. exp
6. 
   - ""
     * 
     * 
     * //
     * //
     * //
     * """""//"""""
   - ""
     * ////////////
     * ////////
     * ////////////
     * ///////
     * ///////
     * /////////
   - //""equipmentSlot"1"
   - ////////""equipmentSlot"1"
   - ""
     * ///"//"
     * ////////////
     * /""""
     * """"""
7. /itemObtainedhpChange
8. inheritanceLevelChange1-4
9. triggerSecretRealm
10. petOpportunity


- 
- 
  * 
  * +++
  * ++++
- //// effect  permanentEffect
- permanentEffect 
-  effect 
- 
  * 10-305-15
  * 30-8015-4010-25
  * 80-20040-10025-60
  * 200-500100-25060-150
- 



- 15-20%
- 15-20%
- 15-20%
- 15-20%
- 15-20%
- 15-20%



- 
- 5-10%
- 
- 10-15%30%`}],.95),o=Dy(d);try{return JSON.parse(o)}catch(f){throw console.error("JSON:",d),console.error(":",o),console.error(":",f),new Error(`JSON: ${f}`)}}catch(p){return console.error("Spark Adventure Error:",p),{story:"",hpChange:0,expChange:5,spiritStonesChange:0,eventColor:"normal"}}},P0=[(c,h)=>`${c}${c}${h}`,(c,h)=>`${c}${c}${h}`,(c,h)=>`${c}${c}${h}`,(c,h)=>`${c}${c}${h}`,(c,h)=>`${c}${c}${h}`,(c,h)=>`${c}${c}${c}${h}`,(c,h)=>`${c}${c}${c}${h}`,(c,h)=>`${c}${c}${h}`,(c,h)=>`${c}${c}${c}${h}`,(c,h)=>`${c}${c}${h}`,(c,h)=>`${c}${c}${c}${h}`,(c,h)=>`${c}${c}${h}`,(c,h)=>`${c}${c}${h}`,(c,h)=>`${c}${c}${h}`,(c,h)=>`${c}${c}${c}${h}`],Uy=async(c,h,u)=>{const m=Math.floor(Math.random()*P0.length),E=P0[m];return E(u||"",c)},By=async(c,h)=>{try{const E=`
      ${h==="secret_realm"?"":h==="lucky"?"":""}
      ${c}

      
      
      

      JSON
      {
        "name": "2-4",
        "title": "2-5"
      }

      JSON
    `,p=await Mm([{role:"system",content:"JSON"},{role:"user",content:E}],.9),S=Nm(p),g=JSON.parse(S);return g.name&&g.title?{name:g.name.trim(),title:g.title.trim()}:{name:"",title:""}}catch(u){return console.error("AI:",u),{name:"",title:""}}};function Gy({player:c,setPlayer:h,addLog:u,setLoading:m,loading:E}){return{handleBreakthrough:async()=>{if(E||!c)return;const g=c.realmLevel>=9,M=g?.6:.9;if(Math.random()<M){m(!0);const o=g?1:c.realmLevel+1;let f=c.realm;if(g){const q=Object.values(me),A=q.indexOf(c.realm);A<q.length-1&&(f=q[A+1])}const x=g?f:`${c.realm}  ${o} `,N=await Uy(x,!0,c.name);u(N,"special"),h(q=>{const A=Zo[f],H=1+o*.1;let $=0,V=0,T=0,K=0,ie=0,te=0;q.cultivationArts.forEach(J=>{const R=Rs.find(j=>j.id===J);R&&($+=R.effects.attack||0,V+=R.effects.defense||0,T+=R.effects.hp||0,K+=R.effects.spirit||0,ie+=R.effects.physique||0,te+=R.effects.speed||0)}),Object.values(q.equippedItems).forEach(J=>{const R=q.inventory.find(j=>j.id===J);if(R&&R.effect){const j=R.id===q.natalArtifactId,O=$t(R,j);$+=O.attack,V+=O.defense,T+=O.hp,K+=O.spirit,ie+=O.physique,te+=O.speed}});const P=Hn.find(J=>J.id===q.talentId);P&&($+=P.effects.attack||0,V+=P.effects.defense||0,T+=P.effects.hp||0,K+=P.effects.spirit||0,ie+=P.effects.physique||0,te+=P.effects.speed||0);const fe=ba.find(J=>J.id===q.titleId);fe&&($+=fe.effects.attack||0,V+=fe.effects.defense||0,T+=fe.effects.hp||0,K+=fe.effects.spirit||0,ie+=fe.effects.physique||0,te+=fe.effects.speed||0);const I=Math.floor(A.baseMaxHp*H),oe=Math.floor(A.maxExpBase*H*1.5),ae=Math.max(0,q.exp-q.maxExp),ne=q.statistics||{killCount:0,meditateCount:0,adventureCount:0,equipCount:0,petCount:0,recipeCount:0,artCount:0,breakthroughCount:0,secretRealmCount:0};return{...q,realm:f,realmLevel:o,exp:ae,maxExp:oe,maxHp:I+T,hp:I+T,attack:Math.floor(A.baseAttack*H)+$,defense:Math.floor(A.baseDefense*H)+V,spirit:Math.floor(A.baseSpirit*H)+K,physique:Math.floor(A.basePhysique*H)+ie,speed:Math.max(0,Math.floor(A.baseSpeed*H)+te),statistics:{...ne,breakthroughCount:ne.breakthroughCount+1}}}),m(!1)}else u("","danger"),h(o=>({...o,exp:Math.floor(o.exp*.7),hp:Math.floor(o.hp*.5)}))},handleUseInheritance:()=>{if(!c||c.inheritanceLevel<=0){u("","danger");return}h(g=>{let M=g.inheritanceLevel,d=g.realm,o=g.realmLevel,f=0;const x=Math.min(M,4);for(let N=0;N<x;N++)if(o>=9){const A=Object.values(me),H=A.indexOf(d);if(H<A.length-1)d=A[H+1],o=1,f++,M--;else break}else o++,f++,M--;if(f>0){const N=Zo[d],q=1+o*.1;let A=0,H=0,$=0,V=0,T=0,K=0;g.cultivationArts.forEach(w=>{const ae=Rs.find(ne=>ne.id===w);ae&&(A+=ae.effects.attack||0,H+=ae.effects.defense||0,$+=ae.effects.hp||0,V+=ae.effects.spirit||0,T+=ae.effects.physique||0,K+=ae.effects.speed||0)}),Object.values(g.equippedItems).forEach(w=>{const ae=g.inventory.find(ne=>ne.id===w);if(ae&&ae.effect){const ne=ae.id===g.natalArtifactId,J=$t(ae,ne);A+=J.attack,H+=J.defense,$+=J.hp,V+=J.spirit,T+=J.physique,K+=J.speed}});const ie=Hn.find(w=>w.id===g.talentId);ie&&(A+=ie.effects.attack||0,H+=ie.effects.defense||0,$+=ie.effects.hp||0,V+=ie.effects.spirit||0,T+=ie.effects.physique||0,K+=ie.effects.speed||0);const te=ba.find(w=>w.id===g.titleId);te&&(A+=te.effects.attack||0,H+=te.effects.defense||0,$+=te.effects.hp||0,V+=te.effects.spirit||0,T+=te.effects.physique||0,K+=te.effects.speed||0);const P=Math.floor(N.baseMaxHp*q),fe=Math.floor(N.maxExpBase*q*1.5),oe=Math.max(0,g.exp-g.maxExp);return u(`  ${f} `,"special"),{...g,realm:d,realmLevel:o,exp:oe,maxExp:fe,maxHp:P+$,hp:P+$,attack:Math.floor(N.baseAttack*q)+A,defense:Math.floor(N.baseDefense*q)+H,spirit:Math.floor(N.baseSpirit*q)+V,physique:Math.floor(N.basePhysique*q)+T,speed:Math.max(0,Math.floor(N.baseSpeed*q)+K),inheritanceLevel:M}}return g})}}}function Yy({battleReplay:c,setBattleReplay:h,setIsBattleModalOpen:u,setRevealedBattleRounds:m}){return{openBattleModal:g=>{h(g),u(!0),m(g.rounds.length>0?1:0)},handleSkipBattleLogs:()=>{c&&m(c.rounds.length)},handleCloseBattleModal:()=>{u(!1),h(null),m(0)}}}function Ly({setPlayer:c,addLog:h,setItemActionLog:u}){return{handleUseItem:p=>{c(S=>{var x,N;const g=S.inventory.map(q=>q.id===p.id?{...q,quantity:q.quantity-1}:q).filter(q=>q.quantity>0),M=[];let d={...S},o=[...S.pets];const f=p.name.includes("")||p.name.toLowerCase().includes("egg")||p.name.includes("")||p.name.includes("")||p.description&&(p.description.includes("")||p.description.includes("")||p.description.includes("")||p.description.includes(""));if(f){const q=Sc.filter(A=>p.rarity===""?A.rarity===""||A.rarity==="":p.rarity===""?A.rarity===""||A.rarity==="":p.rarity===""?A.rarity===""||A.rarity==="":p.rarity===""?A.rarity==="":!0);if(q.length>0){const A=q[Math.floor(Math.random()*q.length)],H={id:pt(),name:A.name,species:A.species,level:1,exp:0,maxExp:100,rarity:A.rarity,stats:{...A.baseStats},skills:[...A.skills],evolutionStage:0,affection:50};o.push(H),M.push(` ${H.name}`),h(` ${p.name}${H.name}`,"special")}else M.push("..."),h(`${p.name}...`,"normal")}if((x=p.effect)!=null&&x.hp&&(d.hp=Math.min(d.maxHp,d.hp+p.effect.hp),M.push(` ${p.effect.hp} `)),(N=p.effect)!=null&&N.exp&&(d.exp+=p.effect.exp,M.push(` ${p.effect.exp} `)),p.permanentEffect){const q=[];p.permanentEffect.attack&&(d.attack+=p.permanentEffect.attack,q.push(` +${p.permanentEffect.attack}`)),p.permanentEffect.defense&&(d.defense+=p.permanentEffect.defense,q.push(` +${p.permanentEffect.defense}`)),p.permanentEffect.spirit&&(d.spirit+=p.permanentEffect.spirit,q.push(` +${p.permanentEffect.spirit}`)),p.permanentEffect.physique&&(d.physique+=p.permanentEffect.physique,q.push(` +${p.permanentEffect.physique}`)),p.permanentEffect.speed&&(d.speed+=p.permanentEffect.speed,q.push(` +${p.permanentEffect.speed}`)),p.permanentEffect.maxHp&&(d.maxHp+=p.permanentEffect.maxHp,d.hp+=p.permanentEffect.maxHp,q.push(` +${p.permanentEffect.maxHp}`)),q.length>0&&M.push(` ${q.join("")}`)}if(p.type===v.Recipe&&p.recipeData){const q=p.recipeData.name;if(d.unlockedRecipes||(d.unlockedRecipes=[]),d.unlockedRecipes.includes(q))return h(`${q}`,"normal"),{...d,inventory:g,pets:o};d.unlockedRecipes=[...d.unlockedRecipes,q];const A=d.statistics||{killCount:0,meditateCount:0,adventureCount:0,equipCount:0,petCount:0,recipeCount:0,artCount:0,breakthroughCount:0,secretRealmCount:0};d.statistics={...A,recipeCount:d.unlockedRecipes.length},M.push(` ${q}`),h(`${p.name}${q}`,"special")}if(M.length>0&&!f&&p.type!==v.Recipe){const q=` ${p.name} ${M.join(" ")}`;h(q,"gain"),u&&(u({text:q,type:"gain"}),setTimeout(()=>u(null),3e3))}else if(p.type===v.Recipe&&M.length>0){const q=M[0];u&&(u({text:q,type:"special"}),setTimeout(()=>u(null),3e3))}return{...d,inventory:g,pets:o}})},handleDiscardItem:p=>{window.confirm(` ${p.name} x${p.quantity} `)&&c(S=>{if(Object.values(S.equippedItems).includes(p.id))return h("","danger"),S;const M=S.inventory.filter(d=>d.id!==p.id);return h(` ${p.name} x${p.quantity}`,"normal"),{...S,inventory:M}})}}}function Qy({player:c,setPlayer:h,addLog:u,setItemActionLog:m}){return{handleEquipItem:(o,f)=>{if(!o.equipmentSlot){u("","danger");return}h(x=>{if(!x.inventory.find(J=>J.id===o.id))return u("","danger"),x;const q=o.type===v.Ring,A=o.type===v.Accessory,H=o.type===v.Artifact;if(q){if(![k.Ring1,k.Ring2,k.Ring3,k.Ring4].includes(f))return u("","danger"),x}else if(A){if(![k.Accessory1,k.Accessory2].includes(f))return u("","danger"),x}else if(H){if(![k.Artifact1,k.Artifact2].includes(f))return u("","danger"),x}else if(o.equipmentSlot!==f)return u("","danger"),x;let $=x.attack,V=x.defense,T=x.maxHp,K=x.spirit,ie=x.physique,te=x.speed;const P={...x.equippedItems};let fe=null;for(const[J,R]of Object.entries(x.equippedItems))if(R===o.id&&J!==f){fe=J,delete P[fe];const j=o.id===x.natalArtifactId,O=$t(o,j);$-=O.attack,V-=O.defense,T-=O.hp,K-=O.spirit,ie-=O.physique,te-=O.speed;break}const I=x.equippedItems[f];if(I&&I!==o.id){const J=x.inventory.find(R=>R.id===I);if(J){const R=J.id===x.natalArtifactId,j=$t(J,R);$-=j.attack,V-=j.defense,T-=j.hp,K-=j.spirit,ie-=j.physique,te-=j.speed}}const oe=o.id===x.natalArtifactId,w=$t(o,oe);if($+=w.attack,V+=w.defense,T+=w.hp,K+=w.spirit,ie+=w.physique,te+=w.speed,P[f]=o.id,fe){const J=` ${o.name} ${fe}${f}`;u(J,"normal"),m&&(m({text:J,type:"normal"}),setTimeout(()=>m(null),3e3))}else{const J=` ${o.name} ${f}`;u(J,"normal"),m&&(m({text:J,type:"normal"}),setTimeout(()=>m(null),3e3))}let ne={...x.statistics||{killCount:0,meditateCount:0,adventureCount:0,equipCount:0,petCount:0,recipeCount:0,artCount:0,breakthroughCount:0,secretRealmCount:0}};return(!I||I!==o.id)&&(fe||(ne.equipCount+=1)),{...x,equippedItems:P,attack:$,defense:V,maxHp:T,hp:Math.min(x.hp,T),spirit:K,physique:ie,speed:Math.max(0,te),statistics:ne}})},handleUnequipItem:o=>{h(f=>{const x=f.equippedItems[o];if(!x)return u("","danger"),f;const N=f.inventory.find(P=>P.id===x);if(!N)return f;let q=f.attack,A=f.defense,H=f.maxHp,$=f.spirit,V=f.physique,T=f.speed;const K=N.id===f.natalArtifactId,ie=$t(N,K);q-=ie.attack,A-=ie.defense,H-=ie.hp,$-=ie.spirit,V-=ie.physique,T-=ie.speed;const te={...f.equippedItems};return delete te[o],u(` ${N.name}`,"normal"),{...f,equippedItems:te,attack:q,defense:A,maxHp:H,hp:Math.min(f.hp,H),spirit:$,physique:V,speed:Math.max(0,T)}})},handleRefineNatalArtifact:o=>{if(o.type!==v.Artifact){u("","danger");return}if(o.isNatal){u("","normal");return}h(f=>{if(f.natalArtifactId){const fe=f.inventory.find(I=>I.id===f.natalArtifactId);if(fe)return u(`${fe.name}`,"danger"),f}const x=o.rarity||"",q={:50,:100,:200,:500}[x];if(f.maxHp<=q)return u(` ${q} `,"danger"),f;const A=f.inventory.map(fe=>fe.id===o.id?{...fe,isNatal:!0}:fe.id===f.natalArtifactId?{...fe,isNatal:!1}:fe),H=f.maxHp-q,$=Math.min(f.hp,H);let V=f.attack,T=f.defense,K=f.spirit,ie=f.physique,te=f.speed;if(Object.values(f.equippedItems).includes(o.id)){const fe=$t(o,!1),I=$t(o,!0);V=V-fe.attack+I.attack,T=T-fe.defense+I.defense,K=K-fe.spirit+I.spirit,ie=ie-fe.physique+I.physique,te=te-fe.speed+I.speed}return u(` ${q} ${o.name}`,"special"),u("50%","special"),{...f,inventory:A,natalArtifactId:o.id,maxHp:H,hp:$,attack:V,defense:T,spirit:K,physique:ie,speed:Math.max(0,te)}})},handleUnrefineNatalArtifact:()=>{h(o=>{if(!o.natalArtifactId)return u("","danger"),o;const f=o.inventory.find(T=>T.id===o.natalArtifactId);if(!f)return u("","danger"),o;const x=o.inventory.map(T=>T.id===o.natalArtifactId?{...T,isNatal:!1}:T);let N=o.attack,q=o.defense,A=o.spirit,H=o.physique,$=o.speed;if(Object.values(o.equippedItems).includes(o.natalArtifactId)){const T=$t(f,!0),K=$t(f,!1);N=N-T.attack+K.attack,q=q-T.defense+K.defense,A=A-T.spirit+K.spirit,H=H-T.physique+K.physique,$=$-T.speed+K.speed}return u("","normal"),{...o,inventory:x,natalArtifactId:null,attack:N,defense:q,spirit:A,physique:H,speed:Math.max(0,$)}})},handleOpenUpgrade:o=>o,handleUpgradeItem:async(o,f,x,N=0)=>new Promise(q=>{h(A=>{var y,C,_,U,le,re,ue;const H=A.inventory.find(de=>de.name===vc),$=A.inventory.find(de=>de.name===jc);if(A.spiritStones<f||!H||H.quantity<x||!$||$.quantity<N)return q("error"),A;const V=o.level||0,T=o.rarity||"",K=an[T],ie=Math.max(.1,1-V*.1-(K-1)*.15),te=Math.min(1,ie+N*bm),P=Math.random()<te,fe=A.inventory.map(de=>de.name===vc?{...de,quantity:de.quantity-x}:de.name===jc&&N>0?{...de,quantity:de.quantity-N}:de).filter(de=>de.quantity>0),I=A.spiritStones-f;if(!P)return u(`${o.name} `,"danger"),q("failure"),{...A,spiritStones:I,inventory:fe};const oe=gm(T),w=de=>Math.floor(de*(1+oe)),ae={...o.effect,attack:(y=o.effect)!=null&&y.attack?w(o.effect.attack):void 0,defense:(C=o.effect)!=null&&C.defense?w(o.effect.defense):void 0,hp:(_=o.effect)!=null&&_.hp?w(o.effect.hp):void 0,spirit:(U=o.effect)!=null&&U.spirit?w(o.effect.spirit):void 0,physique:(le=o.effect)!=null&&le.physique?w(o.effect.physique):void 0,speed:(re=o.effect)!=null&&re.speed?w(o.effect.speed):void 0},ne=fe.map(de=>de.id===o.id?{...de,level:(de.level||0)+1,effect:ae}:de);let J=A.attack,R=A.defense,j=A.maxHp,O=A.spirit,B=A.physique,ce=A.speed;if((ue=Object.entries(A.equippedItems).find(([de,pe])=>pe===o.id))==null?void 0:ue[0]){const de=o.id===A.natalArtifactId,pe=$t(o,de);J-=pe.attack,R-=pe.defense,j-=pe.hp,O-=pe.spirit,B-=pe.physique,ce-=pe.speed;const ve={...o,effect:ae,level:(o.level||0)+1},Se=$t(ve,de);J+=Se.attack,R+=Se.defense,j+=Se.hp,O+=Se.spirit,B+=Se.physique,ce+=Se.speed}return u(`${o.name} `,"gain"),q("success"),{...A,spiritStones:I,inventory:ne,attack:J,defense:R,maxHp:j,spirit:O,physique:B,speed:Math.max(0,ce)}})})}}function Vy({player:c,setPlayer:h,addLog:u}){return{handleLearnArt:p=>{if(!c||c.spiritStones<p.cost){u("","danger");return}if(p.sectId!==null&&p.sectId!==void 0&&c.sectId!==p.sectId){const S=Bl.find(M=>M.id===p.sectId),g=S?S.name:p.sectId;u(`${g}`,"danger");return}if(p.attributeRequirements){const S=p.attributeRequirements;if(S.attack&&c.attack<S.attack){u(` ${S.attack} ${c.attack}`,"danger");return}if(S.defense&&c.defense<S.defense){u(` ${S.defense} ${c.defense}`,"danger");return}if(S.spirit&&c.spirit<S.spirit){u(` ${S.spirit} ${c.spirit}`,"danger");return}if(S.physique&&c.physique<S.physique){u(` ${S.physique} ${c.physique}`,"danger");return}if(S.speed&&c.speed<S.speed){u(` ${S.speed} ${c.speed}`,"danger");return}}h(S=>{const g=S.spiritStones-p.cost,M=S.attack+(p.effects.attack||0),d=S.defense+(p.effects.defense||0),o=S.maxHp+(p.effects.hp||0),f=S.hp+(p.effects.hp||0),x=[...S.cultivationArts,p.id];let N=S.activeArtId;return!N&&p.type==="mental"&&(N=p.id),{...S,spiritStones:g,attack:M,defense:d,maxHp:o,hp:f,cultivationArts:x,activeArtId:N}}),u(`${p.name}`,"gain")},handleActivateArt:p=>{p.type==="mental"&&(h(S=>({...S,activeArtId:p.id})),u(`${p.name}`,"normal"))}}}function Xy({setPlayer:c,addLog:h}){return{handleCraft:m=>{c(E=>{if(E.spiritStones<m.cost)return E;const p=[...E.inventory];for(const d of m.ingredients){const o=p.findIndex(f=>f.name===d.name);if(o===-1||p[o].quantity<d.qty)return E;p[o]={...p[o],quantity:p[o].quantity-d.qty}}const S=p.filter(d=>d.quantity>0),g=m.result.type===v.Artifact||m.result.type===v.Weapon||m.result.type===v.Armor||m.result.type===v.Ring||m.result.type===v.Accessory,M=S.findIndex(d=>d.name===m.result.name);if(M>=0&&!g)S[M]={...S[M],quantity:S[M].quantity+1};else{const d={id:pt(),name:m.result.name||"Unknown",type:m.result.type||v.Pill,description:m.result.description||"",quantity:1,rarity:m.result.rarity||"",level:0,effect:m.result.effect};if(g){if(d.isEquippable=!0,"equipmentSlot"in m.result&&m.result.equipmentSlot)d.equipmentSlot=m.result.equipmentSlot;else if(m.result.type===v.Artifact){const o=[k.Artifact1,k.Artifact2];d.equipmentSlot=o[Math.floor(Math.random()*o.length)]}else if(m.result.type===v.Weapon)d.equipmentSlot=k.Weapon;else if(m.result.type===v.Ring){const o=[k.Ring1,k.Ring2,k.Ring3,k.Ring4];d.equipmentSlot=o[Math.floor(Math.random()*o.length)]}else if(m.result.type===v.Accessory){const o=[k.Accessory1,k.Accessory2];d.equipmentSlot=o[Math.floor(Math.random()*o.length)]}}S.push(d)}return h(` ${m.result.name}`,"gain"),{...E,spiritStones:E.spiritStones-m.cost,inventory:S}})}}}function Zy({player:c,setPlayer:h,addLog:u}){return{handleSelectTalent:S=>{u("","danger")},handleSelectTitle:S=>{const g=ba.find(M=>M.id===S);g&&h(M=>{let d=M.attack,o=M.defense,f=M.maxHp,x=M.hp;if(M.titleId){const N=ba.find(q=>q.id===M.titleId);N&&(d-=N.effects.attack||0,o-=N.effects.defense||0,f-=N.effects.hp||0,x-=N.effects.hp||0)}return d+=g.effects.attack||0,o+=g.effects.defense||0,f+=g.effects.hp||0,x+=g.effects.hp||0,u(`${g.name}`,"special"),{...M,titleId:S,attack:d,defense:o,maxHp:f,hp:Math.min(x,f)}})},handleAllocateAttribute:S=>{!c||c.attributePoints<=0||h(g=>{const M=g.attributePoints-1;let d=g.attack,o=g.defense,f=g.maxHp,x=g.hp;return S==="attack"?(d+=5,u("1 (+5)","gain")):S==="defense"?(o+=3,u("1 (+3)","gain")):S==="hp"&&(f+=20,x+=20,u("1 (+20)","gain")),{...g,attributePoints:M,attack:d,defense:o,maxHp:f,hp:x}})}}}const Jy=({player:c})=>{const[h,u]=X.useState(!1),m=X.useMemo(()=>Math.min(100,c.exp/c.maxExp*100),[c.exp,c.maxExp]),E=X.useMemo(()=>Math.min(100,c.hp/c.maxHp*100),[c.hp,c.maxHp]),p=X.useMemo(()=>Rs.find(M=>M.id===c.activeArtId),[c.activeArtId]),S=X.useMemo(()=>c.natalArtifactId?c.inventory.find(M=>M.id===c.natalArtifactId):null,[c.natalArtifactId,c.inventory]),g=X.useMemo(()=>M=>{switch(M){case"":return"text-blue-400";case"":return"text-purple-400";case"":return"text-mystic-gold";case"":default:return"text-stone-200"}},[]);return s.jsxs("div",{className:"bg-paper-800 border-r-2 border-b-2 md:border-b-0 border-stone-700 p-3 md:p-6 flex flex-col gap-3 md:gap-6 w-full md:w-80 shrink-0 h-auto md:h-full overflow-y-auto",children:[s.jsxs("button",{onClick:()=>u(!h),className:"md:hidden flex items-center justify-between w-full p-2 bg-ink-800 rounded border border-stone-600 mb-2 touch-manipulation",children:[s.jsxs("div",{className:"text-center flex-1",children:[s.jsx("h2",{className:"text-lg font-serif font-bold text-mystic-gold tracking-widest",children:c.name}),s.jsxs("div",{className:"text-stone-400 text-xs mt-0.5 font-serif",children:[c.realm," - ",c.realmLevel," "]})]}),h?s.jsx(cx,{size:20}):s.jsx(ox,{size:20})]}),s.jsxs("div",{className:"hidden md:block text-center mb-4",children:[s.jsx("h2",{className:"text-2xl font-serif font-bold text-mystic-gold tracking-widest",children:c.name}),s.jsxs("div",{className:"text-stone-400 text-sm mt-1 font-serif",children:[c.realm," - ",c.realmLevel," "]})]}),s.jsxs("div",{className:`${h?"hidden md:flex":"flex"} flex-col gap-3 md:gap-6`,children:[s.jsxs("div",{className:"space-y-2 md:space-y-4",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between text-xs text-stone-400 mb-1",children:[s.jsx("span",{children:" (HP)"}),s.jsxs("span",{children:[c.hp," / ",c.maxHp]})]}),s.jsx("div",{className:"h-2 bg-stone-900 rounded-full overflow-hidden border border-stone-700",children:s.jsx("div",{className:"h-full bg-mystic-blood transition-all duration-500 ease-out",style:{width:`${E}%`}})})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between text-xs text-stone-400 mb-1",children:[s.jsx("span",{children:" (Exp)"}),s.jsxs("span",{children:[Math.floor(c.exp)," / ",c.maxExp]})]}),s.jsx("div",{className:"h-2 bg-stone-900 rounded-full overflow-hidden border border-stone-700",children:s.jsx("div",{className:"h-full bg-mystic-jade transition-all duration-500 ease-out",style:{width:`${m}%`}})})]})]}),s.jsxs("div",{className:"bg-ink-800 p-2 md:p-3 rounded border border-stone-700 flex items-center gap-2 md:gap-3",children:[s.jsx($l,{size:16,className:"md:w-[18px] md:h-[18px] text-blue-400"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"text-[10px] md:text-xs text-stone-500",children:""}),s.jsx("div",{className:"text-stone-200 font-serif font-bold text-xs md:text-sm",children:p?p.name:""})]})]}),s.jsxs("div",{className:"bg-ink-800 p-2 md:p-3 rounded border border-stone-700 flex items-center gap-2 md:gap-3",children:[s.jsx(ks,{size:16,className:"md:w-[18px] md:h-[18px] text-purple-400"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"text-[10px] md:text-xs text-stone-500",children:""}),s.jsx("div",{className:`font-serif font-bold text-xs md:text-sm ${g(S==null?void 0:S.rarity)}`,children:S?S.name:""})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2 md:gap-3 mt-1",children:[s.jsxs("div",{className:"bg-ink-800 p-2 md:p-3 rounded border border-stone-700 flex items-center gap-2 md:gap-3",children:[s.jsx(ks,{size:14,className:"md:w-[18px] md:h-[18px] text-red-400"}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[10px] md:text-xs text-stone-500",children:""}),s.jsx("div",{className:"text-stone-200 font-bold text-xs md:text-base",children:c.attack})]})]}),s.jsxs("div",{className:"bg-ink-800 p-2 md:p-3 rounded border border-stone-700 flex items-center gap-2 md:gap-3",children:[s.jsx(_n,{size:14,className:"md:w-[18px] md:h-[18px] text-blue-400"}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[10px] md:text-xs text-stone-500",children:""}),s.jsx("div",{className:"text-stone-200 font-bold text-xs md:text-base",children:c.defense})]})]}),s.jsxs("div",{className:"bg-ink-800 p-2 md:p-3 rounded border border-stone-700 flex items-center gap-2 md:gap-3",children:[s.jsx(Tn,{size:14,className:"md:w-[18px] md:h-[18px] text-yellow-400"}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[10px] md:text-xs text-stone-500",children:""}),s.jsx("div",{className:"text-stone-200 font-bold text-xs md:text-base",children:c.spirit})]})]}),s.jsxs("div",{className:"bg-ink-800 p-2 md:p-3 rounded border border-stone-700 flex items-center gap-2 md:gap-3",children:[s.jsx(_n,{size:14,className:"md:w-[18px] md:h-[18px] text-green-400"}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[10px] md:text-xs text-stone-500",children:""}),s.jsx("div",{className:"text-stone-200 font-bold text-xs md:text-base",children:c.physique})]})]}),s.jsxs("div",{className:"bg-ink-800 p-2 md:p-3 rounded border border-stone-700 flex items-center gap-2 md:gap-3",children:[s.jsx(Tn,{size:14,className:"md:w-[18px] md:h-[18px] text-cyan-400"}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[10px] md:text-xs text-stone-500",children:""}),s.jsx("div",{className:"text-stone-200 font-bold text-xs md:text-base",children:c.speed})]})]}),s.jsxs("div",{className:"bg-ink-800 p-2 md:p-3 rounded border border-stone-700 flex items-center gap-2 md:gap-3",children:[s.jsx(Lo,{size:14,className:"md:w-[18px] md:h-[18px] text-mystic-gold"}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[10px] md:text-xs text-stone-500",children:""}),s.jsx("div",{className:"text-mystic-gold font-bold text-xs md:text-base",children:c.spiritStones})]})]})]}),c.lotteryTickets>0&&s.jsxs("div",{className:"bg-ink-800 p-2 md:p-3 rounded border border-yellow-500/50 flex items-center gap-2 md:gap-3",children:[s.jsx(Tn,{size:14,className:"md:w-[18px] md:h-[18px] text-yellow-400"}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[10px] md:text-xs text-stone-500",children:""}),s.jsx("div",{className:"text-yellow-400 font-bold text-xs md:text-base",children:c.lotteryTickets})]})]}),c.inheritanceLevel>0&&s.jsxs("div",{className:"bg-ink-800 p-2 md:p-3 rounded border border-purple-500/50 flex items-center gap-2 md:gap-3",children:[s.jsx(Tn,{size:14,className:"md:w-[18px] md:h-[18px] text-purple-400"}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[10px] md:text-xs text-stone-500",children:""}),s.jsx("div",{className:"text-purple-400 font-bold text-xs md:text-base",children:c.inheritanceLevel})]})]}),s.jsx("div",{className:"hidden md:block mt-auto pt-6 border-t border-stone-700 text-xs text-stone-500 italic text-center",children:'""'})]})]})},em=Wt.memo(Jy),tm=500,qm=Wt.memo(({log:c})=>{const h=X.useMemo(()=>new Date(c.timestamp).toLocaleTimeString(),[c.timestamp]),u=X.useMemo(()=>{const m="p-2 md:p-3 rounded border-l-2 font-serif text-xs md:text-sm lg:text-base leading-relaxed animate-fade-in";switch(c.type){case"normal":return`${m} border-stone-600 text-stone-300 bg-ink-800/50`;case"gain":return`${m} border-mystic-jade text-emerald-100 bg-emerald-900/10`;case"danger":return`${m} border-mystic-blood text-red-100 bg-red-900/10`;case"special":return`${m} border-mystic-gold text-amber-100 bg-amber-900/10`;default:return`${m} border-stone-600 text-stone-300 bg-ink-800/50`}},[c.type]);return s.jsxs("div",{className:u,children:[s.jsx("span",{className:"text-[10px] md:text-xs opacity-50 block mb-0.5 md:mb-1 font-mono",children:h}),c.text]})});qm.displayName="LogItem";const Ky=({logs:c,className:h})=>{const u=X.useRef(null),m=X.useRef(null),[E,p]=X.useState(!1),S=X.useRef(null),g=X.useRef(!0),M=X.useMemo(()=>c.length<=tm?c:c.slice(-tm),[c]),d=X.useCallback(()=>{const f=m.current;if(!f)return!0;const{scrollTop:x,scrollHeight:N,clientHeight:q}=f;return N-x-q<=50},[]);X.useEffect(()=>{if(!m.current||c.length===0)return;const x=c[c.length-1];if(x.id!==S.current){S.current=x.id;const A=d();g.current=A,A||requestAnimationFrame(()=>{var H;(H=u.current)==null||H.scrollIntoView({behavior:"smooth"})})}const q=setTimeout(()=>{const A=d();p(!A),g.current=A},200);return()=>clearTimeout(q)},[c,d]),X.useEffect(()=>{const f=m.current;if(!f)return;const x=()=>{const N=d();p(!N),g.current=N};return f.addEventListener("scroll",x,{passive:!0}),x(),()=>{f.removeEventListener("scroll",x)}},[d]),X.useEffect(()=>{M.length>0&&requestAnimationFrame(()=>{var f;(f=u.current)==null||f.scrollIntoView({behavior:"auto"})})},[]);const o=X.useCallback(()=>{const f=m.current;f&&(f.scrollTo({top:f.scrollHeight,behavior:"smooth"}),g.current=!0,setTimeout(()=>{p(!1)},300))},[]);return s.jsxs("div",{className:`flex-1 bg-ink-900 relative min-h-[200px] md:min-h-[300px] ${h||""}`,children:[s.jsxs("div",{ref:m,className:"h-full overflow-y-auto scrollbar-hide relative",children:[s.jsx("div",{className:"absolute top-0 left-0 w-full h-8 md:h-12 bg-gradient-to-b from-ink-900 to-transparent pointer-events-none z-10"}),s.jsxs("div",{className:"p-3 md:p-6 space-y-2 md:space-y-4 pb-4",children:[M.map(f=>s.jsx(qm,{log:f},f.id)),s.jsx("div",{ref:u})]}),s.jsx("div",{className:"absolute bottom-0 left-0 w-full h-8 md:h-12 bg-gradient-to-t from-ink-900 to-transparent pointer-events-none z-10"})]}),E&&s.jsx("button",{onClick:o,className:`absolute bottom-3 right-3 md:bottom-4 md:right-4 z-[100]\r
                     w-9 h-9 md:w-11 md:h-11\r
                     bg-mystic-jade hover:bg-mystic-jade/90\r
                     text-white rounded-full\r
                     flex items-center justify-center\r
                     shadow-xl hover:shadow-2xl hover:scale-110 active:scale-95\r
                     transition-all duration-200\r
                     border-2 border-white/20\r
                     cursor-pointer\r
                     pointer-events-auto`,title:"","aria-label":"",children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-5 h-5 md:w-6 md:h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2.5,children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 14l-7 7m0 0l-7-7m7 7V3"})})})]})},Iy=Wt.memo(Ky),Wy=({effects:c})=>c.length===0?null:s.jsx("div",{className:"absolute inset-0 pointer-events-none z-50 overflow-hidden",children:c.map(h=>h.type==="slash"?s.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[120%] h-1 bg-white shadow-[0_0_20px_rgba(255,255,255,0.8)] animate-slash opacity-0 rotate-45"},h.id):s.jsx("div",{className:`
              absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2
              text-3xl font-bold font-serif animate-float-up
              ${h.color||"text-white"}
              text-shadow-outline
            `,style:{textShadow:"0 2px 4px rgba(0,0,0,0.8)",left:`${50+(Math.random()*20-10)}%`,top:`${50+(Math.random()*20-10)}%`},children:h.value},h.id))}),Fy=Wt.memo(Wy),Py=({isOpen:c,onClose:h,onOpenStats:u,onOpenCultivation:m,onOpenInventory:E,onOpenCharacter:p,onOpenAchievement:S,onOpenPet:g,onOpenLottery:M,onOpenSettings:d,achievementCount:o=0,petCount:f=0,lotteryTickets:x=0})=>{const N=X.useMemo(()=>[{icon:ax,label:"",onClick:u,color:"text-mystic-gold"},{icon:$l,label:"",onClick:m,color:"text-blue-400"},{icon:um,label:"",onClick:E,color:"text-green-400"},{icon:Cs,label:"",onClick:p,color:"text-yellow-400"},{icon:bc,label:"",onClick:S,color:"text-purple-400",badge:o>0?o:void 0},{icon:bt,label:"",onClick:g,color:"text-cyan-400",badge:f>0?f:void 0},{icon:_l,label:"",onClick:M,color:"text-orange-400",badge:x>0?x:void 0},{icon:pm,label:"",onClick:d,color:"text-stone-400"}],[u,m,E,p,S,g,M,d,o,f,x]),q=X.useCallback(A=>{A(),h()},[h]);return s.jsxs(s.Fragment,{children:[c&&s.jsx("div",{className:"fixed inset-0 bg-black/50 z-40 md:hidden",onClick:h}),s.jsx("div",{className:`
          fixed top-0 right-0 h-full w-64 bg-paper-800 border-l border-stone-700 shadow-2xl z-50
          transform transition-transform duration-300 ease-in-out md:hidden
          ${c?"translate-x-0":"translate-x-full"}
        `,children:s.jsxs("div",{className:"flex flex-col h-full",children:[s.jsxs("div",{className:"p-4 border-b border-stone-700 flex justify-between items-center bg-ink-800",children:[s.jsx("h2",{className:"text-lg font-serif text-mystic-gold",children:""}),s.jsx("button",{onClick:h,className:"text-stone-400 active:text-white min-w-[44px] min-h-[44px] flex items-center justify-center touch-manipulation",children:s.jsx(ct,{size:24})})]}),s.jsx("div",{className:"flex-1 overflow-y-auto p-2",children:N.map((A,H)=>{const $=A.icon;return s.jsxs("button",{onClick:()=>q(A.onClick),className:"w-full flex items-center gap-3 px-4 py-4 bg-ink-800 hover:bg-ink-700 active:bg-ink-600 rounded border border-stone-700 mb-2 transition-colors touch-manipulation min-h-[56px]",children:[s.jsx($,{size:22,className:A.color}),s.jsx("span",{className:"text-stone-200 font-medium flex-1 text-left",children:A.label}),A.badge!==void 0&&s.jsx("span",{className:"bg-red-500 text-white text-xs rounded-full w-6 h-6 flex items-center justify-center font-bold",children:A.badge})]},H)})})]})})]})},e1=Wt.memo(Py);function t1({player:c,onOpenMenu:h,onOpenCultivation:u,onOpenInventory:m,onOpenCharacter:E,onOpenAchievement:p,onOpenPet:S,onOpenLottery:g,onOpenSettings:M}){const d=X.useMemo(()=>c.achievements.filter(N=>!c.viewedAchievements.includes(N)),[c.achievements,c.viewedAchievements]),o=X.useMemo(()=>d.length,[d.length]),f=X.useMemo(()=>c.pets.length,[c.pets.length]),x=X.useMemo(()=>c.lotteryTickets,[c.lotteryTickets]);return s.jsxs("header",{className:"bg-paper-800 p-2 md:p-4 border-b border-stone-700 flex justify-between items-center shadow-lg z-10",children:[s.jsx("h1",{className:"text-base md:text-xl font-serif text-mystic-gold tracking-widest",children:""}),s.jsx("button",{onClick:h,className:"md:hidden flex items-center justify-center w-12 h-12 bg-ink-800 active:bg-stone-700 rounded border border-stone-600 touch-manipulation",children:s.jsx(Ox,{size:24,className:"text-stone-200"})}),s.jsxs("div",{className:"hidden md:flex gap-2 flex-wrap",children:[s.jsxs("button",{onClick:u,className:"flex items-center gap-2 px-3 py-2 bg-ink-800 hover:bg-stone-700 rounded border border-stone-600 transition-colors text-sm min-w-[44px] min-h-[44px] justify-center",children:[s.jsx($l,{size:18}),s.jsx("span",{children:""})]}),s.jsxs("button",{onClick:m,className:"flex items-center gap-2 px-3 py-2 bg-ink-800 hover:bg-stone-700 rounded border border-stone-600 transition-colors text-sm min-w-[44px] min-h-[44px] justify-center",children:[s.jsx(um,{size:18}),s.jsx("span",{children:""})]}),s.jsxs("button",{onClick:E,className:"flex items-center gap-2 px-3 py-2 bg-ink-800 hover:bg-stone-700 rounded border border-stone-600 transition-colors text-sm min-w-[44px] min-h-[44px] justify-center",children:[s.jsx(Cs,{size:18}),s.jsx("span",{children:""})]}),s.jsxs("button",{onClick:p,className:"flex items-center gap-2 px-3 py-2 bg-ink-800 hover:bg-stone-700 rounded border border-stone-600 transition-colors text-sm relative min-w-[44px] min-h-[44px] justify-center",children:[s.jsx(bc,{size:18}),s.jsx("span",{children:""}),o>0&&s.jsx("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center",children:o})]}),s.jsxs("button",{onClick:S,className:"flex items-center gap-2 px-3 py-2 bg-ink-800 hover:bg-stone-700 rounded border border-stone-600 transition-colors text-sm min-w-[44px] min-h-[44px] justify-center",children:[s.jsx(bt,{size:18}),s.jsx("span",{children:""}),f>0&&s.jsx("span",{className:"text-xs bg-blue-500 text-white px-1.5 py-0.5 rounded",children:f})]}),s.jsxs("button",{onClick:g,className:"flex items-center gap-2 px-3 py-2 bg-ink-800 hover:bg-stone-700 rounded border border-stone-600 transition-colors text-sm min-w-[44px] min-h-[44px] justify-center",children:[s.jsx(_l,{size:18}),s.jsx("span",{children:""}),x>0&&s.jsx("span",{className:"text-xs bg-yellow-500 text-black px-1.5 py-0.5 rounded",children:x})]}),s.jsxs("button",{onClick:M,className:"flex items-center gap-2 px-3 py-2 bg-ink-800 hover:bg-stone-700 rounded border border-stone-600 transition-colors text-sm min-w-[44px] min-h-[44px] justify-center",children:[s.jsx(pm,{size:18}),s.jsx("span",{children:""})]})]})]})}const n1=Wt.memo(t1);function a1({loading:c,cooldown:h,onMeditate:u,onAdventure:m,onOpenRealm:E,onOpenAlchemy:p,onOpenSect:S,autoMeditate:g,autoAdventure:M,onToggleAutoMeditate:d,onToggleAutoAdventure:o}){return s.jsxs("div",{className:"bg-paper-800 p-3 md:p-4 border-t border-stone-700 grid grid-cols-2 md:grid-cols-5 gap-3 md:gap-4 shrink-0 fixed md:relative bottom-0 left-0 right-0 md:left-auto md:right-auto z-20 shadow-lg md:shadow-none",children:[s.jsxs("div",{className:"relative",children:[s.jsxs("button",{onClick:u,disabled:c||h>0,className:`
            flex flex-col items-center justify-center p-4 md:p-4 rounded-lg border-2 transition-all duration-200 touch-manipulation min-h-[90px] md:min-h-[100px] w-full
            ${c||h>0?"bg-stone-800 border-stone-700 text-stone-500 cursor-not-allowed":"bg-ink-800 border-stone-600 active:border-mystic-jade active:bg-ink-700 text-stone-200"}
            ${g?"border-mystic-jade border-2":""}
          `,children:[s.jsx(ym,{size:24,className:"md:w-6 md:h-6 mb-1.5 md:mb-2 text-mystic-jade"}),s.jsx("span",{className:"font-serif font-bold text-base md:text-base",children:""}),s.jsx("span",{className:"text-xs md:text-xs text-stone-500 mt-0.5 md:mt-1",children:"  "})]}),s.jsx("button",{onClick:f=>{f.stopPropagation(),d()},className:`
            absolute top-1 right-1 p-1 rounded transition-all duration-200
            ${g?"bg-mystic-jade/80 text-stone-900 hover:bg-mystic-jade":"bg-stone-700/80 text-stone-400 hover:bg-stone-600"}
          `,title:g?"":"",children:g?s.jsx(V0,{size:12}):s.jsx(Qo,{size:12})})]}),s.jsxs("div",{className:"relative",children:[s.jsxs("button",{onClick:m,disabled:c||h>0,className:`
            flex flex-col items-center justify-center p-4 md:p-4 rounded-lg border-2 transition-all duration-200 group touch-manipulation min-h-[90px] md:min-h-[100px] w-full
            ${c||h>0?"bg-stone-800 border-stone-700 text-stone-500 cursor-not-allowed":"bg-ink-800 border-stone-600 active:border-mystic-gold active:bg-ink-700 text-stone-200"}
            ${M?"border-mystic-gold border-2":""}
          `,children:[s.jsx(ks,{size:24,className:`md:w-6 md:h-6 mb-1.5 md:mb-2 text-mystic-gold ${c?"animate-spin":"group-active:scale-110 transition-transform"}`}),s.jsx("span",{className:"font-serif font-bold text-base md:text-base",children:c?"...":""}),s.jsx("span",{className:"text-xs md:text-xs text-stone-500 mt-0.5 md:mt-1",children:"  "})]}),s.jsx("button",{onClick:f=>{f.stopPropagation(),o()},className:`
            absolute top-1 right-1 p-1 rounded transition-all duration-200
            ${M?"bg-mystic-gold/80 text-stone-900 hover:bg-mystic-gold":"bg-stone-700/80 text-stone-400 hover:bg-stone-600"}
          `,title:M?"":"",children:M?s.jsx(V0,{size:12}):s.jsx(Qo,{size:12})})]}),s.jsxs("button",{onClick:E,disabled:c,className:`
          flex flex-col items-center justify-center p-4 md:p-4 rounded-lg border-2 transition-all duration-200 touch-manipulation min-h-[90px] md:min-h-[100px]
          ${c?"bg-stone-800 border-stone-700 text-stone-500 cursor-not-allowed":"bg-ink-800 border-stone-600 active:border-purple-500 active:bg-ink-700 text-stone-200"}
        `,children:[s.jsx(fm,{size:24,className:"md:w-6 md:h-6 mb-1.5 md:mb-2 text-purple-400"}),s.jsx("span",{className:"font-serif font-bold text-base md:text-base",children:""}),s.jsx("span",{className:"text-xs md:text-xs text-stone-500 mt-0.5 md:mt-1",children:"  "})]}),s.jsxs("button",{onClick:p,disabled:c,className:`
          flex flex-col items-center justify-center p-4 md:p-4 rounded-lg border-2 transition-all duration-200 touch-manipulation min-h-[90px] md:min-h-[100px]
          ${c?"bg-stone-800 border-stone-700 text-stone-500 cursor-not-allowed":"bg-ink-800 border-stone-600 active:border-cyan-500 active:bg-ink-700 text-stone-200"}
        `,children:[s.jsx(bt,{size:24,className:"md:w-6 md:h-6 mb-1.5 md:mb-2 text-cyan-400"}),s.jsx("span",{className:"font-serif font-bold text-base md:text-base",children:""}),s.jsx("span",{className:"text-xs md:text-xs text-stone-500 mt-0.5 md:mt-1",children:"  "})]}),s.jsxs("button",{onClick:S,className:`
          flex flex-col items-center justify-center p-4 md:p-4 rounded-lg border-2 transition-all duration-200 touch-manipulation min-h-[90px] md:min-h-[100px]
          ${c?"bg-stone-800 border-stone-700 text-stone-500 cursor-not-allowed":"bg-ink-800 border-stone-600 active:border-blue-400 active:bg-ink-700 text-stone-200"}
        `,children:[s.jsx(mm,{size:24,className:"md:w-6 md:h-6 mb-1.5 md:mb-2 text-blue-400"}),s.jsx("span",{className:"font-serif font-bold text-base md:text-base",children:""}),s.jsx("span",{className:"text-xs md:text-xs text-stone-500 mt-0.5 md:mt-1",children:"  "})]})]})}const s1=Wt.memo(a1);function l1({item:c,quantity:h}){return s.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-[70] pointer-events-none",children:s.jsx("div",{className:"bg-green-600 text-white px-6 py-4 rounded-lg shadow-2xl border-2 border-green-400 animate-bounce pointer-events-auto",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("span",{className:"text-2xl",children:""}),s.jsxs("div",{children:[s.jsx("div",{className:"font-bold text-lg",children:""}),s.jsxs("div",{className:"text-sm",children:[" ",c," x",h]})]})]})})})}function i1({log:c}){if(!c)return null;const h=(()=>{const u="p-3 rounded border-l-4 font-serif text-sm shadow-2xl";switch(c.type){case"normal":return`${u} border-stone-600 text-stone-300 bg-ink-800/90`;case"gain":return`${u} border-mystic-jade text-emerald-100 bg-emerald-900/90`;case"danger":return`${u} border-mystic-blood text-red-100 bg-red-900/90`;case"special":return`${u} border-mystic-gold text-amber-100 bg-amber-900/90`;default:return`${u} border-stone-600 text-stone-300 bg-ink-800/90`}})();return s.jsx("div",{className:"fixed top-20 right-4 z-[70] pointer-events-none animate-fade-in",children:s.jsx("div",{className:h,children:c.text})})}function c1({rewards:c}){return c.length===0?null:s.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-[70] pointer-events-none",children:s.jsx("div",{className:"bg-gradient-to-br from-purple-600 to-blue-600 text-white px-8 py-6 rounded-lg shadow-2xl border-2 border-purple-400 animate-bounce pointer-events-auto max-w-md",children:s.jsxs("div",{className:"flex flex-col items-center gap-3",children:[s.jsx("div",{className:"text-3xl",children:""}),s.jsx("div",{className:"font-bold text-xl",children:""}),s.jsx("div",{className:"w-full space-y-2 max-h-60 overflow-y-auto",children:c.map((h,u)=>s.jsxs("div",{className:"bg-white/20 rounded px-4 py-2 flex items-center justify-between",children:[s.jsx("span",{className:"font-semibold",children:h.name}),h.quantity!==void 0&&s.jsxs("span",{className:"text-yellow-300 font-bold",children:["x",h.quantity]})]},u))})]})})})}function r1({player:c,logs:h,visualEffects:u,loading:m,cooldown:E,purchaseSuccess:p,lotteryRewards:S,itemActionLog:g,isMobileSidebarOpen:M,isMobileStatsOpen:d,modals:o,handlers:f}){const x=X.useMemo(()=>c.achievements.filter(A=>!c.viewedAchievements.includes(A)).length,[c.achievements,c.viewedAchievements]),N=X.useMemo(()=>c.pets.length,[c.pets.length]),q=X.useMemo(()=>c.lotteryTickets,[c.lotteryTickets]);return s.jsxs("div",{className:"flex flex-col md:flex-row h-screen bg-stone-900 text-stone-200 overflow-hidden relative",children:[s.jsx(Fy,{effects:u}),s.jsx("div",{className:"hidden md:block",children:s.jsx(em,{player:c})}),s.jsxs("main",{className:"flex-1 flex flex-col h-full relative min-w-0",children:[s.jsx(n1,{player:c,onOpenMenu:f.onOpenMenu,onOpenCultivation:f.onOpenCultivation,onOpenInventory:f.onOpenInventory,onOpenCharacter:f.onOpenCharacter,onOpenAchievement:f.onOpenAchievement,onOpenPet:f.onOpenPet,onOpenLottery:f.onOpenLottery,onOpenSettings:f.onOpenSettings}),s.jsx(Iy,{logs:h,className:"pb-[23rem] md:pb-0"}),s.jsx(s1,{loading:m,cooldown:E,onMeditate:f.onMeditate,onAdventure:f.onAdventure,onOpenRealm:f.onOpenRealm,onOpenAlchemy:f.onOpenAlchemy,onOpenSect:f.onOpenSect,autoMeditate:f.autoMeditate,autoAdventure:f.autoAdventure,onToggleAutoMeditate:f.onToggleAutoMeditate,onToggleAutoAdventure:f.onToggleAutoAdventure})]}),p&&s.jsx(l1,{item:p.item,quantity:p.quantity}),s.jsx(c1,{rewards:S}),g&&s.jsx(i1,{log:{id:"",text:g.text,type:g.type,timestamp:Date.now()}}),s.jsx(e1,{isOpen:M,onClose:()=>o.setIsMobileSidebarOpen(!1),onOpenStats:f.onOpenStats,onOpenCultivation:f.onOpenCultivation,onOpenInventory:f.onOpenInventory,onOpenCharacter:f.onOpenCharacter,onOpenAchievement:f.onOpenAchievement,onOpenPet:f.onOpenPet,onOpenLottery:f.onOpenLottery,onOpenSettings:f.onOpenSettings,achievementCount:x,petCount:N,lotteryTickets:q}),d&&s.jsx("div",{className:"fixed inset-0 bg-black/70 flex items-end justify-center z-[70] p-0 md:hidden touch-manipulation",onClick:()=>o.setIsMobileStatsOpen(!1),children:s.jsx("div",{className:"bg-paper-800 w-full h-[80vh] rounded-t-2xl border border-stone-700 shadow-2xl overflow-y-auto",onClick:A=>A.stopPropagation(),children:s.jsx(em,{player:c})})})]})}const o1=Wt.memo(r1),u1=({equippedItems:c,inventory:h,player:u,onUnequip:m})=>{const E=g=>g&&h.find(M=>M.id===g)||null,p=g=>{switch(g){case"":return"border-blue-600 bg-blue-900/20";case"":return"border-purple-600 bg-purple-900/20";case"":return"border-yellow-600 bg-yellow-900/20";default:return"border-stone-600 bg-stone-800"}},S=[{slot:k.Head,label:""},{slot:k.Shoulder,label:""},{slot:k.Chest,label:""},{slot:k.Gloves,label:""},{slot:k.Legs,label:""},{slot:k.Boots,label:""},{slot:k.Ring1,label:"1"},{slot:k.Ring2,label:"2"},{slot:k.Ring3,label:"3"},{slot:k.Ring4,label:"4"},{slot:k.Accessory1,label:"1"},{slot:k.Accessory2,label:"2"},{slot:k.Artifact1,label:"1"},{slot:k.Artifact2,label:"2"},{slot:k.Weapon,label:""}];return s.jsxs("div",{className:"bg-stone-900 rounded-lg border border-stone-700 p-4",children:[s.jsxs("h3",{className:"text-lg font-bold mb-4 flex items-center gap-2",children:[s.jsx(Vo,{size:20,className:"text-mystic-gold"}),""]}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-3",children:S.map(({slot:g,label:M})=>{const d=c[g],o=E(d),f=o?o.id===u.natalArtifactId:!1,x=o?$t(o,f):null,N=(o==null?void 0:o.rarity)||"";return s.jsxs("div",{className:`relative border-2 rounded-lg p-3 min-h-[100px] flex flex-col ${o?p(N):"border-stone-700 bg-stone-800/50"}`,children:[s.jsx("div",{className:"text-xs text-stone-400 mb-2",children:M}),o?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"font-bold text-sm mb-1 text-stone-200",children:[o.name,o.level&&o.level>0&&s.jsxs("span",{className:"text-xs text-stone-500 ml-1",children:["+",o.level]})]}),s.jsx("div",{className:"text-xs text-stone-400 mb-2",children:N}),o.reviveChances&&o.reviveChances>0&&s.jsxs("div",{className:"text-xs text-yellow-400 mb-1 font-bold",children:["  ",o.reviveChances,""]}),x&&s.jsxs("div",{className:"text-xs space-y-0.5",children:[x.attack>0&&s.jsxs("div",{className:"text-red-400",children:[" +",x.attack]}),x.defense>0&&s.jsxs("div",{className:"text-blue-400",children:[" +",x.defense]}),x.hp>0&&s.jsxs("div",{className:"text-green-400",children:[" +",x.hp]})]})]}),s.jsxs("button",{onClick:()=>m(g),className:"mt-2 w-full px-2 py-1 bg-stone-700 hover:bg-stone-600 text-stone-200 text-xs rounded transition-colors flex items-center justify-center gap-1",children:[s.jsx(ct,{size:12}),""]})]}):s.jsx("div",{className:"flex-1 flex items-center justify-center text-stone-600 text-xs",children:""})]},g)})})]})},d1=({isOpen:c,onClose:h,inventory:u,equippedItems:m,onDiscardItems:E})=>{const[p,S]=X.useState("all"),[g,M]=X.useState("all"),[d,o]=X.useState(new Set),f=$=>$.isEquippable||$.type===v.Weapon||$.type===v.Armor||$.type===v.Artifact||$.type===v.Accessory||$.type===v.Ring?"equipment":$.type===v.Pill?"pill":"consumable",x=X.useMemo(()=>u.filter(V=>!(Object.values(m).includes(V.id)||p!=="all"&&f(V)!==p||g!=="all"&&V.rarity!==g)),[u,m,p,g]),N=$=>{o(V=>{const T=new Set(V);return T.has($)?T.delete($):T.add($),T})},q=()=>{d.size===x.length?o(new Set):o(new Set(x.map($=>$.id)))},A=()=>{d.size!==0&&window.confirm(` ${d.size} `)&&(E(Array.from(d)),o(new Set),h())};if(!c)return null;const H=$=>{switch($){case"":return"text-blue-400 border-blue-600";case"":return"text-purple-400 border-purple-600";case"":return"text-yellow-400 border-yellow-600";default:return"text-gray-400 border-gray-600"}};return s.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-[60] p-4 backdrop-blur-sm",onClick:h,children:s.jsxs("div",{className:"bg-paper-800 w-full max-w-4xl max-h-[90vh] rounded-lg border border-stone-600 shadow-2xl flex flex-col overflow-hidden",onClick:$=>$.stopPropagation(),children:[s.jsxs("div",{className:"p-4 border-b border-stone-600 flex justify-between items-center bg-ink-800 rounded-t",children:[s.jsxs("h3",{className:"text-xl font-serif text-mystic-gold flex items-center gap-2",children:[s.jsx(Xo,{size:20})," "]}),s.jsx("button",{onClick:h,className:"text-stone-400 hover:text-white",children:s.jsx(ct,{size:24})})]}),s.jsxs("div",{className:"p-4 flex-1 overflow-y-auto",children:[s.jsxs("div",{className:"mb-4 space-y-3",children:[s.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[s.jsxs("div",{className:"flex items-center gap-2 text-stone-400 text-sm",children:[s.jsx(Tl,{size:16}),s.jsx("span",{children:":"})]}),["all","equipment","pill","consumable"].map($=>s.jsx("button",{onClick:()=>{S($),o(new Set)},className:`px-3 py-1.5 rounded text-sm border transition-colors ${p===$?"bg-mystic-gold/20 border-mystic-gold text-mystic-gold":"bg-stone-700 border-stone-600 text-stone-300 hover:bg-stone-600"}`,children:$==="all"?"":$==="equipment"?"":$==="pill"?"":""},$))]}),s.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[s.jsxs("div",{className:"flex items-center gap-2 text-stone-400 text-sm",children:[s.jsx(Tl,{size:16}),s.jsx("span",{children:":"})]}),["all","","","",""].map($=>s.jsx("button",{onClick:()=>{M($),o(new Set)},className:`px-3 py-1.5 rounded text-sm border transition-colors ${g===$?"bg-mystic-gold/20 border-mystic-gold text-mystic-gold":"bg-stone-700 border-stone-600 text-stone-300 hover:bg-stone-600"}`,children:$==="all"?"":$},$))]})]}),s.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("button",{onClick:q,className:"px-3 py-1.5 bg-stone-700 hover:bg-stone-600 text-stone-300 rounded text-sm border border-stone-600",children:d.size===x.length?"":""}),s.jsxs("span",{className:"text-sm text-stone-400",children:[": ",d.size," / ",x.length]})]}),s.jsxs("button",{onClick:A,disabled:d.size===0,className:`px-4 py-2 rounded text-sm font-bold transition-colors ${d.size>0?"bg-red-900 hover:bg-red-800 text-red-200 border border-red-700":"bg-stone-700 text-stone-500 cursor-not-allowed border border-stone-600"}`,children:[" (",d.size,")"]})]}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:x.length===0?s.jsx("div",{className:"col-span-full text-center text-stone-500 py-10",children:""}):x.map($=>{const V=d.has($.id),T=$.rarity||"";return s.jsxs("div",{className:`p-3 rounded border flex items-start gap-3 cursor-pointer transition-colors ${V?"bg-red-900/30 border-red-600":"bg-ink-800 hover:bg-ink-700 border-stone-700"}`,onClick:()=>N($.id),children:[s.jsx("input",{type:"checkbox",checked:V,onChange:()=>N($.id),className:"mt-1",onClick:K=>K.stopPropagation()}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-start justify-between gap-2 mb-1",children:[s.jsx("h4",{className:`font-bold text-sm ${H(T).split(" ")[0]}`,children:$.name}),s.jsxs("span",{className:"text-xs bg-stone-700 text-stone-300 px-1.5 py-0.5 rounded shrink-0",children:["x",$.quantity]})]}),s.jsxs("div",{className:"flex gap-2 mb-1",children:[s.jsx("span",{className:`text-[10px] px-1.5 py-0.5 rounded border ${H(T)}`,children:T}),s.jsx("span",{className:"text-xs text-stone-500",children:$.type})]}),s.jsx("p",{className:"text-xs text-stone-500 line-clamp-2",children:$.description})]})]},$.id)})})]})]})})},f1=({isOpen:c,onClose:h,inventory:u,equippedItems:m,player:E,onUseItem:p,onEquipItem:S,onUnequipItem:g,onUpgradeItem:M,onDiscardItem:d,onBatchDiscard:o,onRefineNatalArtifact:f,onUnrefineNatalArtifact:x})=>{const[N,q]=X.useState(null),[A,H]=X.useState(!0),[$,V]=X.useState("all"),[T,K]=X.useState("all"),[ie,te]=X.useState(!0),[P,fe]=X.useState(!1),[I,oe]=X.useState("inventory"),w=y=>{o(y)},ae=X.useMemo(()=>{const y=U=>({:4,:3,:2,:1})[U||""],C=U=>U.isEquippable||U.type===v.Weapon||U.type===v.Armor||U.type===v.Artifact||U.type===v.Accessory||U.type===v.Ring?"equipment":U.type===v.Pill?"pill":(U.type===v.Recipe,"consumable");let _=u;return $!=="all"&&(_=u.filter(U=>C(U)===$)),$==="equipment"&&T!=="all"&&(_=_.filter(U=>U.equipmentSlot?T===k.Ring1||T===k.Ring2||T===k.Ring3||T===k.Ring4?U.equipmentSlot===k.Ring1||U.equipmentSlot===k.Ring2||U.equipmentSlot===k.Ring3||U.equipmentSlot===k.Ring4:T===k.Accessory1||T===k.Accessory2?U.equipmentSlot===k.Accessory1||U.equipmentSlot===k.Accessory2:T===k.Artifact1||T===k.Artifact2?U.equipmentSlot===k.Artifact1||U.equipmentSlot===k.Artifact2:U.equipmentSlot===T:!1)),ie&&(_=[..._].sort((U,le)=>{const re=y(U.rarity),ue=y(le.rarity);return ue!==re?ue-re:U.name.localeCompare(le.name,"zh-CN")})),_},[u,$,T,ie]),ne=X.useMemo(()=>{let y=0,C=0,_=0;return Object.values(m).forEach(U=>{var le,re,ue;if(U){const de=u.find(pe=>pe.id===U);if(de){const pe=de.id===E.natalArtifactId,ve=de.rarity||"",Se=an[ve]||1,Ye=pe?1.5:1,We={attack:(le=de.effect)!=null&&le.attack?Math.floor(de.effect.attack*Se*Ye):0,defense:(re=de.effect)!=null&&re.defense?Math.floor(de.effect.defense*Se*Ye):0,hp:(ue=de.effect)!=null&&ue.hp?Math.floor(de.effect.hp*Se*Ye):0};y+=We.attack,C+=We.defense,_+=We.hp}}}),{attack:y,defense:C,hp:_}},[m,u,E.natalArtifactId]);if(!c)return null;const J=y=>{const C="font-bold transition-colors duration-300 cursor-default ";switch(y){case"":return C+"text-stone-300 hover:text-blue-400";case"":return C+"text-stone-300 hover:text-purple-400";case"":return C+"text-stone-300 hover:text-mystic-gold hover:drop-shadow-[0_0_8px_rgba(203,161,53,0.5)]";default:return C+"text-stone-300 hover:text-stone-100"}},R=y=>{switch(y){case"":return"border-blue-800";case"":return"border-purple-800";case"":return"border-mystic-gold";default:return"border-stone-700"}},j=y=>{switch(y){case"":return"bg-blue-900/40 text-blue-300 border-blue-700";case"":return"bg-purple-900/40 text-purple-300 border-purple-700";case"":return"bg-yellow-900/40 text-yellow-300 border-yellow-700";default:return"bg-stone-700 text-stone-400 border-stone-600"}},O=y=>{var re,ue,de,pe,ve,Se,Ye;const C=y.id===E.natalArtifactId,_=y.rarity||"",U=an[_]||1,le=C?1.5:1;return{attack:(re=y.effect)!=null&&re.attack?Math.floor(y.effect.attack*U*le):0,defense:(ue=y.effect)!=null&&ue.defense?Math.floor(y.effect.defense*U*le):0,hp:(de=y.effect)!=null&&de.hp?Math.floor(y.effect.hp*U*le):0,exp:((pe=y.effect)==null?void 0:pe.exp)||0,spirit:(ve=y.effect)!=null&&ve.spirit?Math.floor(y.effect.spirit*U*le):0,physique:(Se=y.effect)!=null&&Se.physique?Math.floor(y.effect.physique*U*le):0,speed:(Ye=y.effect)!=null&&Ye.speed?Math.floor(y.effect.speed*U*le):0}},B=()=>{if(!N||!N.isEquippable||!N.equipmentSlot)return null;const y=N.equipmentSlot,C=m[y];let _={attack:0,defense:0,hp:0};if(C){const le=u.find(re=>re.id===C);le&&(_=O(le))}const U=O(N);return{attack:U.attack-_.attack,defense:U.defense-_.defense,hp:U.hp-_.hp}},ce=y=>y.equipmentSlot?y.type===v.Ring?[k.Ring1,k.Ring2,k.Ring3,k.Ring4].some(_=>m[_]===y.id):y.type===v.Accessory?[k.Accessory1,k.Accessory2].some(_=>m[_]===y.id):y.type===v.Artifact?[k.Artifact1,k.Artifact2].some(_=>m[_]===y.id):m[y.equipmentSlot]===y.id:!1,F=B();return s.jsxs("div",{className:"fixed inset-0 bg-black/80 flex items-end md:items-center justify-center z-50 p-0 md:p-4 backdrop-blur-sm touch-manipulation",onClick:h,children:[s.jsxs("div",{className:"bg-paper-800 w-full h-[80vh] md:h-auto md:max-w-6xl md:rounded-t-2xl md:rounded-b-lg border-0 md:border border-stone-600 shadow-2xl flex flex-col md:max-h-[90vh]",onClick:y=>y.stopPropagation(),children:[s.jsxs("div",{className:"p-3 md:p-4 border-b border-stone-600 flex justify-between items-center bg-ink-800 md:rounded-t",children:[s.jsxs("h3",{className:"text-lg md:text-xl font-serif text-mystic-gold flex items-center gap-2",children:[s.jsx(yc,{size:18,className:"md:w-5 md:h-5"})," "]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs("button",{onClick:()=>fe(!0),className:"px-2 md:px-3 py-1.5 md:py-1 rounded text-xs md:text-sm border transition-colors min-h-[44px] md:min-h-0 touch-manipulation bg-red-900/20 border-red-700 text-red-300 hover:bg-red-900/30",children:[s.jsx(xm,{size:14,className:"inline mr-1"}),""]}),s.jsxs("button",{onClick:()=>H(!A),className:`hidden flex items-center justify-center md:flex px-3 py-1 rounded text-sm border transition-colors ${A?"bg-mystic-gold/20 border-mystic-gold text-mystic-gold":"bg-stone-700 border-stone-600 text-stone-300"}`,children:[A?"":"",""]}),s.jsx("button",{onClick:h,className:"text-stone-400 active:text-white min-w-[44px] min-h-[44px] flex items-center justify-center touch-manipulation","aria-label":"",title:"",children:s.jsx(ct,{size:24})})]})]}),s.jsx("div",{className:"md:hidden border-b border-stone-600 bg-ink-800",children:s.jsxs("div",{className:"flex",children:[s.jsxs("button",{onClick:()=>oe("equipment"),className:`flex-1 px-4 py-3 text-sm font-medium transition-colors border-b-2 ${I==="equipment"?"border-mystic-gold text-mystic-gold bg-mystic-gold/10":"border-transparent text-stone-400 hover:text-stone-300"}`,children:[s.jsx(Vo,{size:16,className:"inline mr-2"}),""]}),s.jsxs("button",{onClick:()=>oe("inventory"),className:`flex-1 px-4 py-3 text-sm font-medium transition-colors border-b-2 ${I==="inventory"?"border-mystic-gold text-mystic-gold bg-mystic-gold/10":"border-transparent text-stone-400 hover:text-stone-300"}`,children:[s.jsx(yc,{size:16,className:"inline mr-2"}),""]})]})}),s.jsxs("div",{className:"flex-1 overflow-hidden flex flex-col md:flex-row",children:[(A||I==="equipment")&&s.jsx("div",{className:`w-full md:w-1/2 border-b md:border-b-0 md:border-r border-stone-600 p-3 md:p-4 overflow-y-auto ${I!=="equipment"?"hidden md:block":""}`,children:s.jsx(u1,{equippedItems:m,inventory:u,player:E,onUnequip:g})}),s.jsxs("div",{className:`${A?"w-full md:w-1/2":"w-full"} p-4 overflow-y-auto flex flex-col ${I!=="inventory"?"hidden md:flex":""}`,children:[s.jsxs("div",{className:"mb-4 flex flex-col gap-2",children:[s.jsxs("div",{className:"flex gap-2 flex-wrap",children:[s.jsx("button",{onClick:()=>{V("all"),K("all")},className:`px-3 py-1.5 rounded text-sm border transition-colors ${$==="all"?"bg-mystic-gold/20 border-mystic-gold text-mystic-gold":"bg-stone-700 border-stone-600 text-stone-300 hover:bg-stone-600"}`,children:""}),s.jsx("button",{onClick:()=>{V("equipment"),K("all")},className:`px-3 py-1.5 rounded text-sm border transition-colors ${$==="equipment"?"bg-mystic-gold/20 border-mystic-gold text-mystic-gold":"bg-stone-700 border-stone-600 text-stone-300 hover:bg-stone-600"}`,children:""}),s.jsx("button",{onClick:()=>{V("pill"),K("all")},className:`px-3 py-1.5 rounded text-sm border transition-colors ${$==="pill"?"bg-mystic-gold/20 border-mystic-gold text-mystic-gold":"bg-stone-700 border-stone-600 text-stone-300 hover:bg-stone-600"}`,children:""}),s.jsx("button",{onClick:()=>{V("consumable"),K("all")},className:`px-3 py-1.5 rounded text-sm border transition-colors ${$==="consumable"?"bg-mystic-gold/20 border-mystic-gold text-mystic-gold":"bg-stone-700 border-stone-600 text-stone-300 hover:bg-stone-600"}`,children:""})]}),$==="equipment"&&s.jsxs("div",{className:"flex gap-2 flex-wrap",children:[s.jsx("button",{onClick:()=>K("all"),className:`px-2 py-1 rounded text-xs border transition-colors ${T==="all"?"bg-mystic-gold/20 border-mystic-gold text-mystic-gold":"bg-stone-700 border-stone-600 text-stone-300 hover:bg-stone-600"}`,children:""}),s.jsx("button",{onClick:()=>K(k.Weapon),className:`px-2 py-1 rounded text-xs border transition-colors ${T===k.Weapon?"bg-mystic-gold/20 border-mystic-gold text-mystic-gold":"bg-stone-700 border-stone-600 text-stone-300 hover:bg-stone-600"}`,children:""}),s.jsx("button",{onClick:()=>K(k.Head),className:`px-2 py-1 rounded text-xs border transition-colors ${T===k.Head?"bg-mystic-gold/20 border-mystic-gold text-mystic-gold":"bg-stone-700 border-stone-600 text-stone-300 hover:bg-stone-600"}`,children:""}),s.jsx("button",{onClick:()=>K(k.Shoulder),className:`px-2 py-1 rounded text-xs border transition-colors ${T===k.Shoulder?"bg-mystic-gold/20 border-mystic-gold text-mystic-gold":"bg-stone-700 border-stone-600 text-stone-300 hover:bg-stone-600"}`,children:""}),s.jsx("button",{onClick:()=>K(k.Chest),className:`px-2 py-1 rounded text-xs border transition-colors ${T===k.Chest?"bg-mystic-gold/20 border-mystic-gold text-mystic-gold":"bg-stone-700 border-stone-600 text-stone-300 hover:bg-stone-600"}`,children:""}),s.jsx("button",{onClick:()=>K(k.Gloves),className:`px-2 py-1 rounded text-xs border transition-colors ${T===k.Gloves?"bg-mystic-gold/20 border-mystic-gold text-mystic-gold":"bg-stone-700 border-stone-600 text-stone-300 hover:bg-stone-600"}`,children:""}),s.jsx("button",{onClick:()=>K(k.Legs),className:`px-2 py-1 rounded text-xs border transition-colors ${T===k.Legs?"bg-mystic-gold/20 border-mystic-gold text-mystic-gold":"bg-stone-700 border-stone-600 text-stone-300 hover:bg-stone-600"}`,children:""}),s.jsx("button",{onClick:()=>K(k.Boots),className:`px-2 py-1 rounded text-xs border transition-colors ${T===k.Boots?"bg-mystic-gold/20 border-mystic-gold text-mystic-gold":"bg-stone-700 border-stone-600 text-stone-300 hover:bg-stone-600"}`,children:""}),s.jsx("button",{onClick:()=>K(k.Ring1),className:`px-2 py-1 rounded text-xs border transition-colors ${T===k.Ring1||T===k.Ring2||T===k.Ring3||T===k.Ring4?"bg-mystic-gold/20 border-mystic-gold text-mystic-gold":"bg-stone-700 border-stone-600 text-stone-300 hover:bg-stone-600"}`,children:""}),s.jsx("button",{onClick:()=>K(k.Accessory1),className:`px-2 py-1 rounded text-xs border transition-colors ${T===k.Accessory1||T===k.Accessory2?"bg-mystic-gold/20 border-mystic-gold text-mystic-gold":"bg-stone-700 border-stone-600 text-stone-300 hover:bg-stone-600"}`,children:""}),s.jsx("button",{onClick:()=>K(k.Artifact1),className:`px-2 py-1 rounded text-xs border transition-colors ${T===k.Artifact1||T===k.Artifact2?"bg-mystic-gold/20 border-mystic-gold text-mystic-gold":"bg-stone-700 border-stone-600 text-stone-300 hover:bg-stone-600"}`,children:""})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("button",{onClick:()=>te(!ie),className:`px-3 py-1.5 rounded text-sm border transition-colors flex items-center gap-1.5 ${ie?"bg-mystic-gold/20 border-mystic-gold text-mystic-gold":"bg-stone-700 border-stone-600 text-stone-300 hover:bg-stone-600"}`,children:[s.jsx(Kh,{size:14}),ie?"":""]}),s.jsxs("span",{className:"text-xs text-stone-500",children:[ae.length," "]})]})]}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 flex-1",children:ae.length===0?s.jsx("div",{className:"col-span-full text-center text-stone-500 py-10 font-serif",children:$==="all"?"":""}):ae.map((y,C)=>{const _=ce(y),U=O(y),le=y.rarity||"",re=y.level||0;return s.jsxs("div",{className:`p-3 rounded border flex flex-col justify-between relative transition-colors ${_?"bg-ink-800 border-mystic-gold shadow-md":`bg-ink-800 hover:bg-ink-700 ${R(y.rarity)}`}`,onMouseEnter:()=>q(y),onMouseLeave:()=>q(null),children:[_&&s.jsxs("div",{className:"absolute top-2 right-2 text-mystic-gold bg-mystic-gold/10 px-2 py-0.5 rounded text-xs border border-mystic-gold/30 flex items-center gap-1",children:[s.jsx(Vo,{size:12})," "]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between items-start pr-16 mb-1",children:[s.jsxs("h4",{className:J(y.rarity),children:[y.name," ",re>0&&s.jsxs("span",{className:"text-stone-500 text-xs font-normal ml-1",children:["+ ",re]})]}),s.jsxs("span",{className:"text-xs bg-stone-700 text-stone-300 px-1.5 py-0.5 rounded shrink-0 h-fit",children:["x",y.quantity]})]}),s.jsxs("div",{className:"flex gap-2 mb-2",children:[s.jsx("span",{className:`text-[10px] px-1.5 py-0.5 rounded border ${j(y.rarity)}`,children:le}),s.jsx("span",{className:"text-xs text-stone-500 py-0.5",children:y.type})]}),s.jsx("p",{className:"text-xs text-stone-500 italic mb-3",children:y.description}),y.isNatal&&s.jsxs("div",{className:"text-xs text-mystic-gold mb-2 flex items-center gap-1",children:[s.jsx(bt,{size:12}),s.jsx("span",{className:"font-bold",children:"+50%"})]}),y.reviveChances&&y.reviveChances>0&&s.jsxs("div",{className:"text-xs text-yellow-400 mb-2 flex items-center gap-1 font-bold",children:[" ",y.reviveChances,""]}),y.effect&&s.jsxs("div",{className:"text-xs text-stone-400 mb-2 grid grid-cols-2 gap-1",children:[U.attack>0&&s.jsxs("span",{children:[" +",U.attack]}),U.defense>0&&s.jsxs("span",{children:[" +",U.defense]}),U.hp>0&&s.jsxs("span",{children:[" +",U.hp]}),U.exp>0&&s.jsxs("span",{children:[" +",U.exp]}),U.spirit>0&&s.jsxs("span",{children:[" +",U.spirit]}),U.physique>0&&s.jsxs("span",{children:[" +",U.physique]}),U.speed>0&&s.jsxs("span",{children:[" +",U.speed]})]})]}),s.jsx("div",{className:"mt-2 flex gap-1.5 flex-wrap",children:y.isEquippable&&y.equipmentSlot?s.jsxs(s.Fragment,{children:[_?s.jsx("button",{onClick:()=>g(y.equipmentSlot),className:"flex-1 bg-stone-700 hover:bg-stone-600 text-stone-200 text-xs py-2 rounded transition-colors border border-stone-500",children:""}):s.jsx("button",{onClick:()=>{let ue=y.equipmentSlot,de=!0;if(y.type===v.Ring){const ve=[k.Ring1,k.Ring2,k.Ring3,k.Ring4].find(Se=>!m[Se]);ve?ue=ve:de=!1}else if(y.type===v.Accessory){const ve=[k.Accessory1,k.Accessory2].find(Se=>!m[Se]);ve?ue=ve:de=!1}else if(y.type===v.Artifact){const ve=[k.Artifact1,k.Artifact2].find(Se=>!m[Se]);ve?ue=ve:de=!1}S(y,ue)},className:"flex-1 bg-mystic-gold/20 hover:bg-mystic-gold/30 text-mystic-gold text-xs py-2 rounded transition-colors border border-mystic-gold/50",children:""}),y.type===v.Artifact&&f&&s.jsx("button",{onClick:()=>{y.isNatal&&x?x():y.isNatal||f(y)},className:`px-3 text-xs py-2 rounded transition-colors border ${y.isNatal?"bg-mystic-gold/20 hover:bg-mystic-gold/30 text-mystic-gold border-mystic-gold/50":"bg-purple-900/20 hover:bg-purple-900/30 text-purple-300 border-purple-700/50"}`,title:y.isNatal?"":"",children:s.jsx(bt,{size:14})}),s.jsx("button",{onClick:()=>M(y),className:"px-3 bg-stone-700 hover:bg-stone-600 text-stone-300 text-xs py-2 rounded transition-colors border border-stone-500",title:"",children:s.jsx(dm,{size:14})}),s.jsx("button",{onClick:()=>d(y),className:"px-3 bg-red-900 hover:bg-red-800 text-red-200 text-xs py-2 rounded transition-colors border border-red-700",title:"",children:s.jsx(Xo,{size:14})})]}):s.jsxs(s.Fragment,{children:[(y.effect||y.type===v.Recipe)&&y.type!==v.Material&&s.jsx("button",{onClick:()=>p(y),className:"flex-1 bg-stone-700 hover:bg-stone-600 text-stone-200 text-xs py-2 rounded transition-colors",children:y.type===v.Recipe?"":""}),s.jsx("button",{onClick:()=>d(y),className:"px-3 bg-red-900 hover:bg-red-800 text-red-200 text-xs py-2 rounded transition-colors border border-red-700",title:"",children:s.jsx(Xo,{size:14})})]})})]},`${y.id}-${C}`)})})]})]}),s.jsx("div",{className:"p-3 border-t border-stone-600 bg-ink-900 rounded-b text-sm font-serif min-h-[3rem] flex items-center justify-center",children:F?s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("span",{className:"text-stone-400",children:":"}),F.attack!==0&&s.jsxs("span",{className:`${F.attack>0?"text-mystic-jade":"text-mystic-blood"}`,children:[" ",F.attack>0?"+":"",F.attack]}),F.defense!==0&&s.jsxs("span",{className:`${F.defense>0?"text-mystic-jade":"text-mystic-blood"}`,children:[" ",F.defense>0?"+":"",F.defense]}),F.hp!==0&&s.jsxs("span",{className:`${F.hp>0?"text-mystic-jade":"text-mystic-blood"}`,children:[" ",F.hp>0?"+":"",F.hp]}),F.attack===0&&F.defense===0&&F.hp===0&&s.jsx("span",{className:"text-stone-500",children:""})]}):s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("span",{className:"text-stone-400",children:":"}),ne.attack>0&&s.jsxs("span",{className:"text-mystic-jade",children:[" +",ne.attack]}),ne.defense>0&&s.jsxs("span",{className:"text-mystic-jade",children:[" +",ne.defense]}),ne.hp>0&&s.jsxs("span",{className:"text-mystic-jade",children:[" +",ne.hp]}),ne.attack===0&&ne.defense===0&&ne.hp===0&&s.jsx("span",{className:"text-stone-500",children:""})]})})]}),s.jsx(d1,{isOpen:P,onClose:()=>fe(!1),inventory:u,equippedItems:m,onDiscardItems:w})]})},m1=({isOpen:c,onClose:h,player:u,onLearnArt:m,onActivateArt:E})=>{if(!c)return null;const p=S=>Ae.indexOf(S);return s.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-end md:items-center justify-center z-50 p-0 md:p-4 backdrop-blur-sm touch-manipulation",onClick:h,children:s.jsxs("div",{className:"bg-paper-800 w-full h-[80vh] md:h-auto md:max-w-3xl md:rounded-t-2xl md:rounded-b-lg border-0 md:border border-stone-600 shadow-2xl flex flex-col md:max-h-[85vh] overflow-hidden",onClick:S=>S.stopPropagation(),children:[s.jsxs("div",{className:"p-3 md:p-4 border-b border-stone-600 flex justify-between items-center bg-ink-800 md:rounded-t",children:[s.jsxs("h3",{className:"text-lg md:text-xl font-serif text-mystic-gold flex items-center gap-2",children:[s.jsx($l,{size:18,className:"md:w-5 md:h-5"})," "]}),s.jsx("button",{onClick:h,className:"text-stone-400 active:text-white min-w-[44px] min-h-[44px] flex items-center justify-center touch-manipulation",children:s.jsx(ct,{size:24})})]}),s.jsxs("div",{className:"p-3 md:p-4 bg-paper-800 overflow-y-auto flex-1",children:[s.jsxs("div",{className:"mb-3 md:mb-4 text-xs md:text-sm text-stone-400 bg-ink-900/50 p-2 md:p-3 rounded border border-stone-700",children:[s.jsx("p",{children:""}),s.jsx("p",{children:""})]}),s.jsx("div",{className:"grid grid-cols-1 gap-3 md:gap-4",children:Rs.map(S=>{const g=u.cultivationArts.includes(S.id),M=u.activeArtId===S.id,d=!g&&u.spiritStones>=S.cost&&p(u.realm)>=p(S.realmRequirement),o=!g&&!d;return s.jsxs("div",{className:`
                    relative p-4 rounded border transition-colors flex flex-col sm:flex-row justify-between gap-4
                    ${M?"bg-ink-800 border-mystic-gold shadow-[0_0_10px_rgba(203,161,53,0.1)]":"bg-ink-800 border-stone-700"}
                    ${o?"opacity-60 grayscale":""}
                  `,children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1 flex-wrap",children:[s.jsx("h4",{className:`text-base md:text-lg font-serif font-bold ${M?"text-mystic-gold":"text-stone-200"}`,children:S.name}),s.jsx("span",{className:`text-[10px] md:text-xs px-1.5 py-0.5 rounded border ${S.type==="mental"?"border-blue-800 text-blue-300 bg-blue-900/20":"border-red-800 text-red-300 bg-red-900/20"}`,children:S.type==="mental"?"":""}),M&&s.jsxs("span",{className:"text-[10px] md:text-xs text-mystic-gold flex items-center",children:[s.jsx(lx,{size:10,className:"md:w-3 md:h-3 mr-1"})," ",""]})]}),s.jsx("p",{className:"text-xs md:text-sm text-stone-400 mb-2",children:S.description}),s.jsxs("div",{className:"flex flex-wrap gap-x-3 md:gap-x-4 gap-y-1 text-[10px] md:text-xs text-stone-500",children:[s.jsxs("span",{children:[":"," ",s.jsx("span",{className:p(u.realm)>=p(S.realmRequirement)?"text-stone-300":"text-red-400",children:S.realmRequirement})]}),!g&&s.jsxs("span",{children:[":"," ",s.jsx("span",{className:u.spiritStones>=S.cost?"text-stone-300":"text-red-400",children:S.cost})]})]}),s.jsxs("div",{className:"mt-2 text-[10px] md:text-xs grid grid-cols-2 sm:grid-cols-4 gap-2",children:[S.effects.expRate&&s.jsxs("span",{className:"text-mystic-jade",children:["+",(S.effects.expRate*100).toFixed(0),"% "]}),S.effects.attack&&s.jsxs("span",{className:"text-stone-300",children:["+",S.effects.attack," "]}),S.effects.defense&&s.jsxs("span",{className:"text-stone-300",children:["+",S.effects.defense," "]}),S.effects.hp&&s.jsxs("span",{className:"text-stone-300",children:["+",S.effects.hp," "]})]})]}),s.jsx("div",{className:"flex items-center justify-end sm:w-32 shrink-0 mt-2 sm:mt-0",children:g?S.type==="mental"?M?s.jsx("button",{disabled:!0,className:"px-3 py-2 md:py-1.5 bg-mystic-gold/10 border border-mystic-gold text-mystic-gold rounded text-xs md:text-sm font-serif cursor-default min-h-[44px] md:min-h-0",children:""}):s.jsx("button",{onClick:()=>E(S),className:"px-3 py-2 md:py-1.5 bg-stone-700 active:bg-stone-600 text-stone-200 rounded text-xs md:text-sm font-serif transition-colors border border-stone-500 min-h-[44px] md:min-h-0 touch-manipulation",children:""}):s.jsx("span",{className:"text-stone-500 text-xs md:text-sm font-serif italic",children:""}):s.jsxs("button",{onClick:()=>m(S),disabled:o,className:`
                          px-4 py-2 rounded text-xs md:text-sm font-serif transition-all flex items-center gap-1 min-h-[44px] md:min-h-0 touch-manipulation
                          ${o?"bg-stone-800 text-stone-600 cursor-not-allowed border border-stone-700":"bg-mystic-jade/20 text-mystic-jade border border-mystic-jade active:bg-mystic-jade/30"}
                        `,children:[o?s.jsx(Rx,{size:14}):s.jsx($l,{size:14}),S.cost===0?"":""]})})]},S.id)})})]})]})})},p1=({isOpen:c,onClose:h,player:u,onCraft:m})=>{if(!c)return null;const E=S=>{const g=u.inventory.find(M=>M.name===S);return g?g.quantity:0},p=X.useMemo(()=>{const S=u.unlockedRecipes||[],g=gc.filter(M=>S.includes(M.name));return[...jy,...g]},[u.unlockedRecipes]);return s.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-end md:items-center justify-center z-50 p-0 md:p-4 backdrop-blur-sm touch-manipulation",onClick:h,children:s.jsxs("div",{className:"bg-paper-800 w-full h-[80vh] md:h-auto md:max-w-3xl md:rounded-t-2xl md:rounded-b-lg border-0 md:border border-stone-600 shadow-2xl flex flex-col md:max-h-[85vh]",onClick:S=>S.stopPropagation(),children:[s.jsxs("div",{className:"p-3 md:p-4 border-b border-stone-600 flex justify-between items-center bg-ink-800 md:rounded-t",children:[s.jsxs("h3",{className:"text-lg md:text-xl font-serif text-mystic-gold flex items-center gap-2",children:[s.jsx(bt,{size:18,className:"md:w-5 md:h-5"})," "]}),s.jsx("button",{onClick:h,className:"text-stone-400 active:text-white min-w-[44px] min-h-[44px] flex items-center justify-center touch-manipulation",children:s.jsx(ct,{size:24})})]}),s.jsxs("div",{className:"p-3 md:p-4 bg-paper-800 overflow-y-auto flex-1 grid grid-cols-1 md:grid-cols-2 gap-3 md:gap-4",children:[s.jsxs("div",{className:"col-span-full mb-2 bg-ink-900/50 p-3 rounded border border-stone-700 text-sm text-stone-400 flex justify-between",children:[s.jsxs("span",{children:["",s.jsx("span",{className:"text-mystic-gold font-bold",children:u.spiritStones})]}),s.jsx("span",{children:""})]}),p.map((S,g)=>{const M=u.spiritStones>=S.cost;let d=!0;return s.jsxs("div",{className:"bg-ink-800 border border-stone-700 rounded p-4 flex flex-col",children:[s.jsxs("div",{className:"flex justify-between items-start mb-2",children:[s.jsx("h4",{className:"text-lg font-serif font-bold text-stone-200",children:S.name}),s.jsx("span",{className:"text-xs bg-mystic-gold/10 text-mystic-gold border border-mystic-gold/30 px-2 py-0.5 rounded",children:""})]}),s.jsx("p",{className:"text-sm text-stone-500 italic mb-4 h-10 overflow-hidden",children:S.result.description}),s.jsxs("div",{className:"bg-ink-900 p-2 rounded border border-stone-800 mb-4 flex-1",children:[s.jsx("div",{className:"text-xs text-stone-500 mb-2 font-bold uppercase tracking-wider",children:""}),s.jsxs("ul",{className:"space-y-1",children:[S.ingredients.map((o,f)=>{const x=E(o.name);return x<o.qty&&(d=!1),s.jsxs("li",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-stone-300",children:o.name}),s.jsxs("span",{className:x>=o.qty?"text-mystic-jade":"text-mystic-blood",children:[x,"/",o.qty]})]},f)}),s.jsxs("li",{className:"flex justify-between text-sm pt-1 border-t border-stone-800 mt-1",children:[s.jsx("span",{className:"text-stone-300",children:""}),s.jsx("span",{className:M?"text-mystic-gold":"text-mystic-blood",children:S.cost})]})]})]}),s.jsxs("button",{onClick:()=>m(S),disabled:!M||!d,className:`
                    w-full py-2 rounded font-serif font-bold text-sm flex items-center justify-center gap-2 transition-colors
                    ${M&&d?"bg-mystic-gold/20 text-mystic-gold hover:bg-mystic-gold/30 border border-mystic-gold":"bg-stone-800 text-stone-600 cursor-not-allowed border border-stone-700"}
                  `,children:[!M||!d?s.jsx(dx,{size:16}):s.jsx(gx,{size:16}),M&&d?"":""]})]},g)})]})]})})},h1=({isOpen:c,onClose:h,item:u,player:m,onConfirm:E})=>{var I,oe;const[p,S]=X.useState(0),[g,M]=X.useState(!1);if(!c||!u)return null;const d=m.inventory.find(w=>w.id===u.id)||u,o=d.level||0,f=d.rarity||"",x=an[f],N=Math.floor(Sy*(o+1)*x),q=Math.floor(Ny*(o+1)*(1+o*.2)),A=Math.max(.1,1-o*.1-(x-1)*.15),H=Math.min(1,A+p*bm),$=gm(f),V=w=>Math.floor(w*(1+$)),T=d.effect||{},K={attack:T.attack?V(T.attack):0,defense:T.defense?V(T.defense):0,hp:T.hp?V(T.hp):0},ie=m.spiritStones,te=((I=m.inventory.find(w=>w.name===vc))==null?void 0:I.quantity)||0,P=((oe=m.inventory.find(w=>w.name===jc))==null?void 0:oe.quantity)||0,fe=ie>=N&&te>=q;return s.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-end md:items-center justify-center z-[60] p-0 md:p-4 backdrop-blur-sm touch-manipulation",onClick:g?void 0:h,children:s.jsxs("div",{className:"bg-paper-800 w-full h-[80vh] md:h-auto md:max-w-md md:rounded-t-2xl md:rounded-b-lg border-0 md:border border-stone-600 shadow-2xl flex flex-col relative overflow-hidden",onClick:w=>w.stopPropagation(),children:[g&&s.jsx("div",{className:"absolute inset-0 bg-black/60 z-50 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsxs("div",{className:"relative w-32 h-32 mx-auto mb-4",children:[s.jsx("div",{className:"absolute inset-0 border-4 border-mystic-gold border-t-transparent rounded-full animate-spin"}),s.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:s.jsx(Sparkles,{className:"text-mystic-gold animate-pulse",size:48})})]}),s.jsx("div",{className:"text-mystic-gold text-xl font-serif font-bold animate-pulse",children:"..."}),s.jsx("div",{className:"text-stone-400 text-sm mt-2",children:""})]})}),s.jsxs("div",{className:"p-4 border-b border-stone-600 flex justify-between items-center bg-ink-800 rounded-t",children:[s.jsxs("h3",{className:"text-xl font-serif text-mystic-gold flex items-center gap-2",children:[s.jsx(dm,{size:20})," "]}),s.jsx("button",{onClick:h,className:"text-stone-400 hover:text-white",children:s.jsx(ct,{size:24})})]}),s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("h4",{className:"text-2xl font-bold font-serif text-stone-200",children:d.name}),s.jsxs("div",{className:"text-stone-400 text-sm mt-1",children:[d.rarity,"  +",o]})]}),s.jsxs("div",{className:"bg-ink-900 p-4 rounded border border-stone-700 grid grid-cols-3 gap-4 items-center",children:[s.jsxs("div",{className:"space-y-2 text-right",children:[T.attack!==void 0&&s.jsxs("div",{className:"text-stone-400 flex items-center justify-end gap-1",children:[T.attack," ",s.jsx(Tn,{size:14})]}),T.defense!==void 0&&s.jsxs("div",{className:"text-stone-400 flex items-center justify-end gap-1",children:[T.defense," ",s.jsx(_n,{size:14})]}),T.hp!==void 0&&s.jsxs("div",{className:"text-stone-400 flex items-center justify-end gap-1",children:[T.hp," ",s.jsx(Ul,{size:14})]})]}),s.jsx("div",{className:"flex justify-center text-stone-600",children:s.jsx(Zh,{size:24})}),s.jsxs("div",{className:"space-y-2 text-left font-bold",children:[T.attack!==void 0&&s.jsxs("div",{className:"text-mystic-jade flex items-center gap-1",children:[s.jsx(Tn,{size:14})," ",K.attack]}),T.defense!==void 0&&s.jsxs("div",{className:"text-mystic-jade flex items-center gap-1",children:[s.jsx(_n,{size:14})," ",K.defense]}),T.hp!==void 0&&s.jsxs("div",{className:"text-mystic-jade flex items-center gap-1",children:[s.jsx(Ul,{size:14})," ",K.hp]})]})]}),s.jsxs("div",{className:"bg-ink-900 p-4 rounded border border-stone-700",children:[s.jsxs("div",{className:"flex justify-between items-center mb-2",children:[s.jsx("span",{className:"text-stone-400 text-sm",children:""}),s.jsxs("span",{className:`text-lg font-bold ${H>=.7?"text-green-400":H>=.5?"text-yellow-400":"text-red-400"}`,children:[Math.floor(H*100),"%"]})]}),s.jsx("div",{className:"w-full bg-stone-800 rounded-full h-2",children:s.jsx("div",{className:`h-2 rounded-full transition-all ${H>=.7?"bg-green-500":H>=.5?"bg-yellow-500":"bg-red-500"}`,style:{width:`${Math.min(100,H*100)}%`}})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-stone-400",children:""}),s.jsxs("span",{className:ie>=N?"text-mystic-gold":"text-red-400",children:[ie," / ",N]})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-stone-400",children:vc}),s.jsxs("span",{className:te>=q?"text-stone-200":"text-red-400",children:[te," / ",q]})]}),s.jsxs("div",{className:"flex justify-between items-center text-sm",children:[s.jsxs("span",{className:"text-stone-400",children:[jc," (+10%)"]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{onClick:()=>S(Math.max(0,p-1)),disabled:p===0,className:"p-1 rounded border border-stone-600 hover:bg-stone-700 disabled:opacity-50 disabled:cursor-not-allowed",children:s.jsx(_x,{size:14})}),s.jsxs("span",{className:p>P?"text-red-400":"text-stone-200",children:[p," / ",P]}),s.jsx("button",{onClick:()=>S(Math.min(P,p+1)),disabled:p>=P,className:"p-1 rounded border border-stone-600 hover:bg-stone-700 disabled:opacity-50 disabled:cursor-not-allowed",children:s.jsx(Lx,{size:14})})]})]})]}),s.jsx("button",{onClick:async()=>{if(!(!fe||g)){M(!0),await new Promise(w=>setTimeout(w,1500));try{const w=await E(d,N,q,p);w==="success"?(setItemActionLog&&(setItemActionLog({text:` ${d.name} `,type:"special"}),setTimeout(()=>setItemActionLog&&setItemActionLog(null),3e3)),S(0),setTimeout(()=>{M(!1),h()},500)):w==="failure"?(setItemActionLog&&(setItemActionLog({text:` ${d.name} `,type:"danger"}),setTimeout(()=>setItemActionLog&&setItemActionLog(null),3e3)),M(!1),S(0)):M(!1)}catch(w){M(!1),console.error("Upgrade error:",w)}}},disabled:!fe||g,className:`
              w-full py-3 rounded font-serif font-bold text-lg transition-all relative overflow-hidden
              ${fe&&!g?"bg-mystic-gold/20 text-mystic-gold hover:bg-mystic-gold/30 border border-mystic-gold shadow-[0_0_15px_rgba(203,161,53,0.3)]":"bg-stone-800 text-stone-600 cursor-not-allowed border border-stone-700"}
            `,children:g?s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsx(Sparkles,{className:"animate-spin",size:20}),s.jsx("span",{children:"..."})]}):fe?"":""})]})]})})},Wo=()=>Math.random().toString(36).slice(2,9),x1={:["","","","","","","","","",""],:["","","","","","","","","",""],:["","","","","","","","","",""],:["","","","","","","","","",""]},y1={:["","","","","","","","","",""],:["","","","","","","","","",""],:["","","","","","","","","",""],:["","","","","","","","","",""]},zl=["","","","","","","","","","","","","","","","","",""],nm=[{name:"",description:""},{name:"",description:""},{name:"",description:""},{name:"",description:""},{name:"",description:""},{name:"",description:""},{name:"",description:""},{name:"",description:""},{name:"",description:""},{name:"",description:""},{name:"",description:""},{name:"",description:""},{name:"",description:""},{name:"",description:""},{name:"",description:""},{name:"",description:""},{name:"",description:""},{name:"",description:""}],am=["","","","","","","","","","","","","","",""],sm=["","","","","","","","","","","","","","",""],b1=(c,h=6)=>{const u=Ae.indexOf(c),m=[];for(let E=0;E<h;E++){const p=Math.min(u+2,Ae.length-1),S=Math.max(0,u-1),g=Math.floor(Math.random()*(p-S+1))+S,M=Ae[g],d=["","","",""],o=d[Math.floor(Math.random()*d.length)],f=50+g*50,N=Math.floor(f*(o===""?.8:o===""?1:o===""?1.5:2)*(.9+Math.random()*.2)),q=x1[o],A=y1[o],H=q[Math.floor(Math.random()*q.length)],$=A[Math.floor(Math.random()*A.length)],V=2+Math.floor(Math.random()*3),T=[],K=new Set;for(let ie=0;ie<V;ie++){let te=zl[Math.floor(Math.random()*zl.length)];for(;K.has(te)&&K.size<zl.length;)te=zl[Math.floor(Math.random()*zl.length)];K.add(te),T.push(te)}m.push({id:`realm-${Wo()}`,name:H,description:$,minRealm:M,cost:N,riskLevel:o,drops:T})}return m},g1=(c,h=6)=>{const u=Ae.indexOf(c),m=[];for(let E=0;E<h;E++){const p=Math.min(u+1,Ae.length-1),S=Math.floor(Math.random()*(p+1)),g=Ae[S],M=nm[Math.floor(Math.random()*nm.length)],d=M.name,o=M.description,f=[.4,.3,.2,.1];let x="";const N=Math.random();N<f[0]?x="":N<f[0]+f[1]?x="":N<f[0]+f[1]+f[2]?x="":x="";const q={:1,:2,:5,:10}[x];m.push({id:`sect-${Wo()}`,name:d,description:o,reqRealm:g,grade:x,exitCost:{spiritStones:Math.floor(300*q),items:[{name:"",quantity:Math.floor(5*q)}]}})}return m},v1=(c,h=3)=>{const u=[],m=["patrol","donate_stone","donate_herb","collect","hunt"],E=c===""?1:c===""?1.5:c===""?2:3,p=["","","",""];for(let S=0;S<h;S++){const g=m[Math.floor(Math.random()*m.length)],M=am[Math.floor(Math.random()*am.length)],d=sm[Math.floor(Math.random()*sm.length)],o=p[Math.floor(Math.random()*p.length)],f={:.7,:1,:1.5,:2.5}[o];let x={},N={contribution:Math.floor((10+Math.random()*40)*E*f)};const q=["instant","short","medium","long"],A=q[Math.floor(Math.random()*q.length)];switch(g){case"patrol":N.contribution=Math.floor((10+Math.random()*20)*E*f);break;case"donate_stone":x.spiritStones=Math.floor((50+Math.random()*150)*f),N.contribution=Math.floor((20+Math.random()*30)*E*f),N.spiritStones=Math.floor(x.spiritStones*.3);break;case"donate_herb":const H=["","","","",""];x.items=[{name:H[Math.floor(Math.random()*H.length)],quantity:Math.floor((1+Math.random()*3)*f)}],N.contribution=Math.floor((15+Math.random()*25)*E*f);break;case"collect":const $=["","","",""];x.items=[{name:$[Math.floor(Math.random()*$.length)],quantity:Math.floor((1+Math.random()*2)*f)}],N.contribution=Math.floor((25+Math.random()*35)*E*f),N.items=[{name:"",quantity:Math.floor(f)}];break;case"hunt":N.contribution=Math.floor((30+Math.random()*40)*E*f),N.exp=Math.floor((50+Math.random()*100)*E*f);break}u.push({id:`task-${Wo()}`,name:M,description:d,type:g,difficulty:o,cost:x,reward:N,timeCost:A})}return u},j1=[{name:"",cost:10,item:{name:"",type:v.Material,description:"",quantity:1,rarity:""}},{name:"",cost:20,item:{name:"",type:v.Pill,description:"",quantity:1,rarity:"",effect:{exp:50}}},{name:"",cost:50,item:{name:"",type:v.Herb,description:"",quantity:1,rarity:""}},{name:"",cost:100,item:{name:"",type:v.Pill,description:"",quantity:1,rarity:"",effect:{hp:50}}},{name:"",cost:1e3,item:{name:"",type:v.Pill,description:"",quantity:1,rarity:"",effect:{exp:500}}},{name:"",cost:500,item:{name:"",type:v.Material,description:"",quantity:1,rarity:""}},{name:"",cost:30,item:{name:"",type:v.Material,description:"",quantity:1,rarity:""}},{name:"",cost:80,item:{name:"",type:v.Pill,description:"",quantity:1,rarity:"",effect:{spirit:10}}},{name:"",cost:80,item:{name:"",type:v.Pill,description:"",quantity:1,rarity:"",effect:{physique:10}}},{name:"",cost:15,item:{name:"",type:v.Pill,description:"",quantity:1,rarity:"",effect:{hp:50}}},{name:"",cost:25,item:{name:"",type:v.Herb,description:"",quantity:1,rarity:""}},{name:"",cost:40,item:{name:"",type:v.Material,description:"",quantity:1,rarity:""}},{name:"",cost:60,item:{name:"",type:v.Material,description:"",quantity:1,rarity:""}},{name:"",cost:20,item:{name:"",type:v.Material,description:"",quantity:1,rarity:""}},{name:"",cost:35,item:{name:"",type:v.Herb,description:"",quantity:1,rarity:""}}],S1=[{name:"",cost:800,item:{name:"",type:v.Material,description:"",quantity:1,rarity:""}},{name:"",cost:1500,item:{name:"",type:v.Material,description:"",quantity:1,rarity:""}},{name:"",cost:3e3,item:{name:"",type:v.Pill,description:"",quantity:1,rarity:"",effect:{exp:5e3,attack:10,defense:10}}},{name:"",cost:2e3,item:{name:"",type:v.Pill,description:"",quantity:1,rarity:"",effect:{exp:1e4,attack:50,defense:50,spirit:100,physique:100,speed:30}}},{name:"",cost:1200,item:{name:"",type:v.Material,description:"",quantity:1,rarity:""}},{name:"",cost:1e3,item:{name:"",type:v.Herb,description:"",quantity:1,rarity:""}},{name:"",cost:900,item:{name:"",type:v.Herb,description:"",quantity:1,rarity:""}}],Ol=(c=1)=>{const h=4+Math.floor(Math.random()*5),u=[],m=new Set,E=c===2?S1:j1;for(let p=0;p<h;p++){let S=E[Math.floor(Math.random()*E.length)],g=0;for(;m.has(S.name)&&g<10&&m.size<E.length;)S=E[Math.floor(Math.random()*E.length)],g++;m.add(S.name),u.push({...S})}return u},N1=({isOpen:c,onClose:h,task:u,player:m,onTaskComplete:E})=>{const[p,S]=X.useState("preparing"),[g,M]=X.useState(0),[d,o]=X.useState(null),[f,x]=X.useState(!1);X.useEffect(()=>{c&&(S("preparing"),M(0),o(null))},[c,u.id]);const N={:"text-green-400",:"text-blue-400",:"text-orange-400",:"text-red-400"},q={:"bg-green-900/20 border-green-700",:"bg-blue-900/20 border-blue-700",:"bg-orange-900/20 border-orange-700",:"bg-red-900/20 border-red-700"},A=async()=>{try{console.log(":",u),S("executing"),x(!0),M(0);const V={instant:1e3,short:2e3,medium:4e3,long:6e3}[u.timeCost]||2e3,T=20,K=V/T;for(let ie=0;ie<=T;ie++)if(await new Promise(te=>setTimeout(te,K)),M(ie/T*100),ie===Math.floor(T/2)&&Math.random()<.01){x(!1),S("encounter");try{const te=await Io(m,"lucky","",void 0,void 0);o(te)}catch(te){console.error(":",te);const P={:.7,:1,:1.5,:2.5}[u.difficulty]||1;o({story:"",hpChange:0,expChange:Math.floor(20*P),spiritStonesChange:Math.floor(50*P),eventColor:"special"})}return}x(!1),S("complete")}catch(V){console.error(":",V),x(!1),S("complete")}},H=()=>{S("executing"),x(!0);const V=50,T=10,K=200;(async()=>{for(let te=0;te<=T;te++)await new Promise(P=>setTimeout(P,K)),M(V+te/T*50);x(!1),S("complete")})()},$=()=>{E(u,d||void 0),h()};return c?s.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-[60] p-4 backdrop-blur-sm",onClick:V=>{V.stopPropagation(),h()},children:s.jsxs("div",{className:"bg-paper-800 w-full max-w-2xl rounded-lg border border-stone-600 shadow-2xl",onClick:V=>V.stopPropagation(),children:[s.jsxs("div",{className:"p-4 border-b border-stone-600 bg-ink-800 rounded-t flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-serif text-mystic-gold mb-1",children:u.name}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("span",{className:`text-xs px-2 py-0.5 rounded border ${N[u.difficulty]} ${q[u.difficulty]}`,children:[": ",u.difficulty]}),s.jsxs("span",{className:"text-xs text-stone-400",children:[": ",u.timeCost==="instant"?"":u.timeCost==="short"?"":u.timeCost==="medium"?"":""]})]})]}),s.jsx("button",{onClick:V=>{V.stopPropagation(),h()},className:"text-stone-400 hover:text-white",children:s.jsx(ct,{size:24})})]}),s.jsxs("div",{className:"p-6",children:[p==="preparing"&&s.jsxs("div",{className:"space-y-4",children:[s.jsx("p",{className:"text-stone-300",children:u.description}),s.jsxs("div",{className:"bg-ink-800 p-4 rounded border border-stone-700",children:[s.jsx("h4",{className:"text-sm font-bold text-stone-200 mb-2",children:""}),s.jsxs("div",{className:"space-y-1 text-sm text-stone-400",children:[s.jsxs("div",{children:[": ",s.jsx("span",{className:"text-mystic-gold",children:u.reward.contribution})]}),u.reward.exp&&s.jsxs("div",{children:[": ",s.jsx("span",{className:"text-green-400",children:u.reward.exp})]}),u.reward.spiritStones&&s.jsxs("div",{children:[": ",s.jsx("span",{className:"text-blue-400",children:u.reward.spiritStones})]}),u.reward.items&&u.reward.items.length>0&&s.jsxs("div",{children:[": ",u.reward.items.map((V,T)=>s.jsxs("span",{className:"text-yellow-400",children:[V.name," x",V.quantity]},T))]})]})]}),s.jsx("button",{onClick:V=>{V.preventDefault(),V.stopPropagation(),console.log(""),A()},disabled:f,className:`w-full py-3 border rounded transition-colors font-serif ${f?"bg-stone-800 text-stone-600 border-stone-700 cursor-not-allowed":"bg-mystic-jade/20 text-mystic-jade border-mystic-jade hover:bg-mystic-jade/30"}`,children:f?"...":""})]}),p==="executing"&&s.jsx("div",{className:"space-y-4",children:s.jsxs("div",{className:"text-center",children:[s.jsx(Q0,{className:"w-12 h-12 animate-spin text-mystic-gold mx-auto mb-4"}),s.jsx("p",{className:"text-stone-300 mb-4",children:"..."}),s.jsx("div",{className:"w-full bg-stone-700 rounded-full h-4 mb-2",children:s.jsx("div",{className:"bg-mystic-gold h-4 rounded-full transition-all duration-300",style:{width:`${g}%`}})}),s.jsxs("p",{className:"text-sm text-stone-400",children:[Math.floor(g),"%"]})]})}),p==="encounter"&&!d&&s.jsx("div",{className:"space-y-4",children:s.jsxs("div",{className:"text-center",children:[s.jsx(Q0,{className:"w-12 h-12 animate-spin text-mystic-gold mx-auto mb-4"}),s.jsx("p",{className:"text-stone-300 mb-4",children:"..."})]})}),p==="encounter"&&d&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"bg-ink-800 p-4 rounded border border-stone-700",children:[s.jsx("h4",{className:"text-lg font-serif text-mystic-gold mb-2",children:" "}),s.jsx("p",{className:"text-stone-300 whitespace-pre-wrap mb-4",children:d.story}),(d.expChange!==0||d.spiritStonesChange!==0||d.hpChange!==0)&&s.jsxs("div",{className:"space-y-1 text-sm",children:[d.expChange>0&&s.jsxs("div",{className:"text-green-400",children:[" +",d.expChange]}),d.spiritStonesChange>0&&s.jsxs("div",{className:"text-blue-400",children:[" +",d.spiritStonesChange]}),d.hpChange!==0&&s.jsxs("div",{className:d.hpChange>0?"text-green-400":"text-red-400",children:[" ",d.hpChange>0?"+":"",d.hpChange]})]})]}),s.jsx("button",{onClick:H,className:"w-full py-3 bg-mystic-jade/20 text-mystic-jade border border-mystic-jade hover:bg-mystic-jade/30 rounded transition-colors font-serif",children:""})]}),p==="complete"&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-4xl mb-4",children:""}),s.jsx("p",{className:"text-xl font-serif text-mystic-gold mb-2",children:""}),s.jsx("p",{className:"text-stone-400",children:""})]}),d&&s.jsxs("div",{className:"bg-ink-800 p-4 rounded border border-stone-700",children:[s.jsx("h4",{className:"text-sm font-bold text-stone-200 mb-2",children:""}),s.jsxs("div",{className:"space-y-1 text-sm text-stone-400",children:[d.expChange>0&&s.jsxs("div",{children:[": ",s.jsxs("span",{className:"text-green-400",children:["+",d.expChange]})]}),d.spiritStonesChange>0&&s.jsxs("div",{children:[": ",s.jsxs("span",{className:"text-blue-400",children:["+",d.spiritStonesChange]})]}),d.hpChange!==0&&s.jsxs("div",{className:d.hpChange>0?"text-green-400":"text-red-400",children:[": ",d.hpChange>0?"+":"",d.hpChange]})]})]}),s.jsx("button",{onClick:$,className:"w-full py-3 bg-mystic-gold/20 text-mystic-gold border border-mystic-gold hover:bg-mystic-gold/30 rounded transition-colors font-serif",children:""})]})]})]})}):null},M1=({isOpen:c,onClose:h,player:u,onJoinSect:m,onLeaveSect:E,onSafeLeaveSect:p,onTask:S,onPromote:g,onBuy:M})=>{const[d,o]=X.useState("hall"),[f,x]=X.useState(null),[N,q]=X.useState({}),[A,H]=X.useState(0),[$,V]=X.useState(()=>Ol(1)),[T,K]=X.useState(()=>Ol(2)),[ie,te]=X.useState(1),[P,fe]=X.useState(()=>Date.now()+300*1e3),[I,oe]=X.useState(()=>{const C=Date.now(),_=Date.now()+300*1e3;return Math.max(0,Math.floor((_-C)/1e3))}),w=X.useMemo(()=>u.sectId?Bl:g1(u.realm,6),[u.realm,u.sectId,A]),ae=X.useMemo(()=>u.sectId?v1(u.sectRank,3):[],[u.sectId,u.sectRank,A]),ne=()=>{H(C=>C+1)},J=Wt.useCallback(()=>{const C=Date.now();if(C>=P){V(Ol(1)),u.sectContribution>=5e3&&K(Ol(2));const _=C+300*1e3;fe(_),oe(300),q({})}},[P,u.sectContribution]);if(Wt.useEffect(()=>{if(d!=="shop"||!c)return;const C=()=>{const U=Date.now(),le=Math.max(0,Math.floor((P-U)/1e3));if(oe(le),le===0&&U>=P){const re=Ol();V(re);const ue=U+300*1e3;fe(ue),oe(300),q({})}};C();const _=setInterval(C,1e3);return()=>clearInterval(_)},[d,c,P]),!c)return null;const R=w.find(C=>C.id===u.sectId)||Bl.find(C=>C.id===u.sectId),j=C=>Ae.indexOf(C);if(!u.sectId)return s.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50 p-4 backdrop-blur-sm",children:s.jsxs("div",{className:"bg-paper-800 w-full max-w-4xl rounded border border-stone-600 shadow-2xl flex flex-col max-h-[85vh]",children:[s.jsxs("div",{className:"p-4 border-b border-stone-600 flex justify-between items-center bg-ink-800 rounded-t",children:[s.jsxs("h3",{className:"text-xl font-serif text-mystic-gold flex items-center gap-2",children:[s.jsx(py,{size:20})," "]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("button",{onClick:ne,className:"px-3 py-1.5 bg-stone-700 hover:bg-stone-600 text-stone-200 border border-stone-600 rounded text-sm flex items-center gap-1.5 transition-colors",title:"",children:[s.jsx(ws,{size:16}),s.jsx("span",{className:"hidden md:inline",children:""})]}),s.jsx("button",{onClick:h,className:"text-stone-400 hover:text-white",children:s.jsx(ct,{size:24})})]})]}),s.jsx("div",{className:"p-6 overflow-y-auto grid grid-cols-1 md:grid-cols-3 gap-4",children:w.map(C=>{const _=j(u.realm)>=j(C.reqRealm);return s.jsxs("div",{className:"bg-ink-800 border border-stone-700 p-4 rounded flex flex-col",children:[s.jsx("h4",{className:"text-xl font-serif font-bold text-stone-200 mb-2",children:C.name}),s.jsx("p",{className:"text-stone-400 text-sm mb-4 flex-1",children:C.description}),s.jsxs("div",{className:"text-xs text-stone-500 mb-4",children:[":"," ",s.jsx("span",{className:_?"text-stone-300":"text-red-400",children:C.reqRealm})]}),s.jsx("button",{onClick:U=>{U.preventDefault(),U.stopPropagation(),_&&m(C.id,C.name)},disabled:!_,className:`
                      w-full py-2 rounded font-serif text-sm transition-colors border touch-manipulation
                      ${_?"bg-mystic-jade/20 text-mystic-jade border-mystic-jade hover:bg-mystic-jade/30 active:bg-mystic-jade/40":"bg-stone-800 text-stone-600 border-stone-700 cursor-not-allowed"}
                    `,children:_?"":""})]},C.id)})})]})});const O=Object.values(mn),B=O.indexOf(u.sectRank),ce=B<O.length-1?O[B+1]:null,F=ce?vm[ce]:null,y=ce&&F&&u.sectContribution>=F.contribution&&j(u.realm)>=F.realmIndex;return s.jsxs("div",{className:"fixed inset-0 bg-black/80 flex items-end md:items-center justify-center z-50 p-0 md:p-4 backdrop-blur-sm touch-manipulation",onClick:h,children:[s.jsxs("div",{className:"bg-paper-800 w-full h-[80vh] md:h-auto md:max-w-4xl md:rounded-t-2xl md:rounded-b-lg border-0 md:border border-stone-600 shadow-2xl flex flex-col md:h-[80vh]",onClick:C=>C.stopPropagation(),children:[s.jsxs("div",{className:"p-3 md:p-4 border-b border-stone-600 bg-ink-800 md:rounded-t flex justify-between items-start",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1 flex-wrap",children:[s.jsx("h3",{className:"text-xl md:text-2xl font-serif text-mystic-gold",children:R==null?void 0:R.name}),s.jsx("span",{className:"text-[10px] md:text-xs px-2 py-0.5 rounded bg-stone-700 text-stone-300 border border-stone-600",children:u.sectRank})]}),s.jsx("div",{className:"text-xs md:text-sm text-stone-400 flex gap-4",children:s.jsxs("span",{children:[":"," ",s.jsx("span",{className:"text-white font-bold",children:u.sectContribution})]})})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[d==="mission"&&s.jsxs("button",{onClick:ne,className:"px-3 py-1.5 bg-stone-700 hover:bg-stone-600 text-stone-200 border border-stone-600 rounded text-sm flex items-center gap-1.5 transition-colors min-h-[44px] md:min-h-0 touch-manipulation",title:"",children:[s.jsx(ws,{size:16}),s.jsx("span",{className:"hidden md:inline",children:""})]}),s.jsx("button",{onClick:h,className:"text-stone-400 active:text-white min-w-[44px] min-h-[44px] flex items-center justify-center touch-manipulation",children:s.jsx(ct,{size:24})})]})]}),s.jsxs("div",{className:"flex border-b border-stone-700 bg-ink-900",children:[s.jsxs("button",{onClick:()=>o("hall"),className:`flex-1 py-3 text-sm font-serif transition-colors flex items-center justify-center gap-2 ${d==="hall"?"text-mystic-gold bg-paper-800 border-t-2 border-mystic-gold":"text-stone-500 hover:text-stone-300"}`,children:[s.jsx(_n,{size:16})," "]}),s.jsxs("button",{onClick:()=>o("mission"),className:`flex-1 py-3 text-sm font-serif transition-colors flex items-center justify-center gap-2 ${d==="mission"?"text-mystic-gold bg-paper-800 border-t-2 border-mystic-gold":"text-stone-500 hover:text-stone-300"}`,children:[s.jsx(mm,{size:16})," "]}),s.jsxs("button",{onClick:()=>o("shop"),className:`flex-1 py-3 text-sm font-serif transition-colors flex items-center justify-center gap-2 ${d==="shop"?"text-mystic-gold bg-paper-800 border-t-2 border-mystic-gold":"text-stone-500 hover:text-stone-300"}`,children:[s.jsx(hm,{size:16})," "]})]}),s.jsxs("div",{className:"flex-1 p-6 overflow-y-auto bg-paper-800",children:[d==="hall"&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-ink-800 p-4 rounded border border-stone-700",children:[s.jsx("h4",{className:"font-serif text-lg text-stone-200 mb-2 border-b border-stone-700 pb-2",children:""}),ce?s.jsxs("div",{children:[s.jsxs("p",{className:"text-sm text-stone-400 mb-4",children:["",s.jsx("span",{className:"text-stone-200 font-bold",children:ce})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm mb-4",children:[s.jsxs("div",{className:"bg-ink-900 p-2 rounded",children:[s.jsx("span",{className:"text-stone-500 block",children:""}),s.jsxs("span",{className:u.sectContribution>=((F==null?void 0:F.contribution)||0)?"text-mystic-jade":"text-red-400",children:[u.sectContribution," / ",F==null?void 0:F.contribution]})]}),s.jsxs("div",{className:"bg-ink-900 p-2 rounded",children:[s.jsx("span",{className:"text-stone-500 block",children:""}),s.jsx("span",{className:j(u.realm)>=((F==null?void 0:F.realmIndex)||0)?"text-mystic-jade":"text-red-400",children:Object.values(me)[(F==null?void 0:F.realmIndex)||0]})]})]}),s.jsxs("button",{onClick:g,disabled:!y,className:`
                         w-full py-2 rounded font-serif text-sm transition-colors flex items-center justify-center gap-2
                         ${y?"bg-mystic-gold/20 text-mystic-gold border border-mystic-gold hover:bg-mystic-gold/30":"bg-stone-800 text-stone-600 border border-stone-700 cursor-not-allowed"}
                       `,children:[s.jsx(Wh,{size:16})," "]})]}):s.jsx("p",{className:"text-mystic-gold text-center py-4",children:""})]}),s.jsxs("div",{className:"bg-ink-800 p-4 rounded border border-stone-700",children:[s.jsx("h4",{className:"font-serif text-lg text-stone-200 mb-2 border-b border-stone-700 pb-2",children:""}),s.jsx("p",{className:"text-sm text-stone-500 mb-4",children:""}),R&&R.exitCost&&s.jsxs("div",{className:"mb-4 p-3 bg-ink-900 rounded border border-stone-600",children:[s.jsx("p",{className:"text-xs text-stone-400 mb-2",children:""}),s.jsxs("div",{className:"text-xs text-stone-300 space-y-1",children:[R.exitCost.spiritStones&&s.jsxs("div",{children:[": ",R.exitCost.spiritStones]}),R.exitCost.items&&R.exitCost.items.map((C,_)=>s.jsxs("div",{children:[C.name," x",C.quantity]},_))]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:p,className:"flex-1 px-4 py-2 border border-yellow-900 text-yellow-400 hover:bg-yellow-900/20 rounded text-sm transition-colors",children:""}),s.jsx("button",{onClick:E,className:"flex-1 px-4 py-2 border border-red-900 text-red-400 hover:bg-red-900/20 rounded text-sm transition-colors",children:""})]})]})]}),d==="mission"&&s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsx("h4",{className:"font-serif text-lg text-stone-200",children:""}),s.jsxs("button",{onClick:ne,className:"px-3 py-1.5 bg-stone-700 hover:bg-stone-600 text-stone-200 border border-stone-600 rounded text-sm flex items-center gap-1.5 transition-colors",title:"",children:[s.jsx(ws,{size:16}),s.jsx("span",{children:""})]})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:ae.map(C=>{const _=(()=>{var pe,ve;if((pe=C.cost)!=null&&pe.spiritStones&&u.spiritStones<C.cost.spiritStones)return!1;if((ve=C.cost)!=null&&ve.items)for(const Se of C.cost.items){const Ye=u.inventory.find(We=>We.name===Se.name);if(!Ye||Ye.quantity<Se.quantity)return!1}const le=new Date().toISOString().split("T")[0],re=u.lastTaskResetDate||le,de={instant:10,short:5,medium:3,long:2}[C.timeCost];return!(de&&((re===le?u.dailyTaskCount&&typeof u.dailyTaskCount=="object"?u.dailyTaskCount:typeof u.dailyTaskCount=="number"?{instant:u.dailyTaskCount,short:0,medium:0,long:0}:{instant:0,short:0,medium:0,long:0}:{instant:0,short:0,medium:0,long:0})[C.timeCost]||0)>=de)})(),U={instant:"",short:"",medium:"",long:""}[C.timeCost];return s.jsxs("div",{className:"bg-ink-800 p-4 rounded border border-stone-700 flex flex-col",children:[s.jsx("h4",{className:"font-serif font-bold text-stone-200 mb-1",children:C.name}),s.jsx("p",{className:"text-xs text-stone-500 mb-4 flex-1",children:C.description}),s.jsxs("div",{className:"space-y-2 mb-4",children:[C.cost&&s.jsxs("div",{className:"text-xs text-red-400",children:[":"," ",C.cost.spiritStones&&s.jsxs("span",{children:[C.cost.spiritStones," "]}),C.cost.items&&C.cost.items.map((le,re)=>s.jsxs("span",{children:[re>0&&"",le.quantity," ",le.name]},re))]}),s.jsxs("div",{className:"text-xs text-stone-400",children:[":"," ",s.jsxs("span",{className:"text-mystic-gold",children:[C.reward.contribution," "]}),C.reward.exp&&s.jsxs("span",{children:["",C.reward.exp," "]}),C.reward.spiritStones&&s.jsxs("span",{children:["",C.reward.spiritStones," "]}),C.reward.items&&C.reward.items.map((le,re)=>s.jsxs("span",{children:[re===0&&"",le.quantity," ",le.name]},re))]}),s.jsxs("div",{className:"text-xs text-stone-500",children:[": ",U]}),(()=>{const le=new Date().toISOString().split("T")[0],re=u.lastTaskResetDate||le,de={instant:10,short:5,medium:3,long:2}[C.timeCost];if(de){const ve=(re===le?u.dailyTaskCount&&typeof u.dailyTaskCount=="object"?u.dailyTaskCount:typeof u.dailyTaskCount=="number"?{instant:u.dailyTaskCount,short:0,medium:0,long:0}:{instant:0,short:0,medium:0,long:0}:{instant:0,short:0,medium:0,long:0})[C.timeCost]||0;return s.jsxs("div",{className:"text-xs text-stone-500",children:[": ",ve," / ",de," "]})}return null})()]}),s.jsx("button",{onClick:()=>x(C),disabled:!_,className:`w-full py-2 rounded text-sm ${_?"bg-stone-700 hover:bg-stone-600 text-stone-200":"bg-stone-900 text-stone-600 cursor-not-allowed"}`,children:_?"":""})]},C.id)})})]}),d==="shop"&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-serif text-lg text-stone-200",children:""}),s.jsxs("div",{className:"text-xs text-stone-400 mt-1 flex items-center gap-2",children:[s.jsx("button",{onClick:()=>te(1),className:`px-2 py-1 rounded text-xs ${ie===1?"bg-stone-700 text-stone-200":"bg-stone-800 text-stone-500"}`,children:""}),s.jsxs("button",{onClick:()=>u.sectContribution>=5e3&&te(2),disabled:u.sectContribution<5e3,className:`px-2 py-1 rounded text-xs ${ie===2?"bg-stone-700 text-stone-200":"bg-stone-800 text-stone-500"} ${u.sectContribution<5e3?"opacity-50 cursor-not-allowed":""}`,children:[" ",u.sectContribution>=5e3?"":"(5000)"]})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[I>0?s.jsxs("span",{className:"text-xs text-stone-400",children:[Math.floor(I/60),":",(I%60).toString().padStart(2,"0")," "]}):s.jsx("span",{className:"text-xs text-green-400",children:""}),s.jsxs("button",{onClick:J,disabled:I>0,className:`px-3 py-1.5 rounded text-sm border flex items-center gap-1.5 transition-colors ${I>0?"bg-stone-800 text-stone-600 border-stone-700 cursor-not-allowed":"bg-blue-700 hover:bg-blue-600 text-stone-200 border-blue-600"}`,title:I>0?` ${Math.floor(I/60)}  ${I%60} `:"5",children:[s.jsx(ws,{size:16}),s.jsx("span",{children:""})]})]})]}),(ie===1?$:T).map((C,_)=>{const U=N[_]||1,le=C.cost*U,re=u.sectContribution>=le;return s.jsxs("div",{className:"bg-ink-800 p-3 rounded border border-stone-700 flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("div",{className:"font-bold text-stone-200",children:C.name}),s.jsx("div",{className:"text-xs text-stone-500",children:C.item.description})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("span",{className:"text-sm text-mystic-gold font-bold",children:[C.cost," ",U>1&&s.jsxs("span",{className:"text-xs text-stone-400 ml-1",children:["x",U," = ",le]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("div",{className:"flex items-center gap-1 border border-stone-600 rounded",children:[s.jsx("button",{onClick:()=>q(ue=>({...ue,[_]:Math.max(1,(ue[_]||1)-1)})),className:"px-2 py-1 text-stone-400 hover:text-white",children:"-"}),s.jsx("input",{type:"number",min:"1",value:U,onChange:ue=>{const de=Math.max(1,parseInt(ue.target.value)||1);q(pe=>({...pe,[_]:de}))},className:"w-12 text-center bg-transparent text-stone-200 border-0 focus:outline-none"}),s.jsx("button",{onClick:()=>q(ue=>({...ue,[_]:(ue[_]||1)+1})),className:"px-2 py-1 text-stone-400 hover:text-white",children:"+"})]}),s.jsx("button",{onClick:()=>{M(C.item,C.cost,U),q(ue=>({...ue,[_]:1}))},disabled:!re,className:`
                            px-3 py-1.5 rounded text-xs border
                            ${re?"bg-stone-700 hover:bg-stone-600 text-stone-200 border-stone-600":"bg-stone-900 text-stone-600 border-stone-800 cursor-not-allowed"}
                          `,children:""})]})]})]},_)})]})]})]}),f&&s.jsx(N1,{isOpen:!0,onClose:()=>{x(null)},task:f,player:u,onTaskComplete:(C,_)=>{S(C,_),x(null)}})]})},q1=({isOpen:c,onClose:h,player:u,onEnter:m})=>{const[E,p]=X.useState(0),S=X.useMemo(()=>b1(u.realm,6),[u.realm,E]);if(!c)return null;const g=d=>Ae.indexOf(d),M=()=>{p(d=>d+1)};return s.jsx("div",{className:"fixed inset-0 bg-black/90 flex items-end md:items-center justify-center z-50 p-0 md:p-4 backdrop-blur-md touch-manipulation",onClick:h,children:s.jsxs("div",{className:"bg-ink-900 w-full h-[80vh] md:h-auto md:max-w-4xl md:rounded-t-2xl md:rounded-b-lg border-0 md:border border-purple-900 shadow-[0_0_30px_rgba(147,51,234,0.3)] flex flex-col md:max-h-[85vh]",onClick:d=>d.stopPropagation(),children:[s.jsxs("div",{className:"p-3 md:p-4 border-b border-purple-900 flex justify-between items-center bg-purple-900/20 md:rounded-t",children:[s.jsxs("h3",{className:"text-lg md:text-xl font-serif text-purple-300 flex items-center gap-2",children:[s.jsx(fm,{size:18,className:"md:w-5 md:h-5"})," "]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("button",{onClick:M,className:"px-3 py-1.5 bg-purple-900/40 hover:bg-purple-800/60 text-purple-300 border border-purple-700 rounded text-sm flex items-center gap-1.5 transition-colors min-h-[44px] md:min-h-0 touch-manipulation",title:"",children:[s.jsx(ws,{size:16}),s.jsx("span",{className:"hidden md:inline",children:""})]}),s.jsx("button",{onClick:h,className:"text-stone-400 active:text-white min-w-[44px] min-h-[44px] flex items-center justify-center touch-manipulation",children:s.jsx(ct,{size:24})})]})]}),s.jsx("div",{className:"p-3 md:p-6 overflow-y-auto flex-1 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3 md:gap-6",children:S.map(d=>{const o=g(u.realm),f=g(d.minRealm),x=o>=f,N=u.spiritStones>=d.cost,q=!x;return s.jsxs("div",{className:`
                  relative border flex flex-col p-5 rounded-lg transition-all duration-300 group
                  ${q?"bg-ink-900 border-stone-800 opacity-60":"bg-ink-800 border-purple-800 hover:border-purple-500 hover:bg-ink-800/80 hover:shadow-lg hover:shadow-purple-900/20"}
                `,children:[s.jsxs("div",{className:"flex justify-between items-start mb-2",children:[s.jsx("h4",{className:`text-xl font-serif font-bold ${q?"text-stone-500":"text-purple-200 group-hover:text-purple-100"}`,children:d.name}),s.jsxs("span",{className:`
                    text-xs px-2 py-0.5 rounded border
                    ${d.riskLevel===""?"text-red-500 border-red-900 bg-red-900/20":d.riskLevel===""?"text-orange-400 border-orange-900 bg-orange-900/20":"text-yellow-400 border-yellow-900 bg-yellow-900/20"}
                  `,children:[d.riskLevel,""]})]}),s.jsx("p",{className:"text-sm text-stone-500 mb-4 h-12",children:d.description}),s.jsxs("div",{className:"bg-ink-900/50 p-3 rounded border border-stone-800 mb-4 flex-1",children:[s.jsxs("div",{className:"text-xs text-stone-500 mb-2 font-bold uppercase tracking-wider flex items-center gap-1",children:[s.jsx(Sx,{size:12})," "]}),s.jsx("div",{className:"flex flex-wrap gap-2",children:d.drops.map((A,H)=>s.jsx("span",{className:"text-xs text-purple-300/80 bg-purple-900/20 px-1.5 py-0.5 rounded",children:A},H))})]}),s.jsxs("div",{className:"mt-auto space-y-2",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-stone-500",children:""}),s.jsx("span",{className:x?"text-stone-300":"text-red-500",children:d.minRealm})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-stone-500",children:""}),s.jsxs("span",{className:N?"text-mystic-gold":"text-red-500",children:[d.cost," "]})]}),s.jsxs("button",{onClick:()=>m(d),disabled:q||!N,className:`
                       w-full py-2.5 rounded font-serif font-bold text-sm flex items-center justify-center gap-2 mt-4 transition-all
                       ${q||!N?"bg-stone-800 text-stone-600 cursor-not-allowed border border-stone-700":"bg-purple-900/40 text-purple-300 border border-purple-700 hover:bg-purple-800/60 hover:text-white hover:border-purple-500"}
                     `,children:[q?"":N?"":"",!q&&N&&s.jsx(iy,{size:16})]})]})]},d.id)})})]})})},A1=({isOpen:c,replay:h,revealedRounds:u,onSkip:m,onClose:E})=>{const p=X.useRef(null);X.useEffect(()=>{p.current&&p.current.scrollTo({top:p.current.scrollHeight,behavior:"smooth"})},[u,h]);const{visibleRounds:S,isResolved:g,progressText:M}=X.useMemo(()=>{if(!h)return{visibleRounds:[],isResolved:!0,progressText:"0 / 0"};const o=h.rounds.length||1,f=Math.min(u,o);return{visibleRounds:h.rounds.slice(0,f),isResolved:f>=o,progressText:`${f} / ${o}`}},[h,u]);if(!c||!h)return null;const d=!g;return s.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-end md:items-center justify-center z-[80] p-0 md:p-8",onClick:()=>{d||E()},children:s.jsxs("div",{className:"bg-ink-900 border border-stone-700 w-full md:max-w-3xl max-h-[92vh] rounded-t-3xl md:rounded-3xl shadow-2xl flex flex-col",onClick:o=>o.stopPropagation(),children:[s.jsxs("div",{className:"flex items-center justify-between px-5 md:px-6 py-4 border-b border-stone-700",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-xs text-stone-500 uppercase tracking-widest",children:""}),s.jsxs("div",{className:"flex items-center gap-2 text-lg md:text-xl font-serif text-mystic-gold",children:[s.jsx(ks,{size:18,className:"text-mystic-gold"}),h.enemy.title,"",h.enemy.name,s.jsx("span",{className:"text-[11px] text-stone-400 bg-ink-800 px-2 py-0.5 rounded border border-stone-700",children:h.enemy.realm})]})]}),s.jsx("button",{onClick:E,disabled:d,className:`p-2 rounded border ${d?"border-stone-700 text-stone-600 cursor-not-allowed":"border-stone-600 text-stone-200 hover:bg-stone-700/40"}`,title:d?"":"",children:s.jsx(ct,{size:18})})]}),s.jsxs("div",{className:"px-5 md:px-6 py-4 border-b border-stone-800 bg-ink-900",children:[s.jsxs("div",{className:"flex flex-wrap gap-4 text-xs text-stone-400",children:[s.jsxs("span",{children:["",h.enemy.maxHp]}),s.jsxs("span",{children:["",h.enemy.attack]}),s.jsxs("span",{children:["",h.enemy.defense]}),s.jsxs("span",{children:["",h.enemy.speed]})]}),s.jsx("p",{className:`mt-3 text-sm md:text-base font-semibold ${h.victory?"text-emerald-400":"text-rose-400"}`,children:h.summary})]}),s.jsx("div",{ref:p,className:"flex-1 overflow-y-auto px-5 md:px-6 py-4 space-y-3 bg-ink-800/60 text-sm",children:S.length===0?s.jsx("div",{className:"text-center text-stone-500 py-6",children:"..."}):S.map((o,f)=>s.jsxs("div",{className:`p-3 rounded border text-stone-200 ${o.attacker==="player"?"bg-emerald-900/10 border-emerald-700/40":"bg-rose-900/15 border-rose-700/40"}`,children:[s.jsxs("div",{className:"flex justify-between text-[11px] text-stone-400 mb-1",children:[s.jsxs("span",{children:[" ",f+1,"  "," ",o.attacker==="player"?"":""]}),s.jsxs("span",{children:[" ",o.damage,o.crit&&s.jsx("span",{className:"text-mystic-gold ml-1",children:" "})]})]}),s.jsx("p",{children:o.description}),s.jsxs("div",{className:"mt-2 flex items-center justify-between text-[11px] text-stone-400",children:[s.jsxs("span",{children:["",o.playerHpAfter]}),s.jsxs("span",{children:["",o.enemyHpAfter]})]})]},o.id))}),s.jsxs("div",{className:"border-t border-stone-700 px-5 md:px-6 py-4 bg-ink-900/90 flex flex-col gap-3 md:flex-row md:items-center md:justify-between",children:[s.jsxs("div",{className:"text-xs text-stone-400 space-y-1",children:[s.jsxs("div",{children:["",M," "]}),s.jsxs("div",{children:["",h.hpLoss]}),s.jsxs("div",{className:"text-stone-300",children:["",h.expChange>=0?`+${h.expChange}`:h.expChange," "," "," ",h.spiritChange>=0?`+${h.spiritChange}`:h.spiritChange," ",""]}),s.jsxs("div",{children:["",h.playerHpAfter]})]}),s.jsxs("div",{className:"flex gap-2",children:[!g&&s.jsxs("button",{onClick:m,className:"flex items-center gap-1 px-3 py-2 rounded border border-amber-500 text-amber-300 hover:bg-amber-500/10 text-sm",children:[s.jsx(Fx,{size:16}),""]}),s.jsxs("button",{onClick:E,disabled:d,className:`flex items-center gap-1 px-3 py-2 rounded border text-sm ${d?"border-stone-700 text-stone-600 cursor-not-allowed":"border-emerald-500 text-emerald-300 hover:bg-emerald-500/10"}`,children:[s.jsx(_n,{size:16}),d?"":""]})]})]})]})})},w1=({isOpen:c,onClose:h,player:u,onSelectTalent:m,onSelectTitle:E,onAllocateAttribute:p,onUseInheritance:S})=>{if(!c)return null;const g=Hn.find(o=>o.id===u.talentId),M=ba.find(o=>o.id===u.titleId),d=o=>{switch(o){case"":return"text-gray-400";case"":return"text-blue-400";case"":return"text-purple-400";case"":return"text-yellow-400";default:return"text-gray-400"}};return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-end md:items-center justify-center z-50 p-0 md:p-4 touch-manipulation",onClick:h,children:s.jsxs("div",{className:"bg-stone-800 md:rounded-t-2xl md:rounded-b-lg border-0 md:border border-stone-700 w-full h-[80vh] md:h-auto md:max-w-2xl md:max-h-[90vh] overflow-y-auto",onClick:o=>o.stopPropagation(),children:[s.jsxs("div",{className:"sticky top-0 bg-stone-800 border-b border-stone-700 p-3 md:p-4 flex justify-between items-center",children:[s.jsx("h2",{className:"text-lg md:text-xl font-serif text-mystic-gold",children:""}),s.jsx("button",{onClick:h,className:"text-stone-400 active:text-white min-w-[44px] min-h-[44px] flex items-center justify-center touch-manipulation",children:s.jsx(ct,{size:24})})]}),s.jsxs("div",{className:"p-6 space-y-6",children:[u.inheritanceLevel>0&&S&&s.jsxs("div",{className:"bg-gradient-to-r from-purple-900/50 to-pink-900/50 rounded p-4 border-2 border-purple-500",children:[s.jsxs("h3",{className:"text-lg font-bold mb-3 flex items-center gap-2",children:[s.jsx(Cs,{className:"text-purple-400",size:20}),": ",u.inheritanceLevel," "]}),s.jsx("p",{className:"text-sm text-stone-300 mb-3",children:"4"}),s.jsx("button",{onClick:S,className:"w-full px-4 py-3 bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 rounded border border-purple-400 font-bold text-white transition-all",children:""})]}),u.attributePoints>0&&s.jsxs("div",{className:"bg-stone-900 rounded p-4 border border-stone-700",children:[s.jsxs("h3",{className:"text-lg font-bold mb-3 flex items-center gap-2",children:[s.jsx(Cs,{className:"text-yellow-400",size:20}),": ",u.attributePoints]}),s.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[s.jsx("button",{onClick:()=>p("attack"),className:"px-4 py-2 bg-red-900 hover:bg-red-800 rounded border border-red-700",children:" +5"}),s.jsx("button",{onClick:()=>p("defense"),className:"px-4 py-2 bg-blue-900 hover:bg-blue-800 rounded border border-blue-700",children:" +3"}),s.jsx("button",{onClick:()=>p("hp"),className:"px-4 py-2 bg-green-900 hover:bg-green-800 rounded border border-green-700",children:" +20"})]})]}),s.jsxs("div",{children:[s.jsxs("h3",{className:"text-lg font-bold mb-3 flex items-center gap-2",children:[s.jsx(Cs,{className:"text-purple-400",size:20}),""]}),g?s.jsx("div",{className:"bg-stone-900 rounded p-4 border border-stone-700",children:s.jsx("div",{className:"flex justify-between items-start",children:s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx("span",{className:`font-bold ${d(g.rarity)}`,children:g.name}),s.jsxs("span",{className:"text-xs text-stone-500",children:["(",g.rarity,")"]})]}),s.jsx("p",{className:"text-sm text-stone-400 mb-2",children:g.description}),s.jsx("div",{className:"text-xs text-stone-500 italic",children:"* "})]})})}):s.jsx("div",{className:"bg-stone-900 rounded p-4 border border-stone-700",children:s.jsx("p",{className:"text-stone-500",children:""})})]}),s.jsxs("div",{children:[s.jsxs("h3",{className:"text-lg font-bold mb-3 flex items-center gap-2",children:[s.jsx(Ph,{className:"text-yellow-400",size:20}),""]}),M?s.jsx("div",{className:"bg-stone-900 rounded p-4 border border-stone-700 mb-3",children:s.jsx("div",{className:"flex justify-between items-start",children:s.jsxs("div",{children:[s.jsx("div",{className:"flex items-center gap-2 mb-2",children:s.jsx("span",{className:"font-bold text-yellow-400",children:M.name})}),s.jsx("p",{className:"text-sm text-stone-400 mb-1",children:M.description}),s.jsxs("p",{className:"text-xs text-stone-500",children:[": ",M.requirement]})]})})}):s.jsx("div",{className:"bg-stone-900 rounded p-4 border border-stone-700 mb-3",children:s.jsx("p",{className:"text-stone-500",children:""})}),s.jsx("div",{className:"grid grid-cols-1 gap-2 max-h-60 overflow-y-auto",children:ba.filter(o=>o.id!==u.titleId&&u.achievements.some(f=>{var N;const x=Es.find(q=>q.id===f);return((N=x==null?void 0:x.reward)==null?void 0:N.titleId)===o.id})).map(o=>s.jsx("button",{onClick:()=>E(o.id),className:"text-left bg-stone-900 hover:bg-stone-700 rounded p-3 border border-stone-700 transition-colors",children:s.jsx("div",{className:"flex justify-between items-start",children:s.jsxs("div",{children:[s.jsx("span",{className:"font-bold text-yellow-400",children:o.name}),s.jsx("p",{className:"text-sm text-stone-400 mt-1",children:o.description})]})})},o.id))})]})]})]})})},C1=({isOpen:c,onClose:h,player:u})=>{if(!c)return null;const m=d=>{switch(d){case"":return"text-gray-400 border-gray-600";case"":return"text-blue-400 border-blue-600";case"":return"text-purple-400 border-purple-600";case"":return"text-yellow-400 border-yellow-600";default:return"text-gray-400 border-gray-600"}},E=d=>({realm:"",kill:"",collect:"",meditate:"",adventure:"",equip:"",pet:"",recipe:"",art:"",breakthrough:"",secret_realm:"",lottery:"",custom:""})[d]||d,p=d=>{const o=E(d.requirement.type);return d.requirement.type==="realm"&&d.requirement.target?`${d.requirement.target}`:`${o} ${d.requirement.value}${S(d.requirement.type)}`},S=d=>({kill:"",collect:"",meditate:"",adventure:"",equip:"",pet:"",recipe:"",art:"",breakthrough:"",secret_realm:"",lottery:""})[d]||"",g=Es.filter(d=>u.achievements.includes(d.id)),M=Es.filter(d=>!u.achievements.includes(d.id));return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-end md:items-center justify-center z-50 p-0 md:p-4 touch-manipulation",onClick:h,children:s.jsxs("div",{className:"bg-stone-800 md:rounded-t-2xl md:rounded-b-lg border-0 md:border border-stone-700 w-full h-[80vh] md:h-auto md:max-w-3xl md:max-h-[90vh] overflow-y-auto",onClick:d=>d.stopPropagation(),children:[s.jsxs("div",{className:"z-50 sticky top-0 bg-stone-800 border-b border-stone-700 p-3 md:p-4 flex justify-between items-center",children:[s.jsxs("h2",{className:"text-lg md:text-xl font-serif text-mystic-gold flex items-center gap-2",children:[s.jsx(bc,{className:"text-yellow-400 w-5 h-5 md:w-6 md:h-6"}),""]}),s.jsx("button",{onClick:h,className:"text-stone-400 active:text-white min-w-[44px] min-h-[44px] flex items-center justify-center touch-manipulation",children:s.jsx(ct,{size:24})})]}),s.jsxs("div",{className:"p-6",children:[s.jsx("div",{className:"mb-4 text-center",children:s.jsxs("p",{className:"text-stone-400",children:[": ",g.length," / ",Es.length]})}),g.length>0&&s.jsxs("div",{className:"mb-6",children:[s.jsx("h3",{className:"text-lg font-bold mb-3 text-green-400",children:""}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:g.map(d=>s.jsx("div",{className:`bg-stone-900 rounded p-4 border-2 ${m(d.rarity)}`,children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(bc,{className:"text-yellow-400 flex-shrink-0 mt-1",size:20}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx("span",{className:"font-bold",children:d.name}),s.jsxs("span",{className:`text-xs ${m(d.rarity).split(" ")[0]}`,children:["(",d.rarity,")"]})]}),s.jsx("p",{className:"text-sm text-stone-400 mb-2",children:d.description}),s.jsx("div",{className:"text-xs text-green-400",children:" "})]})]})},d.id))})]}),M.length>0&&s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-bold mb-3 text-stone-400",children:""}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:M.map(d=>s.jsx("div",{className:"bg-stone-900 rounded p-4 border border-stone-700 opacity-60",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(Cs,{className:"text-stone-500 flex-shrink-0 mt-1",size:20}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx("span",{className:"font-bold text-stone-500",children:d.name}),s.jsxs("span",{className:"text-xs text-stone-600",children:["(",d.rarity,")"]})]}),s.jsx("p",{className:"text-sm text-stone-500 mb-2",children:d.description}),s.jsxs("p",{className:"text-xs text-stone-600",children:[": ",p(d)]})]})]})},d.id))})]})]})]})})},E1=({isOpen:c,onClose:h,player:u,onActivatePet:m,onFeedPet:E,onEvolvePet:p})=>{const[S,g]=X.useState(null),[M,d]=X.useState(null),[o,f]=X.useState(null);if(!c)return null;const x=T=>{switch(T){case"":return"text-gray-400";case"":return"text-blue-400";case"":return"text-purple-400";case"":return"text-yellow-400";default:return"text-gray-400"}},N=u.pets.find(T=>T.id===u.activePetId),q=new Set(Object.values(u.equippedItems).filter(Boolean)),A=u.inventory.filter(T=>!q.has(T.id)&&T.quantity>0),H=T=>{g(T),d(null),f(null)},$=()=>{!S||!M||M==="item"&&!o||(E(S,M,o||void 0),g(null),d(null),f(null))},V=()=>{g(null),d(null),f(null)};return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-end md:items-center justify-center z-50 p-0 md:p-4 touch-manipulation",onClick:h,children:s.jsxs("div",{className:"bg-stone-800 md:rounded-t-2xl md:rounded-b-lg border-0 md:border border-stone-700 w-full h-[80vh] md:h-auto md:max-w-3xl md:max-h-[90vh] overflow-y-auto",onClick:T=>T.stopPropagation(),children:[s.jsxs("div",{className:"sticky top-0 bg-stone-800 border-b border-stone-700 p-3 md:p-4 flex justify-between items-center",children:[s.jsx("h2",{className:"text-lg md:text-xl font-serif text-mystic-gold",children:""}),s.jsx("button",{onClick:h,className:"text-stone-400 active:text-white min-w-[44px] min-h-[44px] flex items-center justify-center touch-manipulation",children:s.jsx(ct,{size:24})})]}),s.jsxs("div",{className:"p-6 space-y-6",children:[N&&s.jsxs("div",{className:"bg-stone-900 rounded p-4 border-2 border-yellow-600",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[s.jsx("span",{className:"font-bold text-yellow-400",children:N.name}),s.jsxs("span",{className:"text-xs text-stone-500",children:["(",N.species,")"]}),s.jsx("span",{className:"ml-auto text-xs bg-yellow-600 text-black px-2 py-1 rounded",children:""})]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-3",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(sy,{className:"text-red-400",size:16}),s.jsxs("span",{className:"text-sm",children:[": ",N.stats.attack]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(_n,{className:"text-blue-400",size:16}),s.jsxs("span",{className:"text-sm",children:[": ",N.stats.defense]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ul,{className:"text-green-400",size:16}),s.jsxs("span",{className:"text-sm",children:[": ",N.stats.hp]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Tn,{className:"text-yellow-400",size:16}),s.jsxs("span",{className:"text-sm",children:[": ",N.stats.speed]})]})]}),s.jsxs("div",{className:"mb-3",children:[s.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[s.jsxs("span",{children:[": ",N.level]}),s.jsxs("span",{children:[": ",N.exp," / ",N.maxExp]})]}),s.jsx("div",{className:"w-full bg-stone-700 rounded-full h-2",children:s.jsx("div",{className:"bg-blue-500 h-2 rounded-full",style:{width:`${N.exp/N.maxExp*100}%`}})})]}),s.jsxs("div",{className:"mb-3",children:[s.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[s.jsx("span",{children:""}),s.jsxs("span",{children:[N.affection," / 100"]})]}),s.jsx("div",{className:"w-full bg-stone-700 rounded-full h-2",children:s.jsx("div",{className:"bg-pink-500 h-2 rounded-full",style:{width:`${N.affection}%`}})})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:()=>H(N.id),className:"flex-1 px-4 py-2 bg-green-900 hover:bg-green-800 rounded border border-green-700 text-sm",children:""}),N.evolutionStage<2&&s.jsx("button",{onClick:()=>p(N.id),className:"flex-1 px-4 py-2 bg-purple-900 hover:bg-purple-800 rounded border border-purple-700 text-sm",children:""})]})]}),s.jsxs("div",{children:[s.jsxs("h3",{className:"text-lg font-bold mb-3",children:[" (",u.pets.length,")"]}),u.pets.length===0?s.jsx("div",{className:"bg-stone-900 rounded p-4 border border-stone-700 text-center text-stone-500",children:""}):s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:u.pets.map(T=>s.jsxs("div",{className:`bg-stone-900 rounded p-4 border ${T.id===u.activePetId?"border-yellow-600":"border-stone-700"}`,children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsxs("div",{children:[s.jsx("span",{className:`font-bold ${x(T.rarity)}`,children:T.name}),s.jsxs("span",{className:"text-xs text-stone-500 ml-2",children:["Lv.",T.level]})]}),T.id===u.activePetId?s.jsx("span",{className:"text-xs bg-yellow-600 text-black px-2 py-1 rounded",children:""}):s.jsx("button",{onClick:()=>m(T.id),className:"text-xs px-2 py-1 bg-stone-700 hover:bg-stone-600 rounded",children:""})]}),s.jsx("div",{className:"text-sm text-stone-400 mb-2",children:T.species}),s.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs mb-2",children:[s.jsxs("div",{children:[": ",T.stats.attack]}),s.jsxs("div",{children:[": ",T.stats.defense]}),s.jsxs("div",{children:[": ",T.stats.hp]}),s.jsxs("div",{children:[": ",T.stats.speed]})]}),s.jsxs("div",{className:"text-xs text-stone-500 mb-2",children:[": ",T.exp," / ",T.maxExp]}),s.jsx("div",{className:"w-full bg-stone-700 rounded-full h-1.5 mb-2",children:s.jsx("div",{className:"bg-blue-500 h-1.5 rounded-full",style:{width:`${T.exp/T.maxExp*100}%`}})}),s.jsx("button",{onClick:()=>H(T.id),className:"w-full px-3 py-1.5 bg-green-900 hover:bg-green-800 rounded border border-green-700 text-xs",children:""})]},T.id))})]})]}),S&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-[60] p-4",children:s.jsxs("div",{className:"bg-stone-800 rounded-lg border border-stone-700 w-full max-w-md p-6",children:[s.jsx("h3",{className:"text-lg font-bold mb-4 text-mystic-gold",children:""}),M?M==="item"?s.jsxs("div",{className:"space-y-3",children:[s.jsx("div",{className:"text-sm text-stone-400 mb-3",children:""}),s.jsx("div",{className:"max-h-60 overflow-y-auto space-y-2",children:A.length===0?s.jsx("div",{className:"text-center text-stone-500 py-4",children:""}):A.map(T=>{const K=T.rarity||"",ie=an[K]||1,P=1+Ae.indexOf(u.realm)*.5,fe=1+u.realmLevel*.1,I=Math.floor(10*P*fe),oe=Math.floor(I*ie);return s.jsxs("button",{onClick:()=>f(T.id),className:`w-full px-3 py-2 rounded border text-left ${o===T.id?"bg-blue-900 border-blue-600":"bg-stone-700 border-stone-600 hover:bg-stone-600"}`,children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("div",{className:"font-bold text-sm",children:T.name}),s.jsx("div",{className:`text-xs px-1.5 py-0.5 rounded ${x(K)}`,children:K})]}),s.jsxs("div",{className:"text-xs text-stone-400 mt-1",children:[": ",T.quantity,"  : ",oe,"~",Math.floor(oe*1.2)]})]},T.id)})})]}):null:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("button",{onClick:()=>d("hp"),className:"w-full px-4 py-3 bg-red-900 hover:bg-red-800 rounded border border-red-700 flex items-center gap-3",children:[s.jsx(xx,{className:"text-red-400",size:20}),s.jsxs("div",{className:"flex-1 text-left",children:[s.jsx("div",{className:"font-bold",children:""}),s.jsx("div",{className:"text-xs text-stone-400",children:" 200  (+2~5)"})]})]}),s.jsxs("button",{onClick:()=>d("item"),className:"w-full px-4 py-3 bg-blue-900 hover:bg-blue-800 rounded border border-blue-700 flex items-center gap-3",disabled:A.length===0,children:[s.jsx(yc,{className:"text-blue-400",size:20}),s.jsxs("div",{className:"flex-1 text-left",children:[s.jsx("div",{className:"font-bold",children:""}),s.jsx("div",{className:"text-xs text-stone-400",children:A.length===0?"":" (+2~5)"})]})]}),s.jsxs("button",{onClick:()=>d("exp"),className:"w-full px-4 py-3 bg-purple-900 hover:bg-purple-800 rounded border border-purple-700 flex items-center gap-3",children:[s.jsx(bt,{className:"text-purple-400",size:20}),s.jsxs("div",{className:"flex-1 text-left",children:[s.jsx("div",{className:"font-bold",children:""}),s.jsx("div",{className:"text-xs text-stone-400",children:" 5%  (+2~5)"})]})]})]}),s.jsxs("div",{className:"flex gap-2 mt-6",children:[s.jsx("button",{onClick:V,className:"flex-1 px-4 py-2 bg-stone-700 hover:bg-stone-600 rounded border border-stone-600",children:""}),M&&(M!=="item"||o)&&s.jsx("button",{onClick:$,className:"flex-1 px-4 py-2 bg-green-900 hover:bg-green-800 rounded border border-green-700",children:""}),M&&M!=="item"&&s.jsx("button",{onClick:()=>d(null),className:"px-4 py-2 bg-stone-700 hover:bg-stone-600 rounded border border-stone-600",children:""})]})]})})]})})},k1=({isOpen:c,onClose:h,player:u,onDraw:m})=>{if(!c)return null;const[E,p]=X.useState(!1),[S,g]=X.useState(null),M=async o=>{if(u.lotteryTickets<o){alert(` ${o}  ${u.lotteryTickets} `);return}p(!0),g(null),setTimeout(()=>{p(!1),m(o),g([])},1500)},d=o=>{switch(o){case"":return"text-gray-400 border-gray-600";case"":return"text-blue-400 border-blue-600";case"":return"text-purple-400 border-purple-600";case"":return"text-yellow-400 border-yellow-600";default:return"text-gray-400 border-gray-600"}};return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-end md:items-center justify-center z-50 p-0 md:p-4 touch-manipulation",onClick:h,children:s.jsxs("div",{className:"bg-stone-800 md:rounded-t-2xl md:rounded-b-lg border-0 md:border border-stone-700 w-full h-[80vh] md:h-auto md:max-w-2xl md:max-h-[90vh] overflow-y-auto",onClick:o=>o.stopPropagation(),children:[s.jsxs("div",{className:"sticky top-0 bg-stone-800 border-b border-stone-700 p-3 md:p-4 flex justify-between items-center",children:[s.jsxs("h2",{className:"text-lg md:text-xl font-serif text-mystic-gold flex items-center gap-2",children:[s.jsx(_l,{className:"text-yellow-400 w-5 h-5 md:w-6 md:h-6"}),""]}),s.jsx("button",{onClick:h,className:"text-stone-400 active:text-white min-w-[44px] min-h-[44px] flex items-center justify-center touch-manipulation",children:s.jsx(ct,{size:24})})]}),s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsxs("div",{className:"bg-stone-900 rounded p-4 border border-stone-700 text-center",children:[s.jsxs("div",{className:"text-2xl font-bold text-yellow-400 mb-2",children:[u.lotteryTickets," "]}),s.jsx("div",{className:"text-stone-400",children:""}),s.jsxs("div",{className:"text-xs text-stone-500 mt-2",children:[": ",u.lotteryCount," ",u.lotteryCount>=10&&u.lotteryCount%10!==0&&s.jsxs("span",{className:"text-yellow-400 ml-2",children:["( ",10-u.lotteryCount%10," )"]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx("button",{onClick:()=>M(1),disabled:E||u.lotteryTickets<1,className:"relative px-6 py-8 bg-gradient-to-br from-purple-900 to-blue-900 hover:from-purple-800 hover:to-blue-800 rounded-lg border-2 border-purple-600 disabled:opacity-50 disabled:cursor-not-allowed transition-all",children:E?s.jsxs("div",{className:"flex flex-col items-center gap-2",children:[s.jsx(bt,{className:"animate-spin text-yellow-400",size:32}),s.jsx("span",{children:"..."})]}):s.jsxs("div",{className:"flex flex-col items-center gap-2",children:[s.jsx(_l,{size:32,className:"text-yellow-400"}),s.jsx("span",{className:"font-bold",children:""}),s.jsx("span",{className:"text-xs",children:" 1 "})]})}),s.jsx("button",{onClick:()=>M(10),disabled:E||u.lotteryTickets<10,className:"relative px-6 py-8 bg-gradient-to-br from-yellow-900 to-orange-900 hover:from-yellow-800 hover:to-orange-800 rounded-lg border-2 border-yellow-600 disabled:opacity-50 disabled:cursor-not-allowed transition-all",children:E?s.jsxs("div",{className:"flex flex-col items-center gap-2",children:[s.jsx(bt,{className:"animate-spin text-yellow-400",size:32}),s.jsx("span",{children:"..."})]}):s.jsxs("div",{className:"flex flex-col items-center gap-2",children:[s.jsx(_l,{size:32,className:"text-yellow-400"}),s.jsx("span",{className:"font-bold",children:""}),s.jsx("span",{className:"text-xs",children:" 10  ()"})]})})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-bold mb-3",children:""}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-2 max-h-60 overflow-y-auto",children:hc.map(o=>s.jsxs("div",{className:`bg-stone-900 rounded p-3 border ${d(o.rarity).split(" ")[1]}`,children:[s.jsx("div",{className:`text-sm font-bold ${d(o.rarity).split(" ")[0]} mb-1`,children:o.name}),s.jsx("div",{className:"text-xs text-stone-500",children:o.rarity})]},o.id))})]})]})]})})};var xc={exports:{}},R1=xc.exports,lm;function z1(){return lm||(lm=1,(function(c,h){(function(u,m){c.exports=m()})(R1,(function(){var u=1e3,m=6e4,E=36e5,p="millisecond",S="second",g="minute",M="hour",d="day",o="week",f="month",x="quarter",N="year",q="date",A="Invalid Date",H=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,$=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,V={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(J){var R=["th","st","nd","rd"],j=J%100;return"["+J+(R[(j-20)%10]||R[j]||R[0])+"]"}},T=function(J,R,j){var O=String(J);return!O||O.length>=R?J:""+Array(R+1-O.length).join(j)+J},K={s:T,z:function(J){var R=-J.utcOffset(),j=Math.abs(R),O=Math.floor(j/60),B=j%60;return(R<=0?"+":"-")+T(O,2,"0")+":"+T(B,2,"0")},m:function J(R,j){if(R.date()<j.date())return-J(j,R);var O=12*(j.year()-R.year())+(j.month()-R.month()),B=R.clone().add(O,f),ce=j-B<0,F=R.clone().add(O+(ce?-1:1),f);return+(-(O+(j-B)/(ce?B-F:F-B))||0)},a:function(J){return J<0?Math.ceil(J)||0:Math.floor(J)},p:function(J){return{M:f,y:N,w:o,d,D:q,h:M,m:g,s:S,ms:p,Q:x}[J]||String(J||"").toLowerCase().replace(/s$/,"")},u:function(J){return J===void 0}},ie="en",te={};te[ie]=V;var P="$isDayjsObject",fe=function(J){return J instanceof ae||!(!J||!J[P])},I=function J(R,j,O){var B;if(!R)return ie;if(typeof R=="string"){var ce=R.toLowerCase();te[ce]&&(B=ce),j&&(te[ce]=j,B=ce);var F=R.split("-");if(!B&&F.length>1)return J(F[0])}else{var y=R.name;te[y]=R,B=y}return!O&&B&&(ie=B),B||!O&&ie},oe=function(J,R){if(fe(J))return J.clone();var j=typeof R=="object"?R:{};return j.date=J,j.args=arguments,new ae(j)},w=K;w.l=I,w.i=fe,w.w=function(J,R){return oe(J,{locale:R.$L,utc:R.$u,x:R.$x,$offset:R.$offset})};var ae=(function(){function J(j){this.$L=I(j.locale,null,!0),this.parse(j),this.$x=this.$x||j.x||{},this[P]=!0}var R=J.prototype;return R.parse=function(j){this.$d=(function(O){var B=O.date,ce=O.utc;if(B===null)return new Date(NaN);if(w.u(B))return new Date;if(B instanceof Date)return new Date(B);if(typeof B=="string"&&!/Z$/i.test(B)){var F=B.match(H);if(F){var y=F[2]-1||0,C=(F[7]||"0").substring(0,3);return ce?new Date(Date.UTC(F[1],y,F[3]||1,F[4]||0,F[5]||0,F[6]||0,C)):new Date(F[1],y,F[3]||1,F[4]||0,F[5]||0,F[6]||0,C)}}return new Date(B)})(j),this.init()},R.init=function(){var j=this.$d;this.$y=j.getFullYear(),this.$M=j.getMonth(),this.$D=j.getDate(),this.$W=j.getDay(),this.$H=j.getHours(),this.$m=j.getMinutes(),this.$s=j.getSeconds(),this.$ms=j.getMilliseconds()},R.$utils=function(){return w},R.isValid=function(){return this.$d.toString()!==A},R.isSame=function(j,O){var B=oe(j);return this.startOf(O)<=B&&B<=this.endOf(O)},R.isAfter=function(j,O){return oe(j)<this.startOf(O)},R.isBefore=function(j,O){return this.endOf(O)<oe(j)},R.$g=function(j,O,B){return w.u(j)?this[O]:this.set(B,j)},R.unix=function(){return Math.floor(this.valueOf()/1e3)},R.valueOf=function(){return this.$d.getTime()},R.startOf=function(j,O){var B=this,ce=!!w.u(O)||O,F=w.p(j),y=function(pe,ve){var Se=w.w(B.$u?Date.UTC(B.$y,ve,pe):new Date(B.$y,ve,pe),B);return ce?Se:Se.endOf(d)},C=function(pe,ve){return w.w(B.toDate()[pe].apply(B.toDate("s"),(ce?[0,0,0,0]:[23,59,59,999]).slice(ve)),B)},_=this.$W,U=this.$M,le=this.$D,re="set"+(this.$u?"UTC":"");switch(F){case N:return ce?y(1,0):y(31,11);case f:return ce?y(1,U):y(0,U+1);case o:var ue=this.$locale().weekStart||0,de=(_<ue?_+7:_)-ue;return y(ce?le-de:le+(6-de),U);case d:case q:return C(re+"Hours",0);case M:return C(re+"Minutes",1);case g:return C(re+"Seconds",2);case S:return C(re+"Milliseconds",3);default:return this.clone()}},R.endOf=function(j){return this.startOf(j,!1)},R.$set=function(j,O){var B,ce=w.p(j),F="set"+(this.$u?"UTC":""),y=(B={},B[d]=F+"Date",B[q]=F+"Date",B[f]=F+"Month",B[N]=F+"FullYear",B[M]=F+"Hours",B[g]=F+"Minutes",B[S]=F+"Seconds",B[p]=F+"Milliseconds",B)[ce],C=ce===d?this.$D+(O-this.$W):O;if(ce===f||ce===N){var _=this.clone().set(q,1);_.$d[y](C),_.init(),this.$d=_.set(q,Math.min(this.$D,_.daysInMonth())).$d}else y&&this.$d[y](C);return this.init(),this},R.set=function(j,O){return this.clone().$set(j,O)},R.get=function(j){return this[w.p(j)]()},R.add=function(j,O){var B,ce=this;j=Number(j);var F=w.p(O),y=function(U){var le=oe(ce);return w.w(le.date(le.date()+Math.round(U*j)),ce)};if(F===f)return this.set(f,this.$M+j);if(F===N)return this.set(N,this.$y+j);if(F===d)return y(1);if(F===o)return y(7);var C=(B={},B[g]=m,B[M]=E,B[S]=u,B)[F]||1,_=this.$d.getTime()+j*C;return w.w(_,this)},R.subtract=function(j,O){return this.add(-1*j,O)},R.format=function(j){var O=this,B=this.$locale();if(!this.isValid())return B.invalidDate||A;var ce=j||"YYYY-MM-DDTHH:mm:ssZ",F=w.z(this),y=this.$H,C=this.$m,_=this.$M,U=B.weekdays,le=B.months,re=B.meridiem,ue=function(ve,Se,Ye,We){return ve&&(ve[Se]||ve(O,ce))||Ye[Se].slice(0,We)},de=function(ve){return w.s(y%12||12,ve,"0")},pe=re||function(ve,Se,Ye){var We=ve<12?"AM":"PM";return Ye?We.toLowerCase():We};return ce.replace($,(function(ve,Se){return Se||(function(Ye){switch(Ye){case"YY":return String(O.$y).slice(-2);case"YYYY":return w.s(O.$y,4,"0");case"M":return _+1;case"MM":return w.s(_+1,2,"0");case"MMM":return ue(B.monthsShort,_,le,3);case"MMMM":return ue(le,_);case"D":return O.$D;case"DD":return w.s(O.$D,2,"0");case"d":return String(O.$W);case"dd":return ue(B.weekdaysMin,O.$W,U,2);case"ddd":return ue(B.weekdaysShort,O.$W,U,3);case"dddd":return U[O.$W];case"H":return String(y);case"HH":return w.s(y,2,"0");case"h":return de(1);case"hh":return de(2);case"a":return pe(y,C,!0);case"A":return pe(y,C,!1);case"m":return String(C);case"mm":return w.s(C,2,"0");case"s":return String(O.$s);case"ss":return w.s(O.$s,2,"0");case"SSS":return w.s(O.$ms,3,"0");case"Z":return F}return null})(ve)||F.replace(":","")}))},R.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},R.diff=function(j,O,B){var ce,F=this,y=w.p(O),C=oe(j),_=(C.utcOffset()-this.utcOffset())*m,U=this-C,le=function(){return w.m(F,C)};switch(y){case N:ce=le()/12;break;case f:ce=le();break;case x:ce=le()/3;break;case o:ce=(U-_)/6048e5;break;case d:ce=(U-_)/864e5;break;case M:ce=U/E;break;case g:ce=U/m;break;case S:ce=U/u;break;default:ce=U}return B?ce:w.a(ce)},R.daysInMonth=function(){return this.endOf(f).$D},R.$locale=function(){return te[this.$L]},R.locale=function(j,O){if(!j)return this.$L;var B=this.clone(),ce=I(j,O,!0);return ce&&(B.$L=ce),B},R.clone=function(){return w.w(this.$d,this)},R.toDate=function(){return new Date(this.valueOf())},R.toJSON=function(){return this.isValid()?this.toISOString():null},R.toISOString=function(){return this.$d.toISOString()},R.toString=function(){return this.$d.toUTCString()},J})(),ne=ae.prototype;return oe.prototype=ne,[["$ms",p],["$s",S],["$m",g],["$H",M],["$W",d],["$M",f],["$y",N],["$D",q]].forEach((function(J){ne[J[1]]=function(R){return this.$g(R,J[0],J[1])}})),oe.extend=function(J,R){return J.$i||(J(R,ae,oe),J.$i=!0),oe},oe.locale=I,oe.isDayjs=fe,oe.unix=function(J){return oe(1e3*J)},oe.en=te[ie],oe.Ls=te,oe.p={},oe}))})(xc)),xc.exports}var O1=z1();const T1=Jo(O1),_1=({isOpen:c,onClose:h,settings:u,onUpdateSettings:m,onImportSave:E})=>{const p=X.useRef(null),S="xiuxian-game-save";if(!c)return null;const g=async d=>{var x;const o=(x=d.target.files)==null?void 0:x[0];if(!o)return;const f=o.name.toLowerCase();if(!f.endsWith(".json")&&!f.endsWith(".txt")){alert(" .json  .txt ");return}try{const N=await o.text();let q;try{q=JSON.parse(N)}catch(V){alert("JSON"),console.error("JSON:",V);return}if(!q||typeof q!="object"){alert("JSON");return}if(!q.player||typeof q.player!="object"){alert("");return}if(!Array.isArray(q.logs)){alert("");return}const A=q.player.name||"",H=q.player.realm||"",$=q.timestamp?new Date(q.timestamp).toLocaleString("zh-CN"):"";if(!window.confirm(`

: ${A}
: ${H}
: ${$}

`))return;localStorage.setItem(S,JSON.stringify(q)),alert("..."),window.location.reload()}catch(N){console.error(":",N),alert(`
: ${N instanceof Error?N.message:""}
`)}p.current&&(p.current.value="")},M=()=>{var d;try{const o=localStorage.getItem(S);if(!o){alert("");return}let f;try{f=JSON.parse(o)}catch{alert("");return}const N=`xiuxian-save-${((d=f.player)==null?void 0:d.name)||"player"}-${T1().format("YYYY-MM-DD HH:mm:ss")}.json`,q=new Blob([o],{type:"application/json"}),A=URL.createObjectURL(q),H=document.createElement("a");H.href=A,H.download=N,document.body.appendChild(H),H.click(),document.body.removeChild(H),URL.revokeObjectURL(A),alert("")}catch(o){console.error(":",o),alert(`
: ${o instanceof Error?o.message:""}`)}};return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-end md:items-center justify-center z-50 p-0 md:p-4 touch-manipulation",onClick:h,children:s.jsxs("div",{className:"bg-stone-800 md:rounded-t-2xl md:rounded-b-lg border-0 md:border border-stone-700 w-full h-[80vh] md:h-auto md:max-w-md md:max-h-[90vh] flex flex-col",onClick:d=>d.stopPropagation(),children:[s.jsxs("div",{className:"bg-stone-800 border-b border-stone-700 p-3 md:p-4 flex justify-between items-center md:rounded-t-2xl flex-shrink-0",children:[s.jsx("h2",{className:"text-lg md:text-xl font-serif text-mystic-gold",children:""}),s.jsx("button",{onClick:h,className:"text-stone-400 active:text-white min-w-[44px] min-h-[44px] flex items-center justify-center touch-manipulation",children:s.jsx(ct,{size:24})})]}),s.jsxs("div",{className:"p-6 space-y-6 overflow-y-auto flex-1",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[s.jsx(xy,{size:20,className:"text-stone-400"}),s.jsx("h3",{className:"font-bold",children:""})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("label",{className:"flex items-center justify-between cursor-pointer",children:[s.jsx("span",{className:"text-stone-300",children:""}),s.jsx("input",{type:"checkbox",checked:u.soundEnabled,onChange:d=>m({soundEnabled:d.target.checked}),className:"w-5 h-5"})]}),u.soundEnabled&&s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm text-stone-400 mb-2",children:[": ",u.soundVolume,"%"]}),s.jsx("input",{type:"range",min:"0",max:"100",value:u.soundVolume,onChange:d=>m({soundVolume:parseInt(d.target.value)}),className:"w-full"})]})]})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[s.jsx($x,{size:20,className:"text-stone-400"}),s.jsx("h3",{className:"font-bold",children:""})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("label",{className:"flex items-center justify-between cursor-pointer",children:[s.jsx("span",{className:"text-stone-300",children:""}),s.jsx("input",{type:"checkbox",checked:u.musicEnabled,onChange:d=>m({musicEnabled:d.target.checked}),className:"w-5 h-5"})]}),u.musicEnabled&&s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm text-stone-400 mb-2",children:[": ",u.musicVolume,"%"]}),s.jsx("input",{type:"range",min:"0",max:"100",value:u.musicVolume,onChange:d=>m({musicVolume:parseInt(d.target.value)}),className:"w-full"})]})]})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[s.jsx(X0,{size:20,className:"text-stone-400"}),s.jsx("h3",{className:"font-bold",children:""})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("label",{className:"flex items-center justify-between cursor-pointer",children:[s.jsx("span",{className:"text-stone-300",children:""}),s.jsx("input",{type:"checkbox",checked:u.autoSave,onChange:d=>m({autoSave:d.target.checked}),className:"w-5 h-5"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-stone-400 mb-2",children:""}),s.jsxs("select",{value:u.animationSpeed,onChange:d=>m({animationSpeed:d.target.value}),className:"w-full bg-stone-900 border border-stone-700 rounded px-3 py-2 text-stone-200",children:[s.jsx("option",{value:"slow",children:""}),s.jsx("option",{value:"normal",children:""}),s.jsx("option",{value:"fast",children:""})]})]})]})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[s.jsx(X0,{size:20,className:"text-stone-400"}),s.jsx("h3",{className:"font-bold",children:""})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-stone-400 mb-2",children:""}),s.jsxs("button",{onClick:M,className:"w-full bg-stone-700 hover:bg-stone-600 text-stone-200 border border-stone-600 rounded px-4 py-2 flex items-center justify-center transition-colors",children:[s.jsx(px,{size:16,className:"mr-2"})," (.json)"]}),s.jsx("p",{className:"text-xs text-stone-500 mt-2",children:" JSON "})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-stone-400 mb-2",children:""}),s.jsx("input",{ref:p,type:"file",accept:".json,.txt",onChange:g,className:"hidden",id:"import-save-input"}),s.jsxs("label",{htmlFor:"import-save-input",className:"block w-full bg-stone-700 hover:bg-stone-600 text-stone-200 border border-stone-600 rounded px-4 py-2 text-center cursor-pointer transition-colors",children:[s.jsx(dy,{size:16,className:"inline mr-2"})," (.json  .txt)"]}),s.jsx("p",{className:"text-xs text-stone-500 mt-2",children:" .json  .txt "})]})]})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[s.jsx(Ax,{size:20,className:"text-stone-400"}),s.jsx("h3",{className:"font-bold",children:""})]}),s.jsxs("select",{value:u.language,onChange:d=>m({language:d.target.value}),className:"w-full bg-stone-900 border border-stone-700 rounded px-3 py-2 text-stone-200",children:[s.jsx("option",{value:"zh",children:""}),s.jsx("option",{value:"en",children:"English"})]})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[s.jsx(L0,{size:20,className:"text-stone-400"}),s.jsx("h3",{className:"font-bold",children:""})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("a",{href:"https://github.com/JeasonLoop/react-xiuxian-game",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 w-full bg-stone-700 hover:bg-stone-600 text-stone-200 border border-stone-600 rounded px-4 py-2 transition-colors",children:[s.jsx(L0,{size:16}),s.jsx("span",{children:"GitHub "}),s.jsx("span",{className:"ml-auto text-xs text-stone-400",children:""})]}),s.jsx("p",{className:"text-xs text-stone-500",children:" Star  Fork"})]})]})]})]})})},H1={[Et.Village]:[{name:"",type:v.Herb,description:"",rarity:"",price:10,sellPrice:3,effect:{hp:20}},{name:"",type:v.Material,description:"",rarity:"",price:15,sellPrice:5},{name:"",type:v.Pill,description:"",rarity:"",price:30,sellPrice:10,effect:{exp:50}},{name:"",type:v.Weapon,description:"",rarity:"",price:50,sellPrice:15,isEquippable:!0,equipmentSlot:k.Weapon,effect:{attack:3}},{name:"",type:v.Pill,description:"",rarity:"",price:20,sellPrice:7,effect:{hp:30}}],[Et.City]:[{name:"",type:v.Herb,description:"",rarity:"",price:80,sellPrice:25},{name:"",type:v.Pill,description:"",rarity:"",price:150,sellPrice:50,effect:{hp:50}},{name:"",type:v.Weapon,description:"",rarity:"",price:200,sellPrice:60,isEquippable:!0,equipmentSlot:k.Weapon,effect:{attack:15}},{name:"",type:v.Pill,description:"",rarity:"",price:120,sellPrice:40,effect:{spirit:10}},{name:"",type:v.Pill,description:"",rarity:"",price:120,sellPrice:40,effect:{physique:10}},{name:"",type:v.Material,description:"",rarity:"",price:50,sellPrice:15}],[Et.Sect]:[{name:"",type:v.Pill,description:"",rarity:"",price:1e3,sellPrice:300,effect:{exp:500}},{name:"",type:v.Material,description:"",rarity:"",price:500,sellPrice:150},{name:"",type:v.Pill,description:"",rarity:"",price:200,sellPrice:60,effect:{spirit:15}},{name:"",type:v.Pill,description:"",rarity:"",price:200,sellPrice:60,effect:{physique:15}}]},im=[{name:"",type:v.Herb,description:"",rarity:"",price:2e3,sellPrice:600,effect:{hp:200,exp:200}},{name:"",type:v.Weapon,description:"",rarity:"",price:5e3,sellPrice:1500,isEquippable:!0,equipmentSlot:k.Weapon,effect:{attack:80,speed:20},minRealm:me.QiRefining},{name:"",type:v.Weapon,description:"",rarity:"",price:25e5,sellPrice:25e5,isEquippable:!0,equipmentSlot:k.Weapon,effect:{attack:1e5,physique:1e5,spirit:1e5,hp:1e5,speed:1e5},reviveChances:5,minRealm:me.QiRefining},{name:"",type:v.Pill,description:"",rarity:"",price:3e3,sellPrice:900,effect:{exp:1e3}},{name:"",type:v.Armor,description:"",rarity:"",price:4e3,sellPrice:1200,isEquippable:!0,equipmentSlot:k.Chest,effect:{defense:60,hp:100},minRealm:me.QiRefining},{name:"",type:v.Herb,description:"",rarity:"",price:1e4,sellPrice:3e3,effect:{hp:500,exp:500}},{name:"",type:v.Pill,description:"",rarity:"",price:15e3,sellPrice:4500,effect:{attack:50,defense:50,spirit:50,physique:50,speed:50}}];function D1(c,h,u=!1){const m=H1[c],E=Ae.indexOf(h),p=c===Et.Village?3:c===Et.City?4:5,S=c===Et.Village?5:c===Et.City?6:7,g=p+Math.floor(Math.random()*(S-p+1)),M=[],d=new Set;for(let o=0;o<g;o++){let f=0,x=m[Math.floor(Math.random()*m.length)];for(;d.has(x.name)&&f<10&&d.size<m.length;)x=m[Math.floor(Math.random()*m.length)],f++;if(d.add(x.name),x.minRealm){const N=Ae.indexOf(x.minRealm);if(E<N)continue}M.push({...x,id:`shop-${c}-${pt()}`})}if(u&&Math.random()<.1){const o=im[Math.floor(Math.random()*im.length)];(!o.minRealm||E>=Ae.indexOf(o.minRealm))&&M.push({...o,id:`shop-premium-${pt()}`})}return M}const $1=({isOpen:c,onClose:h,shop:u,player:m,onBuyItem:E,onSellItem:p,onRefreshShop:S})=>{const[g,M]=X.useState("buy"),[d,o]=X.useState({}),[f,x]=X.useState("all"),[N,q]=X.useState(new Set),[A,H]=X.useState("all");if(!c)return null;const $=w=>{switch(w){case"":return"text-blue-400 border-blue-600";case"":return"text-purple-400 border-purple-600";case"":return"text-yellow-400 border-yellow-600";default:return"text-gray-400 border-gray-600"}},V=w=>{if(m.spiritStones<w.price)return!1;if(w.minRealm){const ae=Ae.indexOf(w.minRealm);return Ae.indexOf(m.realm)>=ae}return!0},T=w=>{switch(w){case"":return"text-green-400";case"":return"text-blue-400";case"":return"text-purple-400";default:return"text-stone-400"}},K=X.useMemo(()=>{let w=u.items.filter(ae=>{if(!ae.minRealm)return!0;const ne=Ae.indexOf(ae.minRealm);return Ae.indexOf(m.realm)>=ne});return f!=="all"&&(w=w.filter(ae=>ae.type===f)),w},[u.items,m.realm,f]),ie=w=>{const ae=w.rarity||"",ne=w.level||0;let R={:10,:50,:300,:2e3}[ae],j=0;const O=an[ae];if(w.effect){const C=w.effect;j+=(C.attack||0)*2,j+=(C.defense||0)*1.5,j+=(C.hp||0)*.5,j+=(C.spirit||0)*1.5,j+=(C.physique||0)*1.5,j+=(C.speed||0)*2,j+=(C.exp||0)*.1}if(w.permanentEffect){const C=w.permanentEffect;j+=(C.attack||0)*10,j+=(C.defense||0)*8,j+=(C.maxHp||0)*3,j+=(C.spirit||0)*8,j+=(C.physique||0)*8,j+=(C.speed||0)*10}j=Math.floor(j*O);let B=0;if(w.isEquippable)switch(w.type){case v.Weapon:B=R*1.5;break;case v.Armor:B=R*1.2;break;case v.Artifact:B=R*2;break;case v.Ring:case v.Accessory:B=R*1.3;break}const ce=1+ne*.2,F=(R+j+B)*ce;let y=1;return w.type===v.Herb||w.type===v.Pill?y=.5:w.type===v.Material&&(y=.3),Math.max(1,Math.floor(F*y))},te=X.useMemo(()=>m.inventory.filter(ae=>!(Object.values(m.equippedItems).includes(ae.id)||f!=="all"&&ae.type!==f||A!=="all"&&ae.rarity!==A)),[m.inventory,m.equippedItems,f,A]),P=X.useMemo(()=>{if(g==="buy"){const w=new Set;return u.items.filter(ae=>{if(!ae.minRealm)return!0;const ne=Ae.indexOf(ae.minRealm);return Ae.indexOf(m.realm)>=ne}).forEach(ae=>w.add(ae.type)),Array.from(w)}else{const w=new Set;return m.inventory.filter(ae=>!Object.values(m.equippedItems).includes(ae.id)).forEach(ae=>w.add(ae.type)),Array.from(w)}},[g,u.items,m.realm,m.inventory,m.equippedItems]);Wt.useEffect(()=>{f!=="all"&&!P.includes(f)&&x("all"),q(new Set)},[g,P,f]);const fe=w=>{q(ae=>{const ne=new Set(ae);return ne.has(w)?ne.delete(w):ne.add(w),ne})},I=()=>{N.size===te.length?q(new Set):q(new Set(te.map(w=>w.id)))},oe=()=>{if(N.size===0)return;const w=te.filter(ne=>N.has(ne.id));let ae=0;w.forEach(ne=>{const J=u.items.find(j=>j.name===ne.name),R=(J==null?void 0:J.sellPrice)||ie(ne);ae+=R*ne.quantity}),window.confirm(` ${N.size}  ${ae} `)&&(w.forEach(ne=>{p(ne)}),q(new Set))};return s.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-end md:items-center justify-center z-50 p-0 md:p-4 backdrop-blur-sm touch-manipulation",onClick:h,children:s.jsxs("div",{className:"bg-paper-800 w-full h-[80vh] md:h-auto md:max-w-4xl md:rounded-t-2xl md:rounded-b-lg border-0 md:border border-stone-600 shadow-2xl flex flex-col md:max-h-[90vh]",onClick:w=>w.stopPropagation(),children:[s.jsxs("div",{className:"p-3 md:p-4 border-b border-stone-600 flex justify-between items-center bg-ink-800 md:rounded-t",children:[s.jsxs("div",{children:[s.jsxs("h3",{className:"text-lg md:text-xl font-serif text-mystic-gold flex items-center gap-2",children:[s.jsx(hm,{size:18,className:"md:w-5 md:h-5"}),u.name]}),s.jsx("p",{className:"text-sm text-stone-400 mt-1",children:u.description})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[S&&s.jsxs("button",{onClick:()=>{if(m.spiritStones<100){alert("100");return}if(window.confirm(" 100 ")){const ae=D1(u.type,m.realm,!0);S(ae)}},className:"flex items-center gap-1 px-3 py-1.5 bg-stone-700 hover:bg-stone-600 text-stone-200 rounded border border-stone-600 transition-colors text-sm",title:"100",children:[s.jsx(ws,{size:16}),s.jsx("span",{className:"hidden md:inline",children:""}),s.jsx("span",{className:"text-xs text-stone-400",children:"(100)"})]}),s.jsx("button",{onClick:h,className:"text-stone-400 active:text-white min-w-[44px] min-h-[44px] flex items-center justify-center touch-manipulation",children:s.jsx(ct,{size:24})})]})]}),s.jsxs("div",{className:"flex border-b border-stone-600 bg-stone-900",children:[s.jsx("button",{onClick:()=>M("buy"),className:`flex-1 px-4 py-3 font-bold transition-colors ${g==="buy"?"bg-ink-800 text-mystic-gold border-b-2 border-mystic-gold":"text-stone-400 hover:text-stone-200"}`,children:""}),s.jsx("button",{onClick:()=>M("sell"),className:`flex-1 px-4 py-3 font-bold transition-colors ${g==="sell"?"bg-ink-800 text-mystic-gold border-b-2 border-mystic-gold":"text-stone-400 hover:text-stone-200"}`,children:""})]}),s.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:g==="buy"?s.jsxs("div",{children:[s.jsxs("div",{className:"mb-4 flex flex-col gap-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("span",{className:"text-stone-400",children:[":"," ",s.jsx("span",{className:"text-mystic-gold font-bold",children:m.spiritStones})]}),s.jsx("span",{className:`text-sm ${T(u.type)}`,children:u.type})]}),s.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[s.jsxs("div",{className:"flex items-center gap-2 text-stone-400 text-sm",children:[s.jsx(Tl,{size:16}),s.jsx("span",{children:":"})]}),s.jsx("button",{onClick:()=>x("all"),className:`px-3 py-1.5 rounded text-sm font-medium transition-colors ${f==="all"?"bg-mystic-gold/20 text-mystic-gold border border-mystic-gold/50":"bg-stone-800 text-stone-400 hover:text-stone-200 border border-stone-700"}`,children:""}),P.map(w=>s.jsx("button",{onClick:()=>x(w),className:`px-3 py-1.5 rounded text-sm font-medium transition-colors ${f===w?"bg-mystic-gold/20 text-mystic-gold border border-mystic-gold/50":"bg-stone-800 text-stone-400 hover:text-stone-200 border border-stone-700"}`,children:w},w))]})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:K.length===0?s.jsx("div",{className:"col-span-full text-center text-stone-500 py-10",children:""}):K.map(w=>{const ae=V(w);return s.jsxs("div",{className:`bg-stone-900 rounded-lg p-4 border-2 ${ae?$(w.rarity).split(" ")[1]:"border-stone-700 opacity-60"}`,children:[s.jsxs("div",{className:"flex justify-between items-start mb-2",children:[s.jsxs("div",{children:[s.jsx("h4",{className:`font-bold ${$(w.rarity).split(" ")[0]}`,children:w.name}),s.jsx("span",{className:"text-xs text-stone-500",children:w.type})]}),s.jsx("span",{className:`text-xs px-2 py-1 rounded ${$(w.rarity).split(" ")[1]} ${$(w.rarity).split(" ")[0]}`,children:w.rarity})]}),s.jsx("p",{className:"text-sm text-stone-400 mb-3",children:w.description}),w.effect&&s.jsxs("div",{className:"text-xs text-stone-400 mb-3 space-y-1",children:[w.effect.attack&&s.jsxs("div",{children:[" +",w.effect.attack]}),w.effect.defense&&s.jsxs("div",{children:[" +",w.effect.defense]}),w.effect.hp&&s.jsxs("div",{children:[" +",w.effect.hp]}),w.effect.exp&&s.jsxs("div",{children:[" +",w.effect.exp]})]}),w.minRealm&&s.jsxs("div",{className:"text-xs text-stone-500 mb-2",children:[": ",w.minRealm]}),s.jsxs("div",{className:"flex items-center justify-between mt-3",children:[s.jsxs("div",{className:"flex items-center gap-1 text-mystic-gold",children:[s.jsx(Lo,{size:16}),s.jsx("span",{className:"font-bold",children:w.price}),d[w.id]>1&&s.jsxs("span",{className:"text-xs text-stone-400 ml-1",children:["x",d[w.id]," ="," ",w.price*d[w.id]]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("div",{className:"flex items-center gap-1 border border-stone-600 rounded",children:[s.jsx("button",{onClick:()=>o(ne=>({...ne,[w.id]:Math.max(1,(ne[w.id]||1)-1)})),className:"px-2 py-1 text-stone-400 hover:text-white",children:"-"}),s.jsx("input",{type:"number",min:"1",value:d[w.id]||1,onChange:ne=>{const J=Math.max(1,parseInt(ne.target.value)||1);o(R=>({...R,[w.id]:J}))},className:"w-12 text-center bg-transparent text-stone-200 border-0 focus:outline-none"}),s.jsx("button",{onClick:()=>o(ne=>({...ne,[w.id]:(ne[w.id]||1)+1})),className:"px-2 py-1 text-stone-400 hover:text-white",children:"+"})]}),s.jsx("button",{onClick:()=>{const ne=d[w.id]||1;E(w,ne),o(J=>({...J,[w.id]:1}))},disabled:!ae||w.price*(d[w.id]||1)>m.spiritStones,className:`px-4 py-2 rounded text-sm font-bold transition-colors ${ae&&w.price*(d[w.id]||1)<=m.spiritStones?"bg-mystic-gold/20 hover:bg-mystic-gold/30 text-mystic-gold border border-mystic-gold/50":"bg-stone-700 text-stone-500 cursor-not-allowed"}`,children:""})]})]})]},w.id)})})]}):s.jsxs("div",{children:[s.jsxs("div",{className:"mb-4 flex flex-col gap-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("span",{className:"text-stone-400",children:[":"," ",s.jsx("span",{className:"text-mystic-gold font-bold",children:m.spiritStones})]}),s.jsxs("span",{className:"text-sm text-stone-500",children:[": ",te.length]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("button",{onClick:I,className:"px-3 py-1.5 bg-stone-700 hover:bg-stone-600 text-stone-300 rounded text-sm border border-stone-600",children:N.size===te.length?"":""}),s.jsxs("span",{className:"text-sm text-stone-400",children:[": ",N.size," / ",te.length]})]}),s.jsxs("button",{onClick:oe,disabled:N.size===0,className:`px-4 py-2 rounded text-sm font-bold transition-colors flex items-center gap-2 ${N.size>0?"bg-green-900/20 hover:bg-green-900/30 text-green-400 border border-green-700/50":"bg-stone-700 text-stone-500 cursor-not-allowed border border-stone-600"}`,children:[s.jsx(xm,{size:16})," (",N.size,")"]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[s.jsxs("div",{className:"flex items-center gap-2 text-stone-400 text-sm",children:[s.jsx(Tl,{size:16}),s.jsx("span",{children:":"})]}),s.jsx("button",{onClick:()=>{x("all"),q(new Set)},className:`px-3 py-1.5 rounded text-sm font-medium transition-colors ${f==="all"?"bg-mystic-gold/20 text-mystic-gold border border-mystic-gold/50":"bg-stone-800 text-stone-400 hover:text-stone-200 border border-stone-700"}`,children:""}),P.map(w=>s.jsx("button",{onClick:()=>{x(w),q(new Set)},className:`px-3 py-1.5 rounded text-sm font-medium transition-colors ${f===w?"bg-mystic-gold/20 text-mystic-gold border border-mystic-gold/50":"bg-stone-800 text-stone-400 hover:text-stone-200 border border-stone-700"}`,children:w},w))]}),s.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[s.jsxs("div",{className:"flex items-center gap-2 text-stone-400 text-sm",children:[s.jsx(Tl,{size:16}),s.jsx("span",{children:":"})]}),["all","","","",""].map(w=>s.jsx("button",{onClick:()=>{H(w),q(new Set)},className:`px-3 py-1.5 rounded text-sm font-medium transition-colors ${A===w?"bg-mystic-gold/20 text-mystic-gold border border-mystic-gold/50":"bg-stone-800 text-stone-400 hover:text-stone-200 border border-stone-700"}`,children:w==="all"?"":w},w))]})]})]}),te.length===0?s.jsxs("div",{className:"text-center text-stone-500 py-10",children:[s.jsx(yc,{size:48,className:"mx-auto mb-4 opacity-50"}),s.jsx("p",{children:""})]}):s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:te.map(w=>{const ae=u.items.find(j=>j.name===w.name),ne=(ae==null?void 0:ae.sellPrice)||ie(w),J=w.rarity||"",R=N.has(w.id);return s.jsxs("div",{className:`bg-stone-900 rounded-lg p-4 border-2 cursor-pointer transition-colors ${R?"bg-green-900/30 border-green-600":$(J).split(" ")[1]}`,onClick:()=>fe(w.id),children:[s.jsxs("div",{className:"flex items-start gap-2 mb-2",children:[s.jsx("input",{type:"checkbox",checked:R,onChange:()=>fe(w.id),onClick:j=>j.stopPropagation(),className:"mt-1"}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("h4",{className:`font-bold ${$(J).split(" ")[0]}`,children:[w.name,w.level&&w.level>0&&s.jsxs("span",{className:"text-xs text-stone-500 ml-1",children:["+",w.level]})]}),s.jsx("span",{className:"text-xs text-stone-500",children:w.type})]}),s.jsxs("span",{className:"text-xs bg-stone-700 text-stone-300 px-1.5 py-0.5 rounded",children:["x",w.quantity]})]}),s.jsx("p",{className:"text-sm text-stone-400 mb-3",children:w.description}),w.effect&&s.jsxs("div",{className:"text-xs text-stone-400 mb-3 space-y-1",children:[w.effect.attack&&s.jsxs("div",{children:[" +",w.effect.attack]}),w.effect.defense&&s.jsxs("div",{children:[" +",w.effect.defense]}),w.effect.hp&&s.jsxs("div",{children:[" +",w.effect.hp]}),w.effect.exp&&s.jsxs("div",{children:[" +",w.effect.exp]})]}),s.jsxs("div",{className:"flex items-center justify-between mt-3",children:[s.jsxs("div",{className:"flex items-center gap-1 text-green-400",children:[s.jsx(Lo,{size:16}),s.jsx("span",{className:"font-bold",children:ne}),w.quantity>1&&s.jsxs("span",{className:"text-xs text-stone-500",children:["(: ",ne*w.quantity,")"]})]}),s.jsx("button",{onClick:j=>{j.stopPropagation(),p(w)},className:"px-4 py-2 bg-green-900/20 hover:bg-green-900/30 text-green-400 rounded text-sm font-bold transition-colors border border-green-700/50",children:""})]})]},w.id)})})]})})]})})};function U1({player:c,settings:h,setItemActionLog:u,modals:m,modalState:E,handlers:p}){return s.jsxs(s.Fragment,{children:[s.jsx(A1,{isOpen:m.isBattleModalOpen,replay:E.battleReplay,revealedRounds:E.revealedBattleRounds,onSkip:p.handleSkipBattleLogs,onClose:p.handleCloseBattleModal}),s.jsx(f1,{isOpen:m.isInventoryOpen,onClose:()=>p.setIsInventoryOpen(!1),inventory:c.inventory,equippedItems:c.equippedItems,player:c,onUseItem:p.handleUseItem,onEquipItem:p.handleEquipItem,onUnequipItem:p.handleUnequipItem,onUpgradeItem:p.handleOpenUpgrade,onDiscardItem:p.handleDiscardItem,onBatchDiscard:p.handleBatchDiscard,onRefineNatalArtifact:p.handleRefineNatalArtifact,onUnrefineNatalArtifact:p.handleUnrefineNatalArtifact}),s.jsx(m1,{isOpen:m.isCultivationOpen,onClose:()=>p.setIsCultivationOpen(!1),player:c,onLearnArt:p.handleLearnArt,onActivateArt:p.handleActivateArt}),s.jsx(p1,{isOpen:m.isAlchemyOpen,onClose:()=>p.setIsAlchemyOpen(!1),player:c,onCraft:p.handleCraft}),s.jsx(h1,{isOpen:m.isUpgradeOpen,onClose:()=>{p.setIsUpgradeOpen(!1),p.setItemToUpgrade(null)},item:E.itemToUpgrade,player:c,onConfirm:p.handleUpgradeItem,setItemActionLog:u}),s.jsx(M1,{isOpen:m.isSectOpen,onClose:()=>p.setIsSectOpen(!1),player:c,onJoinSect:p.handleJoinSect,onLeaveSect:p.handleLeaveSect,onSafeLeaveSect:p.handleSafeLeaveSect,onTask:p.handleSectTask,onPromote:p.handleSectPromote,onBuy:p.handleSectBuy}),s.jsx(q1,{isOpen:m.isRealmOpen,onClose:()=>p.setIsRealmOpen(!1),player:c,onEnter:p.handleEnterRealm}),s.jsx(w1,{isOpen:m.isCharacterOpen,onClose:()=>p.setIsCharacterOpen(!1),player:c,onSelectTalent:p.handleSelectTalent,onSelectTitle:p.handleSelectTitle,onAllocateAttribute:p.handleAllocateAttribute,onUseInheritance:p.handleUseInheritance}),s.jsx(C1,{isOpen:m.isAchievementOpen,onClose:()=>p.setIsAchievementOpen(!1),player:c}),s.jsx(E1,{isOpen:m.isPetOpen,onClose:()=>p.setIsPetOpen(!1),player:c,onActivatePet:p.handleActivatePet,onFeedPet:p.handleFeedPet,onEvolvePet:p.handleEvolvePet}),s.jsx(k1,{isOpen:m.isLotteryOpen,onClose:()=>p.setIsLotteryOpen(!1),player:c,onDraw:p.handleDraw}),s.jsx(_1,{isOpen:m.isSettingsOpen,onClose:()=>p.setIsSettingsOpen(!1),settings:h,onUpdateSettings:p.handleUpdateSettings}),E.currentShop&&s.jsx($1,{isOpen:m.isShopOpen,onClose:()=>{p.setIsShopOpen(!1),p.setCurrentShop(null)},shop:E.currentShop,player:c,onBuyItem:p.handleBuyItem,onSellItem:p.handleSellItem,onRefreshShop:p.handleRefreshShop})]})}function B1({setPlayer:c,addLog:h,currentShop:u,setCurrentShop:m,setIsShopOpen:E,setPurchaseSuccess:p}){return{handleOpenShop:d=>{const o=My.find(f=>f.type===d);o&&(m(o),E(!0),h(`${o.name}`,"normal"))},handleBuyItem:(d,o=1)=>{c(f=>{const x=d.price*o;if(f.spiritStones<x)return h("","danger"),f;if(d.minRealm){const H=Ae.indexOf(d.minRealm);if(Ae.indexOf(f.realm)<H)return h(` ${d.minRealm} `,"danger"),f}const N=[...f.inventory],q=d.isEquippable&&d.equipmentSlot,A=N.findIndex(H=>H.name===d.name);if(A>=0&&!q)N[A]={...N[A],quantity:N[A].quantity+o};else{const H=q?o:1,$=q?1:o;for(let V=0;V<H;V++){const T={id:pt(),name:d.name,type:d.type,description:d.description,quantity:$,rarity:d.rarity,level:0,isEquippable:d.isEquippable,equipmentSlot:d.equipmentSlot,effect:d.effect};N.push(T)}}return h(` ${x}  ${d.name} x${o}`,"gain"),p({item:d.name,quantity:o}),setTimeout(()=>p(null),2e3),{...f,spiritStones:f.spiritStones-x,inventory:N}})},handleSellItem:d=>{u&&c(o=>{if(Object.values(o.equippedItems).includes(d.id))return h("","danger"),o;const x=u.items.find(A=>A.name===d.name),N=(x==null?void 0:x.sellPrice)||zy(d),q=o.inventory.map(A=>A.id===d.id?{...A,quantity:A.quantity-1}:A).filter(A=>A.quantity>0);return h(` ${d.name} ${N} `,"gain"),{...o,spiritStones:o.spiritStones+N,inventory:q}})}}}function G1({setSettings:c}){return{handleUpdateSettings:u=>{c(m=>({...m,...u}))}}}function Y1({player:c,setPlayer:h,addLog:u,loading:m,cooldown:E,setIsRealmOpen:p,executeAdventure:S}){return{handleEnterRealm:async M=>{if(!(m||E>0||!c)){if(c.hp<c.maxHp*.3){u("","danger");return}if(c.spiritStones<M.cost){u("","danger");return}h(d=>({...d,spiritStones:d.spiritStones-M.cost})),p(!1),await S("secret_realm",M.name,M.riskLevel,M.minRealm,M.description)}}}}const cm=()=>Math.random().toString(36).slice(2,9),L1=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],Q1=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],Am=(c,h)=>c==="secret_realm"&&h?{:1,:1.25,:1.5,:2}[h]:{normal:1,lucky:.85,secret_realm:1.25}[c],V1={normal:.22,lucky:.08,secret_realm:.45},Dl=c=>c[Math.floor(Math.random()*c.length)],ya={herbs:[{name:"",type:v.Herb,rarity:"",effect:{hp:20}},{name:"",type:v.Herb,rarity:""},{name:"",type:v.Herb,rarity:"",effect:{hp:30}},{name:"",type:v.Herb,rarity:"",effect:{hp:50,spirit:5}},{name:"",type:v.Herb,rarity:"",effect:{hp:80}},{name:"",type:v.Herb,rarity:"",effect:{hp:150,maxHp:20}},{name:"",type:v.Herb,rarity:"",effect:{hp:300,maxHp:50}}],pills:[{name:"",type:v.Pill,rarity:"",effect:{hp:50}},{name:"",type:v.Pill,rarity:"",effect:{exp:20}},{name:"",type:v.Pill,rarity:"",permanentEffect:{physique:5}},{name:"",type:v.Pill,rarity:"",permanentEffect:{spirit:5}},{name:"",type:v.Pill,rarity:"",effect:{exp:100}},{name:"",type:v.Pill,rarity:"",effect:{exp:200}},{name:"",type:v.Pill,rarity:"",effect:{exp:500},permanentEffect:{maxHp:100}}],materials:[{name:"",type:v.Material,rarity:""},{name:"",type:v.Material,rarity:""},{name:"",type:v.Material,rarity:""},{name:"",type:v.Material,rarity:""},{name:"",type:v.Material,rarity:""},{name:"",type:v.Material,rarity:""},{name:"",type:v.Material,rarity:""},{name:"",type:v.Material,rarity:""}],weapons:[{name:"",type:v.Weapon,rarity:"",slot:k.Weapon,effect:{attack:10}},{name:"",type:v.Weapon,rarity:"",slot:k.Weapon,effect:{attack:30}},{name:"",type:v.Weapon,rarity:"",slot:k.Weapon,effect:{attack:80,speed:10}},{name:"",type:v.Weapon,rarity:"",slot:k.Weapon,effect:{attack:200,spirit:50}}],armors:[{name:"",type:v.Armor,rarity:"",slot:k.Head,effect:{defense:3,hp:15}},{name:"",type:v.Armor,rarity:"",slot:k.Shoulder,effect:{defense:3,hp:15}},{name:"",type:v.Armor,rarity:"",slot:k.Chest,effect:{defense:5,hp:20}},{name:"",type:v.Armor,rarity:"",slot:k.Gloves,effect:{defense:3,hp:15}},{name:"",type:v.Armor,rarity:"",slot:k.Legs,effect:{defense:4,hp:18}},{name:"",type:v.Armor,rarity:"",slot:k.Boots,effect:{defense:3,speed:2}},{name:"",type:v.Armor,rarity:"",slot:k.Head,effect:{defense:8,hp:30}},{name:"",type:v.Armor,rarity:"",slot:k.Shoulder,effect:{defense:8,hp:30}},{name:"",type:v.Armor,rarity:"",slot:k.Chest,effect:{defense:15,hp:50}},{name:"",type:v.Armor,rarity:"",slot:k.Gloves,effect:{defense:8,hp:30}},{name:"",type:v.Armor,rarity:"",slot:k.Legs,effect:{defense:10,hp:40}},{name:"",type:v.Armor,rarity:"",slot:k.Boots,effect:{defense:8,speed:5}},{name:"",type:v.Armor,rarity:"",slot:k.Head,effect:{defense:25,hp:60,spirit:10}},{name:"",type:v.Armor,rarity:"",slot:k.Shoulder,effect:{defense:25,hp:60,spirit:10}},{name:"",type:v.Armor,rarity:"",slot:k.Chest,effect:{defense:40,hp:100}},{name:"",type:v.Armor,rarity:"",slot:k.Gloves,effect:{defense:25,hp:60,spirit:10}},{name:"",type:v.Armor,rarity:"",slot:k.Legs,effect:{defense:30,hp:80}},{name:"",type:v.Armor,rarity:"",slot:k.Boots,effect:{defense:25,speed:12}},{name:"",type:v.Armor,rarity:"",slot:k.Head,effect:{defense:60,hp:150,spirit:20,attack:10}},{name:"",type:v.Armor,rarity:"",slot:k.Shoulder,effect:{defense:60,hp:150,spirit:20,attack:10}},{name:"",type:v.Armor,rarity:"",slot:k.Chest,effect:{defense:100,hp:300,attack:20}},{name:"",type:v.Armor,rarity:"",slot:k.Gloves,effect:{defense:60,hp:150,spirit:20,attack:10}},{name:"",type:v.Armor,rarity:"",slot:k.Legs,effect:{defense:75,hp:200,attack:15}},{name:"",type:v.Armor,rarity:"",slot:k.Boots,effect:{defense:60,hp:150,speed:25}},{name:"",type:v.Armor,rarity:"",slot:k.Head,effect:{defense:150,hp:400,spirit:50,attack:30}},{name:"",type:v.Armor,rarity:"",slot:k.Shoulder,effect:{defense:150,hp:400,spirit:50,attack:30}},{name:"",type:v.Armor,rarity:"",slot:k.Chest,effect:{defense:250,hp:800,spirit:100}},{name:"",type:v.Armor,rarity:"",slot:k.Gloves,effect:{defense:150,hp:400,spirit:50,attack:30}},{name:"",type:v.Armor,rarity:"",slot:k.Legs,effect:{defense:180,hp:500,spirit:60}},{name:"",type:v.Armor,rarity:"",slot:k.Boots,effect:{defense:150,hp:400,speed:60}}],accessories:[{name:"",type:v.Accessory,rarity:"",slot:k.Accessory1,effect:{defense:3,hp:15}},{name:"",type:v.Accessory,rarity:"",slot:k.Accessory1,effect:{spirit:20,exp:10}},{name:"",type:v.Accessory,rarity:"",slot:k.Accessory1,effect:{attack:30,defense:30,speed:15}},{name:"",type:v.Accessory,rarity:"",slot:k.Accessory1,effect:{attack:80,defense:80,hp:200}}],rings:[{name:"",type:v.Ring,rarity:"",slot:k.Ring1,effect:{attack:5}},{name:"",type:v.Ring,rarity:"",slot:k.Ring1,effect:{defense:5}},{name:"",type:v.Ring,rarity:"",slot:k.Ring1,effect:{attack:15,defense:15}},{name:"",type:v.Ring,rarity:"",slot:k.Ring1,effect:{attack:40,defense:40,speed:20}},{name:"",type:v.Ring,rarity:"",slot:k.Ring1,effect:{attack:100,defense:100,spirit:50}}],artifacts:[{name:"",type:v.Artifact,rarity:"",slot:k.Artifact1,effect:{spirit:10,exp:5}},{name:"",type:v.Artifact,rarity:"",slot:k.Artifact1,effect:{defense:10,hp:30}},{name:"",type:v.Artifact,rarity:"",slot:k.Artifact1,effect:{spirit:30,defense:20}},{name:"",type:v.Artifact,rarity:"",slot:k.Artifact1,effect:{attack:50,defense:50,spirit:50}},{name:"",type:v.Artifact,rarity:"",slot:k.Artifact1,effect:{attack:150,defense:150,spirit:150,hp:500}}]},X1=(c,h,u,m)=>{const E=[],p=c<.7?1:c<1?1+Math.floor(Math.random()*2):2+Math.floor(Math.random()*2),S=()=>{const g=Math.random();return h==="secret_realm"?m===""?g<.2?"":g<.5?"":g<.85?"":"":m===""?g<.12?"":g<.4?"":g<.75?"":"":m===""?g<.08?"":g<.3?"":g<.65?"":"":g<.05?"":g<.2?"":g<.55?"":"":h==="lucky"?g<.05?"":g<.25?"":"":g<.03?"":g<.2?"":""};for(let g=0;g<p;g++){const M=S(),d=Math.random();let o,f;if(d<.25)o=ya.herbs,f="";else if(d<.45)o=ya.pills,f="";else if(d<.6)o=ya.materials,f="";else if(d<.8){const N=Math.random();N<.25?(o=ya.weapons,f=""):N<.65?(o=ya.armors,f=""):N<.85?(o=ya.accessories,f=""):(o=ya.rings,f="")}else d<.92?(o=ya.artifacts,f=""):(f="",o=[]);if(f===""){const N=gc.filter(q=>{const A=["","","",""],H=A.indexOf(M);return A.indexOf(q.result.rarity)<=H});if(N.length>0){const q=Dl(N),A={name:`${q.name}`,type:"",description:`${q.name}`,rarity:q.result.rarity,isEquippable:!1,recipeName:q.name};E.push(A)}continue}const x=o.filter(N=>N.rarity===M);if(x.length===0){const N=o.filter(q=>{const A=["","","",""],H=A.indexOf(M);return A.indexOf(q.rarity)<=H});if(N.length>0){const q=Dl(N),A={name:q.name,type:f,description:`${q.name}`,rarity:q.rarity,isEquippable:q.slot!==void 0,equipmentSlot:q.slot,effect:q.effect,permanentEffect:q.permanentEffect};E.push(A)}}else{const N=Dl(x);let q;const A=N.rarity;(A===""||A==="")&&(f===""||f==="")&&(A===""?Math.random()<.03:Math.random()<.06)&&(q=Math.floor(Math.random()*3)+1);const H={name:N.name,type:f,description:`${N.name}`,rarity:N.rarity,isEquippable:N.slot!==void 0,equipmentSlot:N.slot,effect:N.effect,permanentEffect:N.permanentEffect,reviveChances:q};E.push(H)}}return E},rm=(c,h)=>c<h?h:c,Z1=async(c,h,u,m)=>{const E=Ae.indexOf(c.realm);let p,S=1;if(h==="secret_realm"&&m){const P=Ae.indexOf(m);if(p=rm(Math.min(Ae.length-1,P+1),0),E>P){const I=E-P;S=Math.max(.4,1-I*.15)}}else{const P=h==="secret_realm"?1:h==="lucky"?-1:0;p=rm(Math.min(Ae.length-1,E+P),0)}const g=Ae[p],M=Am(h,u),d=Math.random();let o=1,f={min:.85,max:1.2};h==="normal"?d<.4?(o=.6+Math.random()*.2,f={min:.6,max:.9}):d<.9?(o=.8+Math.random()*.2,f={min:.75,max:1.1}):(o=1+Math.random()*.2,f={min:.9,max:1.3}):h==="lucky"?d<.6?(o=.5+Math.random()*.2,f={min:.5,max:.85}):d<.95?(o=.7+Math.random()*.2,f={min:.65,max:1}):(o=.9+Math.random()*.2,f={min:.8,max:1.2}):h==="secret_realm"&&(u===""?d<.05?(o=.9+Math.random()*.2,f={min:.85,max:1.2}):d<.35?(o=1.1+Math.random()*.2,f={min:1,max:1.4}):(o=1.3+Math.random()*.4,f={min:1.2,max:1.8}):u===""?d<.1?(o=.8+Math.random()*.2,f={min:.75,max:1.1}):d<.5?(o=1+Math.random()*.2,f={min:.9,max:1.3}):(o=1.2+Math.random()*.3,f={min:1.1,max:1.6}):u===""?d<.2?(o=.7+Math.random()*.2,f={min:.65,max:1}):d<.7?(o=.9+Math.random()*.2,f={min:.8,max:1.2}):(o=1.1+Math.random()*.3,f={min:1,max:1.5}):d<.3?(o=.6+Math.random()*.2,f={min:.55,max:.9}):d<.85?(o=.8+Math.random()*.2,f={min:.75,max:1.1}):(o=1+Math.random()*.2,f={min:.9,max:1.3}));const x=()=>f.min+Math.random()*(f.max-f.min),N=M*o*S;let q=Dl(L1),A=Dl(Q1);if(Math.random()<.15)try{const P=await By(g,h);P.name&&P.title&&(q=P.name,A=P.title)}catch{console.log("AI")}let H,$,V,T,K;if(h==="secret_realm"&&m){const P=Ae.indexOf(m);E>P?(H=c.attack*(.4+P/Ae.length*.3),$=c.defense*(.4+P/Ae.length*.3),V=c.maxHp*(.3+P/Ae.length*.3),T=(c.speed||10)*(.5+P/Ae.length*.3),K=Math.max(1,c.realmLevel-(E-P))):(H=c.attack,$=c.defense,V=c.maxHp,T=c.speed||10,K=c.realmLevel)}else H=c.attack,$=c.defense,V=c.maxHp,T=c.speed||10,K=c.realmLevel;const ie=H*.7+K*3,te=$*.7+K*2;return{name:q,title:A,realm:g,attack:Math.max(8,Math.round(ie*x()*N)),defense:Math.max(6,Math.round(te*x()*N)),maxHp:Math.max(40,Math.round(V*(.5+Math.random()*.4)*N)),speed:Math.max(6,Math.round(T*(.7+Math.random()*.3)*o)),strengthMultiplier:o}},J1=(c,h)=>{const u=c*.75-h*.5,m=Math.max(3,c*.2),E=.85+Math.random()*.3;return Math.round(Math.max(m,u)*E)},K1=(c,h)=>{const u=V1[h]??.2,m=Ae.indexOf(c.realm)*.015,E=(c.speed||0)*4e-4,p=(c.luck||0)*2e-4,S=Math.min(.75,u+m+E-p);return Math.random()<Math.max(.05,S)},I1=async(c,h,u,m,E,p)=>{const S=await Z1(c,h,u,m),g=Am(h,u);let M=c.hp,d=S.maxHp;const o=[];let f=(c.speed||0)>=S.speed?"player":"enemy";for(;M>0&&d>0&&o.length<40;){const I=f==="player",oe=J1(I?c.attack:S.attack,I?S.defense:c.defense),w=.08+(I?c.speed:S.speed)/((c.speed||1)+S.speed+1)*.2,ae=Math.random()<w,ne=ae?Math.round(oe*1.5):oe;if(I?d=Math.max(0,d-ne):M=Math.max(0,M-ne),o.push({id:cm(),attacker:f,damage:ne,crit:ae,description:I?` ${ne}${ae?"":""} `:`${S.title}${S.name} ${ne}${ae?"":""} `,playerHpAfter:M,enemyHpAfter:d}),M<=0||d<=0)break;f=f==="player"?"enemy":"player"}const x=d<=0&&M>0,N=Math.max(0,c.hp-M),A=h==="secret_realm"?(I=>I?{:1,:1.3,:1.6,:2.2}[I]:1)(u):1,H=25+c.realmLevel*12,$=Math.round(H*g*A),V=Math.max(3,Math.round((6+c.realmLevel*2)*g*A)),T=x?$:-Math.max(5,Math.round($*.5)),K=x?V:-Math.max(2,Math.round(V*.6)),ie=[];if(x){const I=X1(S.strengthMultiplier,h,c.realm,u);ie.push(...I)}const P=((I,oe,w,ae,ne)=>{const J=I?[`${oe.title}${oe.name} ${w} ${ae?"":""}`,`${oe.title}${oe.name} ${w} ${ae?"":""}`,`${oe.title}${oe.name} ${w} ${ae?"":""}`,`${oe.title}${oe.name} ${w} ${ae?"":""}`,`${oe.title}${oe.name} ${w} ${ae?"":""}`,`${oe.title}${oe.name} ${w} ${ae?"":""}`]:[`${oe.title}${oe.name} ${w} `,`${oe.title}${oe.name} ${w} `,`${oe.title}${oe.name} ${w} `,`${oe.title}${oe.name} ${w} `,`${oe.title}${oe.name} ${w} `];return J[Math.floor(Math.random()*J.length)]})(x,S,N,ie.length>0);return{adventureResult:{story:P,hpChange:M-c.hp,expChange:T,spiritStonesChange:K,eventColor:"danger",itemsObtained:ie.length>0?ie:void 0},replay:{id:cm(),enemy:S,rounds:o,victory:x,hpLoss:N,playerHpBefore:c.hp,playerHpAfter:M,summary:P,expChange:T,spiritChange:K}}};async function W1({result:c,battleContext:h,player:u,setPlayer:m,addLog:E,triggerVisual:p,onOpenBattleModal:S,realmName:g,adventureType:M,skipBattle:d=!1,riskLevel:o}){c.hpChange<0?(p("damage",String(c.hpChange),"text-red-500"),document.body&&(document.body.classList.add("animate-shake"),setTimeout(()=>document.body.classList.remove("animate-shake"),500))):c.hpChange>0&&p("heal",`+${c.hpChange}`,"text-emerald-400"),(c.eventColor==="danger"||M==="secret_realm")&&p("slash"),m(f=>{if(!f)return f;let x=[...f.inventory],N=[...f.cultivationArts],q=f.talentId,A=f.attack,H=f.defense,$=f.maxHp,V=f.hp,T=f.luck,K=f.lotteryTickets,ie=f.inheritanceLevel,te=[...f.pets],fe={...f.statistics||{killCount:0,meditateCount:0,adventureCount:0,equipCount:0,petCount:0,recipeCount:0,artCount:0,breakthroughCount:0,secretRealmCount:0}};if(fe.adventureCount+=1,g&&(fe.secretRealmCount+=1),h&&h.victory&&(fe.killCount+=1),c.itemsObtained&&c.itemsObtained.length>0&&c.itemsObtained.forEach(R=>{let j=R.name,O=R.type||v.Material,B=R.isEquippable,ce=R.equipmentSlot;const F=R.description||"",y=I0(j,O,F,B);y.type!==O&&console.log(`[] "${j}": AI="${O}", ="${y.type}", `),O=y.type,B=y.isEquippable,ce=y.equipmentSlot||ce;const C=Yo(j,R.effect,R.permanentEffect);let _=C.effect,U=C.permanentEffect;if(B&&!_&&U&&(_={attack:U.attack,defense:U.defense,spirit:U.spirit,physique:U.physique,speed:U.speed,hp:0},U.maxHp&&(_.hp=(_.hp||0)+U.maxHp),U=void 0,console.log(`[] "${j}":  permanentEffect  effect`)),B&&!_&&U&&(_={attack:U.attack,defense:U.defense,spirit:U.spirit,physique:U.physique,speed:U.speed,hp:0},U.maxHp&&(_.hp=(_.hp||0)+U.maxHp),U=void 0,console.log(`[] "${j}":  permanentEffect  effect`)),O===v.Artifact){if(_.exp){const{exp:pe,...ve}=_;_=ve}if(!(_.attack||_.defense||_.hp||_.spirit||_.physique||_.speed)){const pe=R.rarity||"",ve=an[pe],Se=pe===""?10:pe===""?30:pe===""?80:200,Ye=["attack","defense","hp","spirit","physique","speed"],We=Math.floor(Math.random()*3)+1,kt=Ye.sort(()=>Math.random()-.5).slice(0,We);_={},kt.forEach(Dn=>{const $n=Math.floor(Se*ve*(.8+Math.random()*.4));_[Dn]=$n})}}const le=B&&ce,re=x.findIndex(de=>de.name===j);let ue;if(O===v.Recipe){const de=R.recipeName;if(de){const pe=gc.find(ve=>ve.name===de);pe&&(ue=pe)}}if(re>=0&&!le&&O!==v.Recipe)x[re]={...x[re],quantity:x[re].quantity+1};else{const de=R.rarity||"";let pe;(de===""||de==="")&&(O===v.Weapon||O===v.Artifact)&&(de===""?Math.random()<.3:Math.random()<.6)&&(pe=Math.floor(Math.random()*3)+1);const ve={id:pt(),name:j,type:O,description:R.description,quantity:1,rarity:de,level:0,isEquippable:B,equipmentSlot:ce,effect:_,permanentEffect:U,recipeData:ue,reviveChances:pe};x.push(ve)}}),c.itemObtained){let R=c.itemObtained.name,j=c.itemObtained.type||v.Material,O=c.itemObtained.isEquippable,B=c.itemObtained.equipmentSlot;const ce=c.itemObtained.description||"";if(R!=null&&R.includes("")||R!=null&&R.includes("")){const re=["","","","","","","","","","","","","","","","","","","","","","","",""];R=re[Math.floor(Math.random()*re.length)],j=v.Artifact,O=!0;const ue=[k.Artifact1,k.Artifact2];B=ue[Math.floor(Math.random()*ue.length)]}else{const re=I0(R,j,ce,O);re.type!==j&&console.log(`[] "${R}": AI="${j}", ="${re.type}", `),j=re.type,O=re.isEquippable,B=re.equipmentSlot||B}const F=Yo(R,c.itemObtained.effect,c.itemObtained.permanentEffect);let y=F.effect,C=F.permanentEffect;if(O&&!y&&C&&(y={attack:C.attack,defense:C.defense,spirit:C.spirit,physique:C.physique,speed:C.speed,hp:0},C.maxHp&&(y.hp=(y.hp||0)+C.maxHp),C=void 0,console.log(`[] "${R}":  permanentEffect  effect`)),j===v.Artifact){if(y.exp){const{exp:ue,...de}=y;y=de}if(!(y.attack||y.defense||y.hp||y.spirit||y.physique||y.speed)){const ue=c.itemObtained.rarity||"",de=an[ue],pe=ue===""?10:ue===""?30:ue===""?80:200,ve=["attack","defense","hp","spirit","physique","speed"],Se=Math.floor(Math.random()*3)+1,Ye=ve.sort(()=>Math.random()-.5).slice(0,Se);y={},Ye.forEach(We=>{const kt=Math.floor(pe*de*(.8+Math.random()*.4));y[We]=kt})}}let _;if(j===v.Recipe){const re=c.itemObtained.recipeName;if(re){const ue=gc.find(de=>de.name===re);ue&&(_=ue)}}const U=O&&B,le=x.findIndex(re=>re.name===R);if(le>=0&&!U&&j!==v.Recipe)x[le]={...x[le],quantity:x[le].quantity+1};else{const re=c.itemObtained.rarity||"";let ue;c.itemObtained.reviveChances!==void 0?ue=c.itemObtained.reviveChances:(re===""||re==="")&&(j===v.Weapon||j===v.Artifact)&&(re===""?Math.random()<.3:Math.random()<.6)&&(ue=Math.floor(Math.random()*3)+1);const de={id:pt(),name:R,type:j,description:c.itemObtained.description,quantity:1,rarity:re,level:0,isEquippable:O,equipmentSlot:B,effect:y,permanentEffect:C,recipeData:_,reviveChances:ue};x.push(de)}}if(c.lotteryTicketsChange&&c.lotteryTicketsChange>0&&(K+=c.lotteryTicketsChange,E(`  ${c.lotteryTicketsChange} `,"gain")),c.inheritanceLevelChange&&c.inheritanceLevelChange>0){const R=Math.max(1,Math.min(4,c.inheritanceLevelChange)),j=Math.min(4,ie+R),O=j-ie;O>0&&(ie=j,E(`  ${O} `,"special"))}if(c.petObtained){const R=Sc.find(j=>j.id===c.petObtained);if(R)if(te.some(O=>O.species===R.species))E("","normal");else{const O={id:pt(),name:R.name,species:R.species,level:1,exp:0,maxExp:100,rarity:R.rarity,stats:{...R.baseStats},skills:[...R.skills],evolutionStage:0,affection:50};te.push(O),fe.petCount+=1,E(` ${O.name}`,"special")}}if(c.petOpportunity&&te.length>0){let R=null;if(c.petOpportunity.petId&&(R=te.find(j=>j.id===c.petOpportunity.petId)||null),!R&&f.activePetId&&(R=te.find(j=>j.id===f.activePetId)||null),R||(R=te[Math.floor(Math.random()*te.length)]),R){const j=te.findIndex(B=>B.id===R.id),O={...R};switch(c.petOpportunity.type){case"evolution":O.evolutionStage<2&&(O.evolutionStage+=1,O.stats={attack:Math.floor(O.stats.attack*1.5),defense:Math.floor(O.stats.defense*1.5),hp:Math.floor(O.stats.hp*1.5),speed:Math.floor(O.stats.speed*1.2)},te[j]=O,E(` ${R.name}`,"special"));break;case"level":if(c.petOpportunity.levelGain&&c.petOpportunity.levelGain>0){const B=Math.min(c.petOpportunity.levelGain,5);O.level+=B;for(let ce=0;ce<B;ce++)O.stats={attack:Math.floor(O.stats.attack*1.1),defense:Math.floor(O.stats.defense*1.1),hp:Math.floor(O.stats.hp*1.1),speed:Math.floor(O.stats.speed*1.05)};te[j]=O,E(` ${R.name} ${B} `,"special")}break;case"stats":if(c.petOpportunity.statsBoost){const B=c.petOpportunity.statsBoost;O.stats={attack:O.stats.attack+(B.attack||0),defense:O.stats.defense+(B.defense||0),hp:O.stats.hp+(B.hp||0),speed:O.stats.speed+(B.speed||0)},te[j]=O;const ce=[B.attack?`+${B.attack}`:"",B.defense?`+${B.defense}`:"",B.hp?`+${B.hp}`:"",B.speed?`+${B.speed}`:""].filter(Boolean).join("");E(` ${R.name}${ce}`,"special")}break;case"exp":if(c.petOpportunity.expGain&&c.petOpportunity.expGain>0){let B=O.exp+c.petOpportunity.expGain,ce=O.level,F=O.maxExp,y=!1,C=0;for(;B>=F&&ce<100;)B-=F,ce+=1,C+=1,F=Math.floor(F*1.5),y=!0;if(y)for(let _=0;_<C;_++)O.stats={attack:Math.floor(O.stats.attack*1.1),defense:Math.floor(O.stats.defense*1.1),hp:Math.floor(O.stats.hp*1.1),speed:Math.floor(O.stats.speed*1.05)};O.exp=B,O.level=ce,O.maxExp=F,te[j]=O,E(y?` ${R.name} ${c.petOpportunity.expGain}  ${C} `:` ${R.name} ${c.petOpportunity.expGain} `,"special")}break}}}const I=g?.05:.03;if(Math.random()<I&&M!=="lucky"){const R=Rs.filter(j=>!N.includes(j.id)&&Ae.indexOf(j.realmRequirement)<=Ae.indexOf(f.realm));if(R.length>0){const j=R[Math.floor(Math.random()*R.length)];N.includes(j.id)||(N.push(j.id),fe.artCount+=1,A+=j.effects.attack||0,H+=j.effects.defense||0,$+=j.effects.hp||0,V+=j.effects.hp||0,E(` ${j.name}`,"special"))}}const oe=M==="lucky"?.05:g?.02:.01;if(Math.random()<oe&&!q){const R=Hn.filter(j=>j.id!=="talent-ordinary"&&j.rarity!=="");if(R.length>0){const j=R[Math.floor(Math.random()*R.length)];q=j.id,A+=j.effects.attack||0,H+=j.effects.defense||0,$+=j.effects.hp||0,V+=j.effects.hp||0,T+=j.effects.luck||0,E(` ${j.name}`,"special")}}let w=f.spirit,ae=f.physique,ne=f.speed;if(c.attributeReduction){const R=c.attributeReduction,j=.1,O=.15;let B=0;R.attack&&(B+=R.attack),R.defense&&(B+=R.defense),R.spirit&&(B+=R.spirit),R.physique&&(B+=R.physique),R.speed&&(B+=R.speed),R.maxHp&&(B+=R.maxHp);const F=(f.attack+f.defense+f.spirit+f.physique+f.speed+f.maxHp)*O;let y=1;if(B>F&&(y=F/B),R.attack){const C=Math.floor(f.attack*j),_=Math.min(Math.floor(R.attack*y),C);A=Math.max(0,A-_),_>0&&E(`  ${_} `,"danger")}if(R.defense){const C=Math.floor(f.defense*j),_=Math.min(Math.floor(R.defense*y),C);H=Math.max(0,H-_),_>0&&E(`  ${_} `,"danger")}if(R.spirit){const C=Math.floor(f.spirit*j),_=Math.min(Math.floor(R.spirit*y),C);w=Math.max(0,w-_),_>0&&E(`  ${_} `,"danger")}if(R.physique){const C=Math.floor(f.physique*j),_=Math.min(Math.floor(R.physique*y),C);ae=Math.max(0,ae-_),_>0&&E(`  ${_} `,"danger")}if(R.speed){const C=Math.floor(f.speed*j),_=Math.min(Math.floor(R.speed*y),C);ne=Math.max(0,ne-_),_>0&&E(`  ${_} `,"danger")}if(R.maxHp){const C=Math.floor(f.maxHp*j),_=Math.min(Math.floor(R.maxHp*y),C);$=Math.max(f.maxHp*.5,$-_),V=Math.min(V,$),_>0&&E(`  ${_} `,"danger")}}const J=V+c.hpChange;return{...f,hp:Math.min($,J),exp:Math.max(0,f.exp+c.expChange),spiritStones:Math.max(0,f.spiritStones+c.spiritStonesChange),inventory:x,cultivationArts:N,talentId:q||f.talentId,attack:A,defense:H,maxHp:$,spirit:w,physique:ae,speed:ne,luck:T,lotteryTickets:K,inheritanceLevel:ie,pets:te,statistics:fe}}),E(c.story,c.eventColor),c.itemsObtained&&c.itemsObtained.length>0?c.itemsObtained.forEach(f=>{const x=f.rarity?`${f.rarity}`:"";E(`: ${x}${f.name}`,"gain")}):c.itemObtained&&E(`: ${c.itemObtained.name}`,"gain"),h&&S(h),c.triggerSecretRealm&&setTimeout(async()=>{E("...","special");const f=await Io(u,"secret_realm");m(x=>{if(!x)return x;const q=1+Ae.indexOf(x.realm)*.3+(x.realmLevel-1)*.1;let A=[...x.inventory],H=x.spiritStones,$=x.exp,V=x.hp,T=x.maxHp,K=x.attack,ie=x.defense,te=x.spirit,P=x.physique,fe=x.speed;if(f.itemObtained){const I=f.itemObtained.name;if(A.findIndex(w=>w.name===I)<0){const w=Yo(I,f.itemObtained.effect,f.itemObtained.permanentEffect),ae={id:pt(),name:I,type:f.itemObtained.type||v.Material,description:f.itemObtained.description,quantity:1,rarity:f.itemObtained.rarity||"",level:0,isEquippable:f.itemObtained.isEquippable,equipmentSlot:f.itemObtained.equipmentSlot,effect:w.effect,permanentEffect:w.permanentEffect};A.push(ae)}}if(f.attributeReduction){const I=f.attributeReduction;let oe=0;I.attack&&(oe+=I.attack),I.defense&&(oe+=I.defense),I.spirit&&(oe+=I.spirit),I.physique&&(oe+=I.physique),I.speed&&(oe+=I.speed),I.maxHp&&(oe+=I.maxHp);const ne=(x.attack+x.defense+x.spirit+x.physique+x.speed+x.maxHp)*.15;if(oe>ne){const R=ne/oe;I.attack&&(I.attack=Math.floor(I.attack*R)),I.defense&&(I.defense=Math.floor(I.defense*R)),I.spirit&&(I.spirit=Math.floor(I.spirit*R)),I.physique&&(I.physique=Math.floor(I.physique*R)),I.speed&&(I.speed=Math.floor(I.speed*R)),I.maxHp&&(I.maxHp=Math.floor(I.maxHp*R))}if(I.attack){const R=Math.floor(x.attack*.1);K=Math.max(0,K-Math.min(I.attack,R))}if(I.defense){const R=Math.floor(x.defense*.1);ie=Math.max(0,ie-Math.min(I.defense,R))}if(I.spirit){const R=Math.floor(x.spirit*.1);te=Math.max(0,te-Math.min(I.spirit,R))}if(I.physique){const R=Math.floor(x.physique*.1);P=Math.max(0,P-Math.min(I.physique,R))}if(I.speed){const R=Math.floor(x.speed*.1);fe=Math.max(0,fe-Math.min(I.speed,R))}if(I.maxHp){const R=Math.floor(x.maxHp*.1),j=Math.min(I.maxHp,R);T=Math.max(x.maxHp*.5,T-j),V=Math.min(V,T)}!(f.itemObtained||f.expChange>100*q||f.spiritStonesChange>200*q)&&oe>0&&($+=Math.floor(50*q),H+=Math.floor(100*q))}return{...x,hp:Math.max(0,Math.min(T,V+f.hpChange)),exp:Math.max(0,$+f.expChange),spiritStones:Math.max(0,H+f.spiritStonesChange),inventory:A,attack:K,defense:ie,maxHp:T,spirit:te,physique:P,speed:fe}}),E(f.story,f.eventColor),f.itemObtained&&E(`: ${f.itemObtained.name}`,"gain")},1e3)}function F1({player:c,setPlayer:h,addLog:u,triggerVisual:m,setLoading:E,setCooldown:p,loading:S,cooldown:g,onOpenShop:M,onOpenBattleModal:d,skipBattle:o=!1}){const f=async(N,q,A,H,$)=>{if(!c){E(!1);return}E(!0),q?u(`${q}...`,"special"):u("...","normal");try{let V,T=null;if(K1(c,N)){const K=await I1(c,N,A,H);V=K.adventureResult,T=K.replay}else V=await Io(c,N,A,q,$);await W1({result:V,battleContext:T,player:c,setPlayer:h,addLog:u,triggerVisual:m,onOpenBattleModal:d,realmName:q,adventureType:N,skipBattle:o,riskLevel:A})}catch{u("","danger")}finally{E(!1),p(2)}};return{handleAdventure:async()=>{if(S||g>0)return;c.hp<c.maxHp*.2&&u("...","danger");const N=Ae.indexOf(c.realm),q=.05,A=N*.02,H=(c.realmLevel-1)*.01,$=c.luck*.001,V=Math.min(.3,q+A+H+$);if(Math.random()<.15){const ie=[Et.Village,Et.City,Et.Sect],te=ie[Math.floor(Math.random()*ie.length)];M(te);return}const K=Math.random()<V;await f(K?"lucky":"normal")},executeAdventure:f}}function P1({setPlayer:c,addLog:h,setIsSectOpen:u,setPurchaseSuccess:m}){return{handleJoinSect:(o,f)=>{let x=Bl.find(N=>N.id===o);if(!x)if(f)x={id:o,name:f,description:"",reqRealm:me.QiRefining,grade:"",exitCost:{spiritStones:300,items:[{name:"",quantity:5}]}};else{console.warn(":",o);return}c(N=>({...N,sectId:o,sectRank:mn.Outer,sectContribution:0})),h(`${x.name}`,"special")},handleLeaveSect:()=>{c(o=>{if(!o.sectId)return o;const f=[...o.betrayedSects||[]];f.includes(o.sectId)||f.push(o.sectId);const x=10080*60*1e3,N=Date.now()+x;return{...o,sectId:null,sectRank:mn.Outer,sectContribution:0,betrayedSects:f,sectHuntEndTime:N}}),h("","danger"),u(!1)},handleSafeLeaveSect:()=>{c(o=>{if(!o.sectId)return o;const f=Bl.find(q=>q.id===o.sectId);if(!f||!f.exitCost)return h("","danger"),o;let x=[...o.inventory],N=f.exitCost.spiritStones||0;if(o.spiritStones<N)return h(` ${N} `,"danger"),o;if(f.exitCost.items){for(const q of f.exitCost.items){const A=x.findIndex(H=>H.name===q.name);if(A===-1||x[A].quantity<q.quantity)return h(` ${q.quantity} ${q.name}`,"danger"),o;x[A]={...x[A],quantity:x[A].quantity-q.quantity}}x=x.filter(q=>q.quantity>0)}return h(`${f.name}`,"normal"),u(!1),{...o,sectId:null,sectRank:mn.Outer,sectContribution:0,spiritStones:o.spiritStones-N,inventory:x}})},handleSectTask:(o,f)=>{c(x=>{var w,ae;const N=new Date().toISOString().split("T")[0];let q=x.dailyTaskCount||{instant:0,short:0,medium:0,long:0},A=x.lastTaskResetDate||N;A!==N&&(q={instant:0,short:0,medium:0,long:0},A=N);const H={instant:{limit:10,name:""},short:{limit:5,name:""},medium:{limit:3,name:""},long:{limit:2,name:""}},$=o.timeCost,V=H[$];if(V){const ne=q[$]||0;if(ne>=V.limit)return h(`${V.limit}${V.name}`,"danger"),x;q={...q,[$]:ne+1}}let T=0,K=[...x.inventory];if((w=o.cost)!=null&&w.spiritStones){if(x.spiritStones<o.cost.spiritStones)return h(` ${o.cost.spiritStones} `,"danger"),x;T=o.cost.spiritStones}if((ae=o.cost)!=null&&ae.items){for(const ne of o.cost.items){const J=K.findIndex(R=>R.name===ne.name);if(J===-1||K[J].quantity<ne.quantity)return h(` ${ne.quantity} ${ne.name}`,"danger"),x;K[J]={...K[J],quantity:K[J].quantity-ne.quantity}}K=K.filter(ne=>ne.quantity>0)}let ie=o.reward.contribution||0,te=o.reward.exp||0,P=o.reward.spiritStones||0;f&&(te+=f.expChange||0,P+=f.spiritStonesChange||0),o.reward.items&&o.reward.items.forEach(ne=>{const J=K.findIndex(R=>R.name===ne.name);J>=0?K[J]={...K[J],quantity:K[J].quantity+(ne.quantity||1)}:K.push({id:pt(),name:ne.name,type:v.Material,description:`${ne.name}`,quantity:ne.quantity||1,rarity:""})});const fe=[`${ie} `,te>0?`${te} `:"",P>0?`${P} `:"",o.reward.items?o.reward.items.map(ne=>`${ne.quantity} ${ne.name}`).join(""):""].filter(Boolean).join("");h(`${o.name} ${fe}`,"gain");let I=x.hp,oe=x.maxHp;return f&&f.hpChange&&(I=Math.max(0,Math.min(x.maxHp,x.hp+f.hpChange))),{...x,spiritStones:x.spiritStones-T+P,exp:x.exp+te,hp:I,maxHp:oe,inventory:K,sectContribution:x.sectContribution+ie,dailyTaskCount:q,lastTaskResetDate:A}})},handleSectPromote:()=>{c(o=>{const f=Object.values(mn),x=f.indexOf(o.sectRank),N=f[x+1];if(!N)return o;const q=vm[N];return o.sectContribution<q.contribution?o:(h(`${N}`,"special"),{...o,sectRank:N,sectContribution:o.sectContribution-q.contribution})})},handleSectBuy:(o,f,x=1)=>{c(N=>{const q=f*x;if(N.sectContribution<q)return h("","danger"),N;const A=[...N.inventory],H=o.isEquippable&&o.equipmentSlot,$=A.findIndex(V=>V.name===o.name);if($>=0&&!H)A[$]={...A[$],quantity:A[$].quantity+x};else{const V=H?x:1,T=H?1:x;for(let K=0;K<V;K++)A.push({id:pt(),name:o.name||"",type:o.type||v.Material,description:o.description||"",quantity:T,rarity:o.rarity||"",effect:o.effect,level:0,isEquippable:o.isEquippable,equipmentSlot:o.equipmentSlot})}return h(` ${q}  ${o.name} x${x}`,"gain"),m({item:o.name||"",quantity:x}),setTimeout(()=>m(null),2e3),{...N,sectContribution:N.sectContribution-q,inventory:A}})}}}function eb({player:c,setPlayer:h,addLog:u}){return{handleActivatePet:S=>{if(!c)return;h(M=>({...M,activePetId:S}));const g=c.pets.find(M=>M.id===S);g&&u(`${g.name}`,"gain")},handleFeedPet:(S,g,M)=>{if(!c)return;const d=c.pets.find(x=>x.id===S);if(!d)return;let o=!1,f="";if(g==="hp")if(c.hp>=200)o=!0,f=" 200 ";else{u(` 200  ${c.hp} `,"danger");return}else if(g==="item"){if(!M){u("","danger");return}const x=c.inventory.find(N=>N.id===M);if(!x||x.quantity<=0){u("","danger");return}o=!0,f=` 1 ${x.name}`}else if(g==="exp"){const x=Math.max(1,Math.floor(c.exp*.05));if(c.exp>=x)o=!0,f=` ${x} `;else{u(` ${x}  ${c.exp} `,"danger");return}}o&&h(x=>{if(!x)return x;let N=10;const A=1+Ae.indexOf(x.realm)*.5,H=1+x.realmLevel*.1;N=Math.floor(N*A*H);let $=1;if(g==="item"&&M){const w=x.inventory.find(ae=>ae.id===M);if(w){const ae=w.rarity||"";$=an[ae]||1}}let V=Math.floor(N*$);const T=.8+Math.random()*.4;V=Math.floor(V*T);const K=d.maxExp-d.exp;V=Math.min(V,K),V=Math.max(1,V);let ie=x.hp,te=x.exp,P=[...x.inventory];if(g==="hp")ie=Math.max(0,x.hp-200);else if(g==="item"&&M)P=x.inventory.map(w=>w.id===M?{...w,quantity:w.quantity-1}:w).filter(w=>w.quantity>0);else if(g==="exp"){const w=Math.max(1,Math.floor(x.exp*.05));te=Math.max(0,x.exp-w)}const fe=Math.floor(2+Math.random()*4),I=x.pets.map(w=>{if(w.id===S){let ae=w.exp+V,ne=w.level,J=w.maxExp,R=!1;for(;ae>=J&&ne<100;)ae-=J,ne+=1,J=Math.floor(J*1.5),R=!0,u(`${w.name} ${ne} `,"gain");const j=R?{attack:Math.floor(w.stats.attack*1.1),defense:Math.floor(w.stats.defense*1.1),hp:Math.floor(w.stats.hp*1.1),speed:Math.floor(w.stats.speed*1.05)}:w.stats,O=Math.min(100,w.affection+fe);return{...w,level:ne,exp:ae,maxExp:J,stats:j,affection:O}}return w});let oe=`${f}${d.name} ${V} `;return fe>0&&(oe+=` ${fe} `),u(oe,"gain"),{...x,hp:ie,exp:te,inventory:P,pets:I}})},handleEvolvePet:S=>{if(!c)return;const g=c.pets.find(d=>d.id===S);if(!g||g.evolutionStage>=2)return;const M=Sc.find(d=>d.species===g.species);if(!(!M||!M.evolutionRequirements)){if(g.level<M.evolutionRequirements.level){u(` ${M.evolutionRequirements.level} `,"danger");return}h(d=>{const o=d.pets.map(f=>f.id===S?{...f,evolutionStage:f.evolutionStage+1,stats:{attack:Math.floor(f.stats.attack*1.5),defense:Math.floor(f.stats.defense*1.5),hp:Math.floor(f.stats.hp*1.5),speed:Math.floor(f.stats.speed*1.2)}}:f);return u(`${g.name}`,"special"),{...d,pets:o}})}}}}function tb({player:c,setPlayer:h,addLog:u,setLotteryRewards:m}){return{handleDraw:p=>{if(!c||c.lotteryTickets<p){u("","danger");return}const S=[];let g=p===10&&(c.lotteryCount+1)%10===0;for(let d=0;d<p;d++)if(g&&d===p-1){const o=hc.filter(N=>N.rarity!==""),f=o.reduce((N,q)=>N+q.weight,0);let x=Math.random()*f;for(const N of o)if(x-=N.weight,x<=0){S.push(N);break}}else{const o=hc.reduce((x,N)=>x+N.weight,0);let f=Math.random()*o;for(const x of hc)if(f-=x.weight,f<=0){S.push(x);break}}const M=[];h(d=>{let o=[...d.inventory],f=d.spiritStones,x=d.exp,N=[...d.pets],q=d.lotteryTickets;for(const A of S)if(A.type==="spiritStones"){const H=A.value.spiritStones||0;f+=H,M.push({type:"spiritStones",name:"",quantity:H}),u(` ${H} `,"gain")}else if(A.type==="exp"){const H=A.value.exp||0;x+=H,M.push({type:"exp",name:"",quantity:H}),u(` ${H} `,"gain")}else if(A.type==="item"&&A.value.item){const H=A.value.item,$=H.isEquippable&&H.equipmentSlot,V=o.findIndex(T=>T.name===H.name);if(V>=0&&!$)o[V]={...o[V],quantity:o[V].quantity+1};else{let T={...H};if(H.type===v.Artifact&&!H.equipmentSlot){const K=[k.Artifact1,k.Artifact2];T.equipmentSlot=K[Math.floor(Math.random()*K.length)],T.isEquippable=!0}o.push({...T,id:pt(),description:T.description||"",quantity:1})}M.push({type:"item",name:H.name,quantity:1}),u(` ${H.name}`,"gain")}else if(A.type==="pet"&&A.value.petId){const H=Sc.find($=>$.id===A.value.petId);if(H){const $={id:pt(),name:H.name,species:H.species,level:1,exp:0,maxExp:100,rarity:H.rarity,stats:{...H.baseStats},skills:[...H.skills],evolutionStage:0,affection:50};N.push($),M.push({type:"pet",name:H.name,quantity:1}),u(`${H.name}`,"special")}}else if(A.type==="ticket"){const H=A.value.tickets||0;q+=H,M.push({type:"ticket",name:"",quantity:H}),u(` ${H} `,"gain")}return{...d,lotteryTickets:q-p,lotteryCount:d.lotteryCount+p,inventory:o,spiritStones:f,exp:x,pets:N}}),M.length>0&&(m(M),setTimeout(()=>m([]),3e3))}}}function nb({player:c,setPlayer:h,addLog:u}){const m=X.useRef(!1);return{checkAchievements:X.useCallback(()=>{c&&(m.current||(m.current=!0,h(p=>{if(!p)return m.current=!1,p;const S=[...p.achievements];let g=!1,M=p.exp,d=p.spiritStones,o=[...p.inventory],f=p.titleId;if(Es.forEach(x=>{if(S.includes(x.id))return;let N=!1;const q=p.statistics||{killCount:0,meditateCount:0,adventureCount:0,equipCount:0,breakthroughCount:0,secretRealmCount:0};if(x.requirement.type==="realm"){const A=Ae.indexOf(x.requirement.target);N=Ae.indexOf(p.realm)>=A}else if(x.requirement.type==="kill")N=q.killCount>=x.requirement.value;else if(x.requirement.type==="collect")N=new Set(p.inventory.map(H=>H.name)).size>=x.requirement.value;else if(x.requirement.type==="meditate")N=q.meditateCount>=x.requirement.value;else if(x.requirement.type==="adventure")N=q.adventureCount>=x.requirement.value;else if(x.requirement.type==="equip")N=q.equipCount>=x.requirement.value;else if(x.requirement.type==="pet")N=p.pets.length>=x.requirement.value;else if(x.requirement.type==="recipe")N=p.unlockedRecipes.length>=x.requirement.value;else if(x.requirement.type==="art")N=p.cultivationArts.length>=x.requirement.value;else if(x.requirement.type==="breakthrough")N=q.breakthroughCount>=x.requirement.value;else if(x.requirement.type==="secret_realm")N=q.secretRealmCount>=x.requirement.value;else if(x.requirement.type==="lottery")N=(p.lotteryCount||0)>=x.requirement.value;else if(x.requirement.type==="custom"&&x.requirement.target==="meditate")return;N&&(g=!0,S.push(x.id),M+=x.reward.exp||0,d+=x.reward.spiritStones||0,x.reward.items&&x.reward.items.forEach(A=>{const H=o.findIndex($=>$.name===A.name);H>=0?o[H]={...o[H],quantity:o[H].quantity+1}:o.push({...A,id:pt()})}),x.reward.titleId&&(f=x.reward.titleId),u(` ${x.name}`,"special"))}),g&&f&&f!==p.titleId){const x=ba.find(N=>N.id===f);if(x){const N=p.titleId?ba.find(V=>V.id===p.titleId):null;let q=p.attack-((N==null?void 0:N.effects.attack)||0)+(x.effects.attack||0),A=p.defense-((N==null?void 0:N.effects.defense)||0)+(x.effects.defense||0),H=p.maxHp-((N==null?void 0:N.effects.hp)||0)+(x.effects.hp||0),$=p.hp-((N==null?void 0:N.effects.hp)||0)+(x.effects.hp||0);return m.current=!1,{...p,achievements:S,exp:M,spiritStones:d,inventory:o,titleId:f,attack:q,defense:A,maxHp:H,hp:Math.min($,H)}}}return g?(m.current=!1,{...p,achievements:S,exp:M,spiritStones:d,inventory:o,titleId:f||p.titleId}):(m.current=!1,p)})))},[c,h,u])}}function ab(){var Ys;const{hasSave:c,gameStarted:h,player:u,setPlayer:m,settings:E,setSettings:p,logs:S,setLogs:g,handleStartGame:M,setGameStarted:d}=Cy(),[o,f]=X.useState(!0),{visualEffects:x,createAddLog:N,triggerVisual:q}=Ey(),A=N(g),[H,$]=X.useState(!1),[V,T]=X.useState(!1),[K,ie]=X.useState(!1),[te,P]=X.useState(!1),[fe,I]=X.useState(!1),[oe,w]=X.useState(!1),[ae,ne]=X.useState(!1),[J,R]=X.useState(!1),[j,O]=X.useState(!1),[B,ce]=X.useState(!1),[F,y]=X.useState(!1),[C,_]=X.useState(!1),[U,le]=X.useState(null),[re,ue]=X.useState(null),[de,pe]=X.useState(null),[ve,Se]=X.useState([]),[Ye,We]=X.useState(!1),[kt,Dn]=X.useState(!1),[$n,Gl]=X.useState(null),[Yl,ga]=X.useState(!1),[zs,La]=X.useState(0),[gt,Ll]=X.useState(!1),[Le,Qa]=X.useState(0),[Ql,Va]=X.useState(null),[pn,Os]=X.useState(!1),[sn,va]=X.useState(!1),[Mc,Un]=X.useState(!1),[lt,Ft]=X.useState(!1),[ht,Vl]=X.useState(null),[qc,Xl]=X.useState(""),[vt,ja]=X.useState(null),Bn=Yy({battleReplay:$n,setBattleReplay:Gl,setIsBattleModalOpen:ga,setRevealedBattleRounds:La,animationSpeed:E.animationSpeed}),ln=ky({player:u,setPlayer:m,addLog:A,checkLevelUp:()=>{}}),Sa=Gy({player:u,setPlayer:m,addLog:A,setLoading:Ll,loading:gt}),Gn=Ly({setPlayer:m,addLog:A,setItemActionLog:Va}),Na=Qy({player:u,setPlayer:m,addLog:A,setItemActionLog:Va}),Ts=Vy({player:u,setPlayer:m,addLog:A}),_s=Xy({setPlayer:m,addLog:A}),hn=Zy({player:u,setPlayer:m,addLog:A}),Hs=B1({setPlayer:m,addLog:A,currentShop:U,setCurrentShop:le,setIsShopOpen:_,setPurchaseSuccess:pe}),Zl=G1({setSettings:p}),Xa=eb({player:u,setPlayer:m,addLog:A}),Jl=tb({player:u,setPlayer:m,addLog:A,setLotteryRewards:Se}),cn=P1({setPlayer:m,addLog:A,setIsSectOpen:I,setPurchaseSuccess:pe}),Ds=nb({player:u,setPlayer:m,addLog:A}),Kl=F1({player:u,setPlayer:m,addLog:A,triggerVisual:q,setLoading:Ll,setCooldown:Qa,loading:gt,cooldown:Le,onOpenShop:he=>{sn&&(Un(!0),va(!1)),Hs.handleOpenShop(he)},onOpenBattleModal:he=>{ja(he),sn||Bn.openBattleModal(he)},skipBattle:sn}),Il=Bn.handleSkipBattleLogs,rn=Bn.handleCloseBattleModal;X.useEffect(()=>{if(!(!u||lt)&&u.hp<=0){let he=null,Te=null;for(const[xt,yn]of Object.entries(u.equippedItems)){if(!yn)continue;const Bt=u.inventory.find(Ka=>Ka.id===yn);if(Bt&&Bt.reviveChances&&Bt.reviveChances>0){he=Bt,Te=xt;break}}if(he&&Te){m(xt=>{if(!xt)return xt;const yn=xt.inventory.map(Gt=>{if(Gt.id===he.id){const Yt=(Gt.reviveChances||0)-1;return A(` ${Gt.name}${Yt}`,"special"),{...Gt,reviveChances:Yt}}return Gt}),Bt=yn.find(Gt=>Gt.id===he.id),Ka={...xt.equippedItems};Bt&&(!Bt.reviveChances||Bt.reviveChances<=0)&&(delete Ka[Te],A(` ${he.name}`,"danger"));const Rc=Math.max(1,Math.floor(xt.maxHp*.1));return{...xt,inventory:yn,equippedItems:Ka,hp:Rc}});return}Ft(!0),Vl(vt),localStorage.removeItem(Hl),ga(!1);let Ut="";vt&&!vt.victory?Ut=`${vt.enemy.title}${vt.enemy.name}`:vt?Ut=`${vt.enemy.title}${vt.enemy.name}`:Ut="",Xl(Ut),Os(!1),va(!1)}},[u==null?void 0:u.hp,lt,vt,A]);const at=()=>{localStorage.removeItem(Hl),Ft(!1),Vl(null),Xl(""),ja(null),Os(!1),va(!1),m(null),g([]),d(!1)},ft=()=>{gt||Le>0||!u||(ln.handleMeditate(),Qa(1))},Yn=Sa.handleUseInheritance,$s=Gn.handleUseItem,Ac=Gn.handleDiscardItem,wc=he=>{m(Te=>{const Ut=Te.inventory.filter(xt=>!he.includes(xt.id));return A(` ${he.length} `,"normal"),{...Te,inventory:Ut}})},Wl=Na.handleEquipItem,Ma=Na.handleUnequipItem,Us=Na.handleRefineNatalArtifact,Ln=Na.handleUnrefineNatalArtifact,Qn=Ts.handleLearnArt,qa=Ts.handleActivateArt,Vn=_s.handleCraft,Fe=hn.handleSelectTalent,Fl=hn.handleSelectTitle,Pl=hn.handleAllocateAttribute,xn=Hs.handleBuyItem,Xn=Hs.handleSellItem,Cc=he=>{U&&(le({...U,items:he}),m(Te=>({...Te,spiritStones:Te.spiritStones-100})),A("","special"))},ei=Zl.handleUpdateSettings,ti=Xa.handleActivatePet,Ec=Xa.handleFeedPet,Za=Xa.handleEvolvePet,Ja=Jl.handleDraw,Pt=cn.handleJoinSect,jt=cn.handleLeaveSect,ni=cn.handleSafeLeaveSect,kc=cn.handleSectTask,Bs=cn.handleSectPromote,ai=cn.handleSectBuy,Aa=Ds.checkAchievements;X.useEffect(()=>{if(!u)return;const he=setInterval(()=>{m(Te=>{if(!Te)return Te;const Ut=Math.max(1,Math.floor(Te.maxHp*.01));return Te.hp<Te.maxHp?{...Te,hp:Math.min(Te.maxHp,Te.hp+Ut)}:Te}),Qa(Te=>Te>0?Te-1:0)},1e3);return()=>clearInterval(he)},[u]),X.useEffect(()=>{if(!pn||!u||gt||Le>0)return;const he=setTimeout(()=>{if(pn&&!gt&&Le===0&&u){if(gt||Le>0||!u)return;ln.handleMeditate(),Qa(1)}},100);return()=>clearTimeout(he)},[pn,u,gt,Le]),X.useEffect(()=>{if(!sn||!u||gt||Le>0||C)return;const he=setTimeout(()=>{sn&&!gt&&Le===0&&u&&si()},100);return()=>clearTimeout(he)},[sn,u,gt,Le]);const{handleAdventure:si,executeAdventure:St}=Kl,ii=Y1({player:u,setPlayer:m,addLog:A,loading:gt,cooldown:Le,setIsRealmOpen:w,executeAdventure:St}).handleEnterRealm;X.useEffect(()=>{u&&u.exp>=u.maxExp&&Sa.handleBreakthrough()},[u==null?void 0:u.exp,u==null?void 0:u.maxExp]);const Gs=he=>{ue(he),P(!0)},Zn=async(he,Te,Ut,xt=0)=>await Na.handleUpgradeItem(he,Te,Ut,xt)||"success";return X.useEffect(()=>{u&&Aa()},[u==null?void 0:u.realm,u==null?void 0:u.realmLevel,u==null?void 0:u.statistics,u==null?void 0:u.inventory.length,u==null?void 0:u.pets.length,u==null?void 0:u.cultivationArts.length,(Ys=u==null?void 0:u.unlockedRecipes)==null?void 0:Ys.length,u==null?void 0:u.lotteryCount,Aa]),o?s.jsx(gy,{hasSave:c,onStart:()=>f(!1),onContinue:()=>{f(!1)}}):!c&&(!h||!u)?s.jsx(qy,{onStart:M}):c&&!u?s.jsx("div",{className:"fixed inset-0 bg-gradient-to-br from-stone-900 via-stone-800 to-stone-900 flex items-center justify-center z-50",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-mystic-gold mx-auto mb-4"}),s.jsx("p",{className:"text-stone-400 text-lg",children:"..."})]})}):s.jsxs(s.Fragment,{children:[lt&&u&&s.jsx(Ay,{player:u,battleData:ht,deathReason:qc,onRebirth:at}),s.jsx(o1,{player:u,logs:S,visualEffects:x,loading:gt,cooldown:Le,purchaseSuccess:de,lotteryRewards:ve,itemActionLog:Ql,isMobileSidebarOpen:Ye,isMobileStatsOpen:kt,modals:{isInventoryOpen:H,isCultivationOpen:V,isCharacterOpen:ae,isAchievementOpen:J,isPetOpen:j,isLotteryOpen:B,isSettingsOpen:F,isRealmOpen:oe,isAlchemyOpen:K,isSectOpen:fe,setIsMobileSidebarOpen:We,setIsMobileStatsOpen:Dn,setIsInventoryOpen:$,setIsCultivationOpen:T,setIsCharacterOpen:ne,setIsAchievementOpen:R,setIsPetOpen:O,setIsLotteryOpen:ce,setIsSettingsOpen:y,setIsRealmOpen:w,setIsAlchemyOpen:ie,setIsSectOpen:I},handlers:{onMeditate:ft,onAdventure:si,onOpenRealm:()=>w(!0),onOpenAlchemy:()=>ie(!0),onOpenSect:()=>I(!0),onOpenMenu:()=>We(!0),onOpenCultivation:()=>T(!0),onOpenInventory:()=>$(!0),onOpenCharacter:()=>ne(!0),onOpenAchievement:()=>{R(!0),m(he=>({...he,viewedAchievements:[...he.achievements]}))},onOpenPet:()=>O(!0),onOpenLottery:()=>ce(!0),onOpenSettings:()=>y(!0),onOpenStats:()=>Dn(!0),onUpdateViewedAchievements:()=>{m(he=>({...he,viewedAchievements:[...he.achievements]}))},autoMeditate:pn,autoAdventure:sn,onToggleAutoMeditate:()=>Os(he=>!he),onToggleAutoAdventure:()=>va(he=>!he)}}),s.jsx(U1,{player:u,settings:E,setItemActionLog:Va,modals:{isInventoryOpen:H,isCultivationOpen:V,isAlchemyOpen:K,isUpgradeOpen:te,isSectOpen:fe,isRealmOpen:oe,isCharacterOpen:ae,isAchievementOpen:J,isPetOpen:j,isLotteryOpen:B,isSettingsOpen:F,isShopOpen:C,isBattleModalOpen:Yl&&!lt},modalState:{currentShop:U,itemToUpgrade:re,battleReplay:$n,revealedBattleRounds:zs},handlers:{setIsInventoryOpen:he=>$(he),setIsCultivationOpen:he=>T(he),setIsAlchemyOpen:he=>ie(he),setIsUpgradeOpen:he=>{P(he),he||ue(null)},setIsSectOpen:he=>I(he),setIsRealmOpen:he=>w(he),setIsCharacterOpen:he=>ne(he),setIsAchievementOpen:he=>R(he),setIsPetOpen:he=>O(he),setIsLotteryOpen:he=>ce(he),setIsSettingsOpen:he=>y(he),setIsShopOpen:he=>{_(he),he||(le(null),Mc&&(Un(!1),va(!0)))},setIsBattleModalOpen:he=>ga(he),setItemToUpgrade:ue,setCurrentShop:le,setBattleReplay:Gl,setRevealedBattleRounds:La,handleSkipBattleLogs:Il,handleCloseBattleModal:rn,handleUseItem:$s,handleEquipItem:Wl,handleUnequipItem:Ma,handleOpenUpgrade:Gs,handleDiscardItem:Ac,handleBatchDiscard:wc,handleRefineNatalArtifact:Us,handleUnrefineNatalArtifact:Ln,handleUpgradeItem:Zn,handleLearnArt:Qn,handleActivateArt:qa,handleCraft:Vn,handleJoinSect:Pt,handleLeaveSect:jt,handleSafeLeaveSect:ni,handleSectTask:kc,handleSectPromote:Bs,handleSectBuy:ai,handleEnterRealm:ii,handleSelectTalent:Fe,handleSelectTitle:Fl,handleAllocateAttribute:Pl,handleUseInheritance:Yn,handleUpdateViewedAchievements:()=>{m(he=>({...he,viewedAchievements:[...he.achievements]}))},handleActivatePet:ti,handleFeedPet:Ec,handleEvolvePet:Za,handleDraw:Ja,handleUpdateSettings:ei,handleBuyItem:xn,handleSellItem:Xn,handleRefreshShop:Cc}})]})}const wm=document.getElementById("root");if(!wm)throw new Error("Could not find root element to mount to");const sb=Bh.createRoot(wm);sb.render(s.jsx(Wt.StrictMode,{children:s.jsx(ab,{})}));
